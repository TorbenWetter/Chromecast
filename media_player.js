var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

// Copyright Google Inc. All Rights Reserved.
(function() { /*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var k,aa=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}},ba="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a},ca=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");
},da=ca(this),ea=function(a,b){if(b)a:{var c=da;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ba(c,a,{configurable:!0,writable:!0,value:b})}};
ea("Symbol",function(a){if(a)return a;var b=function(f,g){this.vm=f;ba(this,"description",{configurable:!0,writable:!0,value:g})};b.prototype.toString=function(){return this.vm};var c="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",d=0,e=function(f){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new b(c+(f||"")+"_"+d++,f)};return e});
ea("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=da[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&ba(d.prototype,a,{configurable:!0,writable:!0,value:function(){return fa(aa(this))}})}return a});
var fa=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a},n=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}},ha=function(a){if(!(a instanceof Array)){a=n(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a},ia="function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b},ka;
if("function"==typeof Object.setPrototypeOf)ka=Object.setPrototypeOf;else{var la;a:{var ma={a:!0},na={};try{na.__proto__=ma;la=na.a;break a}catch(a){}la=!1}ka=la?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}
var oa=ka,q=function(a,b){a.prototype=ia(b.prototype);a.prototype.constructor=a;if(oa)oa(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.qe=b.prototype},pa=pa||{},r=this||self,qa=function(a){a.Pi=void 0;a.Ci=function(){return a.Pi?a.Pi:a.Pi=new a}},ra=function(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"},sa=function(a){var b=ra(a);return"array"==b||"object"==
b&&"number"==typeof a.length},ta=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},ua=function(a,b,c){return a.call.apply(a.bind,arguments)},va=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}},wa=function(a,b,c){wa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?
ua:va;return wa.apply(null,arguments)},t=function(a,b){a=a.split(".");var c=r;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b},xa=function(a,b){function c(){}c.prototype=b.prototype;a.qe=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.qo=function(d,e,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[e].apply(d,
g)}},za=function(a){return a};var Aa=r.cast||{},cast=null;function Ba(){return!(!Aa.__platform__||!Aa.__platform__.metrics)}function Ca(a,b){Ba()&&Aa.__platform__.metrics.logBoolToUma(a,b)}function Da(a){Ba()&&Aa.__platform__.metrics.logEventToUma(a)}function v(a,b){Ba()&&Aa.__platform__.metrics.logIntToUma(a,b)};function Ea(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Ea);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}xa(Ea,Error);Ea.prototype.name="CustomError";function Fa(a,b){a=a.split("%s");for(var c="",d=a.length-1,e=0;e<d;e++)c+=a[e]+(e<b.length?b[e]:"%s");Ea.call(this,c+a[d])}xa(Fa,Ea);Fa.prototype.name="AssertionError";var Ga=function(a,b){throw new Fa("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var Ha=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ia=Array.prototype.lastIndexOf?function(a,b){return Array.prototype.lastIndexOf.call(a,b,a.length-1)}:function(a,b){var c=a.length-1;0>c&&(c=Math.max(0,a.length+c));if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.lastIndexOf(b,c);
for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1};function Ja(a,b){b=Ha(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c}function Ka(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};var La=function(a,b){this.ln=100;this.Mm=a;this.On=b;this.$g=0;this.Fg=null};La.prototype.get=function(){if(0<this.$g){this.$g--;var a=this.Fg;this.Fg=a.next;a.next=null}else a=this.Mm();return a};La.prototype.put=function(a){this.On(a);this.$g<this.ln&&(this.$g++,a.next=this.Fg,this.Fg=a)};var Na=function(a,b){return 0==Ma(b,a.slice(0,b.length))},Oa=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},Ma=function(a,b){a=String(a).toLowerCase();b=String(b).toLowerCase();return a<b?-1:a==b?0:1},Pa=function(a,b){return a<b?-1:a>b?1:0};function Qa(){var a=r.navigator;return a&&(a=a.userAgent)?a:""}function Ra(a){return-1!=Qa().indexOf(a)};var Sa=function(a){Sa[" "](a);return a};Sa[" "]=function(){};var Ua=function(a){var b=Ta;return Object.prototype.hasOwnProperty.call(b,9)?b[9]:b[9]=a(9)};var Va=Ra("Opera"),Wa=Ra("Trident")||Ra("MSIE"),Xa=Ra("Edge"),Ya=Ra("Gecko")&&!(-1!=Qa().toLowerCase().indexOf("webkit")&&!Ra("Edge"))&&!(Ra("Trident")||Ra("MSIE"))&&!Ra("Edge"),Za=-1!=Qa().toLowerCase().indexOf("webkit")&&!Ra("Edge"),$a;
a:{var ab="",bb=function(){var a=Qa();if(Ya)return/rv:([^\);]+)(\)|;)/.exec(a);if(Xa)return/Edge\/([\d\.]+)/.exec(a);if(Wa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Za)return/WebKit\/(\S+)/.exec(a);if(Va)return/(?:Version)[ \/]?(\S+)/.exec(a)}();bb&&(ab=bb?bb[1]:"");if(Wa){var cb,db=r.document;cb=db?db.documentMode:void 0;if(null!=cb&&cb>parseFloat(ab)){$a=String(cb);break a}}$a=ab}
var eb=$a,Ta={},fb=function(){return Ua(function(){for(var a=0,b=Oa(String(eb)).split("."),c=Oa("9").split("."),d=Math.max(b.length,c.length),e=0;0==a&&e<d;e++){var f=b[e]||"",g=c[e]||"";do{f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""];g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""];if(0==f[0].length&&0==g[0].length)break;a=Pa(0==f[1].length?0:parseInt(f[1],10),0==g[1].length?0:parseInt(g[1],10))||Pa(0==f[2].length,0==g[2].length)||Pa(f[2],g[2]);f=f[3];g=g[3]}while(0==a)}return 0<=a})};var gb=function(){};function hb(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}function ib(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function jb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function kb(a){var b={},c;for(c in a)b[c]=a[c];return b}
function lb(a){if(!a||"object"!==typeof a)return a;if("function"===typeof a.clone)return a.clone();if("undefined"!==typeof Map&&a instanceof Map)return new Map(a);if("undefined"!==typeof Set&&a instanceof Set)return new Set(a);var b=Array.isArray(a)?[]:"function"!==typeof ArrayBuffer||"function"!==typeof ArrayBuffer.isView||!ArrayBuffer.isView(a)||a instanceof DataView?{}:new a.constructor(a.length),c;for(c in a)b[c]=lb(a[c]);return b}var mb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function nb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<mb.length;f++)c=mb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var ob;var pb={},qb=function(a,b){this.Ul=b===pb?a:""};qb.prototype.toString=function(){return this.Ul.toString()};var rb=function(a){if(a instanceof qb&&a.constructor===qb)return a.Ul;Ga("expected object of type SafeStyle, got '"+a+"' of type "+ra(a));return"type_error:SafeStyle"},sb=new qb("",pb);var tb={},ub=function(a,b,c){this.Tl=c===tb?a:""};ub.prototype.toString=function(){return this.Tl.toString()};var vb=function(a){if(void 0===ob){var b=null;var c=r.trustedTypes;if(c&&c.createPolicy)try{b=c.createPolicy("goog#html",{createHTML:za,createScript:za,createScriptURL:za})}catch(d){r.console&&r.console.error(d.message)}ob=b}a=(b=ob)?b.createHTML(a):a;return new ub(a,null,tb)};var wb=function(a){var b=document;a=String(a);"application/xhtml+xml"===b.contentType&&(a=a.toLowerCase());return b.createElement(a)};var xb,yb=function(){var a=r.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!Ra("Presto")&&(a=function(){var e=wb("IFRAME");e.style.display="none";document.documentElement.appendChild(e);var f=e.contentWindow;e=f.document;e.open();e.close();var g="callImmediate"+Math.random(),h="file:"==f.location.protocol?"*":f.location.protocol+"//"+f.location.host;e=wa(function(l){if(("*"==h||l.origin==h)&&l.data==g)this.port1.onmessage()},this);
f.addEventListener("message",e,!1);this.port1={};this.port2={postMessage:function(){f.postMessage(g,h)}}});if("undefined"!==typeof a&&!Ra("Trident")&&!Ra("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var e=c.zk;c.zk=null;e()}};return function(e){d.next={zk:e};d=d.next;b.port2.postMessage(0)}}return function(e){r.setTimeout(e,0)}};function zb(a){r.setTimeout(function(){throw a;},0)};var Ab=function(){this.Mh=this.Ce=null};Ab.prototype.add=function(a,b){var c=Bb.get();c.set(a,b);this.Mh?this.Mh.next=c:this.Ce=c;this.Mh=c};Ab.prototype.remove=function(){var a=null;this.Ce&&(a=this.Ce,this.Ce=this.Ce.next,this.Ce||(this.Mh=null),a.next=null);return a};var Bb=new La(function(){return new Cb},function(a){return a.reset()}),Cb=function(){this.next=this.scope=this.Vd=null};Cb.prototype.set=function(a,b){this.Vd=a;this.scope=b;this.next=null};
Cb.prototype.reset=function(){this.next=this.scope=this.Vd=null};var Hb=function(a,b){Db||Eb();Fb||(Db(),Fb=!0);Gb.add(a,b)},Db,Eb=function(){if(r.Promise&&r.Promise.resolve){var a=r.Promise.resolve(void 0);Db=function(){a.then(Ib)}}else Db=function(){var b=Ib;"function"!==typeof r.setImmediate||r.Window&&r.Window.prototype&&!Ra("Edge")&&r.Window.prototype.setImmediate==r.setImmediate?(xb||(xb=yb()),xb(b)):r.setImmediate(b)}},Fb=!1,Gb=new Ab,Ib=function(){for(var a;a=Gb.remove();){try{a.Vd.call(a.scope)}catch(b){zb(b)}Bb.put(a)}Fb=!1};var Jb=Object.freeze||function(a){return a};var w=function(){this.Le=this.Le;this.ah=this.ah};w.prototype.Le=!1;w.prototype.N=function(){this.Le||(this.Le=!0,this.M())};w.prototype.M=function(){if(this.ah)for(;this.ah.length;)this.ah.shift()()};var Kb=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Df=!1};Kb.prototype.stopPropagation=function(){this.Df=!0};Kb.prototype.preventDefault=function(){this.defaultPrevented=!0};var Lb=function(){if(!r.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{r.addEventListener("test",function(){},b),r.removeEventListener("test",function(){},b)}catch(c){}return a}();var Mb=function(a,b){Kb.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.Zc=null;a&&this.ta(a,b)};xa(Mb,Kb);var Nb=Jb({2:"touch",3:"pen",4:"mouse"});
Mb.prototype.ta=function(a,b){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(Ya){a:{try{Sa(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=
d.screenY||0):(this.offsetX=Za||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=Za||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=
a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:Nb[a.pointerType]||"";this.state=a.state;this.Zc=a;a.defaultPrevented&&Mb.qe.preventDefault.call(this)};Mb.prototype.stopPropagation=function(){Mb.qe.stopPropagation.call(this);this.Zc.stopPropagation?this.Zc.stopPropagation():this.Zc.cancelBubble=!0};Mb.prototype.preventDefault=function(){Mb.qe.preventDefault.call(this);var a=this.Zc;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ob="closure_listenable_"+(1E6*Math.random()|0);var Pb=0;var Qb=function(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.Eg=e;this.key=++Pb;this.Kf=this.dg=!1},Rb=function(a){a.Kf=!0;a.listener=null;a.proxy=null;a.src=null;a.Eg=null};var Sb=function(a){this.src=a;this.Ja={};this.Vf=0};Sb.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.Ja[f];a||(a=this.Ja[f]=[],this.Vf++);var g=Tb(a,b,d,e);-1<g?(b=a[g],c||(b.dg=!1)):(b=new Qb(b,this.src,f,!!d,e),b.dg=c,a.push(b));return b};Sb.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.Ja))return!1;var e=this.Ja[a];b=Tb(e,b,c,d);return-1<b?(Rb(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.Ja[a],this.Vf--),!0):!1};
var Ub=function(a,b){var c=b.type;c in a.Ja&&Ja(a.Ja[c],b)&&(Rb(b),0==a.Ja[c].length&&(delete a.Ja[c],a.Vf--))};Sb.prototype.Di=function(a,b,c,d){a=this.Ja[a.toString()];var e=-1;a&&(e=Tb(a,b,c,d));return-1<e?a[e]:null};Sb.prototype.hasListener=function(a,b){var c=void 0!==a,d=c?a.toString():"",e=void 0!==b;return hb(this.Ja,function(f){for(var g=0;g<f.length;++g)if(!(c&&f[g].type!=d||e&&f[g].capture!=b))return!0;return!1})};
var Tb=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Kf&&f.listener==b&&f.capture==!!c&&f.Eg==d)return e}return-1};var Vb="closure_lm_"+(1E6*Math.random()|0),Wb={},Xb=0,x=function(a,b,c,d,e){if(d&&d.once)Yb(a,b,c,d,e);else if(Array.isArray(b))for(var f=0;f<b.length;f++)x(a,b[f],c,d,e);else c=Zb(c),a&&a[Ob]?a.Gb.add(String(b),c,!1,ta(d)?!!d.capture:!!d,e):$b(a,b,c,!1,d,e)},$b=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=ta(e)?!!e.capture:!!e,h=ac(a);h||(a[Vb]=h=new Sb(a));c=h.add(b,c,d,g,f);if(!c.proxy){d=bc();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)Lb||(e=g),void 0===e&&(e=
!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(cc(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");Xb++}},bc=function(){var a=dc,b=function(c){return a.call(b.src,b.listener,c)};return b},Yb=function(a,b,c,d,e){if(Array.isArray(b))for(var f=0;f<b.length;f++)Yb(a,b[f],c,d,e);else c=Zb(c),a&&a[Ob]?a.Gb.add(String(b),c,!0,ta(d)?!!d.capture:!!d,e):$b(a,b,c,!0,d,e)},y=function(a,
b,c,d,e){if(Array.isArray(b))for(var f=0;f<b.length;f++)y(a,b[f],c,d,e);else d=ta(d)?!!d.capture:!!d,c=Zb(c),a&&a[Ob]?a.Gb.remove(String(b),c,d,e):a&&(a=ac(a))&&(b=a.Di(b,c,d,e))&&ec(b)},ec=function(a){if("number"!==typeof a&&a&&!a.Kf){var b=a.src;if(b&&b[Ob])Ub(b.Gb,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(cc(c),d):b.addListener&&b.removeListener&&b.removeListener(d);Xb--;(c=ac(b))?(Ub(c,a),0==c.Vf&&(c.src=null,b[Vb]=null)):
Rb(a)}}},cc=function(a){return a in Wb?Wb[a]:Wb[a]="on"+a},dc=function(a,b){if(a.Kf)a=!0;else{b=new Mb(b,this);var c=a.listener,d=a.Eg||a.src;a.dg&&ec(a);a=c.call(d,b)}return a},ac=function(a){a=a[Vb];return a instanceof Sb?a:null},fc="__closure_events_fn_"+(1E9*Math.random()>>>0),Zb=function(a){if("function"===typeof a)return a;a[fc]||(a[fc]=function(b){return a.handleEvent(b)});return a[fc]};var gc=function(){w.call(this);this.Gb=new Sb(this);this.ym=this;this.wj=null};xa(gc,w);gc.prototype[Ob]=!0;gc.prototype.addEventListener=function(a,b,c,d){x(this,a,b,c,d)};gc.prototype.removeEventListener=function(a,b,c,d){y(this,a,b,c,d)};
gc.prototype.dispatchEvent=function(a){var b,c=this.wj;if(c)for(b=[];c;c=c.wj)b.push(c);c=this.ym;var d=a.type||a;if("string"===typeof a)a=new Kb(a,c);else if(a instanceof Kb)a.target=a.target||c;else{var e=a;a=new Kb(d,c);nb(a,e)}e=!0;if(b)for(var f=b.length-1;!a.Df&&0<=f;f--){var g=a.currentTarget=b[f];e=ic(g,d,!0,a)&&e}a.Df||(g=a.currentTarget=c,e=ic(g,d,!0,a)&&e,a.Df||(e=ic(g,d,!1,a)&&e));if(b)for(f=0;!a.Df&&f<b.length;f++)g=a.currentTarget=b[f],e=ic(g,d,!1,a)&&e;return e};
gc.prototype.M=function(){gc.qe.M.call(this);if(this.Gb){var a=this.Gb,b=0,c;for(c in a.Ja){for(var d=a.Ja[c],e=0;e<d.length;e++)++b,Rb(d[e]);delete a.Ja[c];a.Vf--}}this.wj=null};var ic=function(a,b,c,d){b=a.Gb.Ja[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.Kf&&g.capture==c){var h=g.listener,l=g.Eg||g.src;g.dg&&Ub(a.Gb,g);e=!1!==h.call(l,d)&&e}}return e&&!d.defaultPrevented};gc.prototype.Di=function(a,b,c,d){return this.Gb.Di(String(a),b,c,d)};
gc.prototype.hasListener=function(a,b){return this.Gb.hasListener(void 0!==a?String(a):void 0,b)};var jc=function(a,b){this.name=a;this.value=b};jc.prototype.toString=function(){return this.name};var kc=new jc("OFF",Infinity),lc=new jc("SEVERE",1E3),mc=new jc("WARNING",900),nc=new jc("INFO",800),oc=new jc("CONFIG",700),pc=new jc("FINE",500),qc=[kc,new jc("SHOUT",1200),lc,mc,nc,oc,pc,new jc("FINER",400),new jc("FINEST",300),new jc("ALL",0)],rc=null,sc=function(){this.eg=0;this.clear()},tc;sc.prototype.clear=function(){this.da=Array(this.eg);this.Ik=-1;this.hl=!1};
var uc=function(a,b,c){this.qg=void 0;this.reset(a||kc,b,c,void 0,void 0)};uc.prototype.reset=function(a,b,c,d,e){this.se=d||Date.now();this.sl=a;this.rn=b;this.ul=c;this.qg=void 0;this.ud="number"===typeof e?e:vc};
var vc=0,wc=function(a,b){this.level=null;this.Xk=[];this.parent=(void 0===b?null:b)||null;this.children=[];this.dj={Ia:function(){return a}}},xc=function(a){if(a.level)return a.level;if(a.parent)return xc(a.parent);Ga("Root logger has no level set.");return kc},yc=function(a,b){for(;a;)a.Xk.forEach(function(c){c(b)}),a=a.parent},zc=function(){this.entries={};var a=new wc("");a.level=oc;this.entries[""]=a},Ac,Bc=function(a,b){var c=a.entries[b];if(c)return c;c=Bc(a,b.slice(0,Math.max(b.lastIndexOf("."),
0)));var d=new wc(b,c);a.entries[b]=d;c.children.push(d);return d},Cc=function(){Ac||(Ac=new zc);return Ac},z=function(a){return Bc(Cc(),a).dj},Dc=function(a,b,c){var d;if(d=a)if(d=a&&b){d=b.value;var e=a?xc(Bc(Cc(),a.Ia())):kc;d=d>=e.value}if(d){b=b||kc;d=Bc(Cc(),a.Ia());"function"===typeof c&&(c=c());tc||(tc=new sc);e=tc;a=a.Ia();if(0<e.eg){var f=(e.Ik+1)%e.eg;e.Ik=f;e.hl?(e=e.da[f],e.reset(b,c,a),a=e):(e.hl=f==e.eg-1,a=e.da[f]=new uc(b,c,a))}else a=new uc(b,c,a);a.qg=void 0;yc(d,a)}},Ec=function(a,
b){a&&Dc(a,lc,b)},A=function(a,b){a&&Dc(a,mc,b)},C=function(a,b){a&&Dc(a,nc,b)},Fc=function(a,b){a&&Dc(a,pc,b)};var Gc=function(){};Gc.prototype.wk=null;var Ic=function(a){var b;(b=a.wk)||(b={},Hc(a)&&(b[0]=!0,b[1]=!0),b=a.wk=b);return b};var Jc,Kc=function(){};xa(Kc,Gc);var Lc=function(a){return(a=Hc(a))?new ActiveXObject(a):new XMLHttpRequest},Hc=function(a){if(!a.bl&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.bl=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.bl};Jc=new Kc;var Oc=function(a){this.l=0;this.Yl=void 0;this.Jd=this.vc=this.pd=null;this.Dg=this.vi=!1;if(a!=gb)try{var b=this;a.call(void 0,function(c){Mc(b,2,c)},function(c){if(!(c instanceof Nc))try{if(c instanceof Error)throw c;throw Error("Promise rejected.");}catch(d){}Mc(b,3,c)})}catch(c){Mc(this,3,c)}},Pc=function(){this.next=this.context=this.ge=this.sf=this.Yc=null;this.$f=!1};Pc.prototype.reset=function(){this.context=this.ge=this.sf=this.Yc=null;this.$f=!1};
var Qc=new La(function(){return new Pc},function(a){a.reset()}),Rc=function(a,b,c){var d=Qc.get();d.sf=a;d.ge=b;d.context=c;return d};Oc.prototype.then=function(a,b,c){return Sc(this,"function"===typeof a?a:null,"function"===typeof b?b:null,c)};Oc.prototype.$goog_Thenable=!0;Oc.prototype.fo=function(a,b){return Sc(this,null,a,b)};Oc.prototype.catch=Oc.prototype.fo;Oc.prototype.cancel=function(a){if(0==this.l){var b=new Nc(a);Hb(function(){Tc(this,b)},this)}};
var Tc=function(a,b){if(0==a.l)if(a.pd){var c=a.pd;if(c.vc){for(var d=0,e=null,f=null,g=c.vc;g&&(g.$f||(d++,g.Yc==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(0==c.l&&1==d?Tc(c,b):(f?(d=f,d.next==c.Jd&&(c.Jd=d),d.next=d.next.next):Uc(c),Vc(c,e,3,b)))}a.pd=null}else Mc(a,3,b)},Xc=function(a,b){a.vc||2!=a.l&&3!=a.l||Wc(a);a.Jd?a.Jd.next=b:a.vc=b;a.Jd=b},Sc=function(a,b,c,d){var e=Rc(null,null,null);e.Yc=new Oc(function(f,g){e.sf=b?function(h){try{var l=b.call(d,h);f(l)}catch(m){g(m)}}:f;e.ge=c?function(h){try{var l=
c.call(d,h);void 0===l&&h instanceof Nc?g(h):f(l)}catch(m){g(m)}}:g});e.Yc.pd=a;Xc(a,e);return e.Yc};Oc.prototype.ho=function(a){this.l=0;Mc(this,2,a)};Oc.prototype.io=function(a){this.l=0;Mc(this,3,a)};
var Mc=function(a,b,c){if(0==a.l){a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself"));a.l=1;a:{var d=c,e=a.ho,f=a.io;if(d instanceof Oc){Xc(d,Rc(e||gb,f||null,a));var g=!0}else{if(d)try{var h=!!d.$goog_Thenable}catch(m){h=!1}else h=!1;if(h)d.then(e,f,a),g=!0;else{if(ta(d))try{var l=d.then;if("function"===typeof l){Yc(d,l,e,f,a);g=!0;break a}}catch(m){f.call(a,m);g=!0;break a}g=!1}}}g||(a.Yl=c,a.l=b,a.pd=null,Wc(a),3!=b||c instanceof Nc||Zc(a,c))}},Yc=function(a,b,c,d,e){var f=!1,g=function(l){f||
(f=!0,c.call(e,l))},h=function(l){f||(f=!0,d.call(e,l))};try{b.call(a,g,h)}catch(l){h(l)}},Wc=function(a){a.vi||(a.vi=!0,Hb(a.Vm,a))},Uc=function(a){var b=null;a.vc&&(b=a.vc,a.vc=b.next,b.next=null);a.vc||(a.Jd=null);return b};Oc.prototype.Vm=function(){for(var a;a=Uc(this);)Vc(this,a,this.l,this.Yl);this.vi=!1};
var Vc=function(a,b,c,d){if(3==c&&b.ge&&!b.$f)for(;a&&a.Dg;a=a.pd)a.Dg=!1;if(b.Yc)b.Yc.pd=null,$c(b,c,d);else try{b.$f?b.sf.call(b.context):$c(b,c,d)}catch(e){ad.call(null,e)}Qc.put(b)},$c=function(a,b,c){2==b?a.sf.call(a.context,c):a.ge&&a.ge.call(a.context,c)},Zc=function(a,b){a.Dg=!0;Hb(function(){a.Dg&&ad.call(null,b)})},ad=zb,Nc=function(a){Ea.call(this,a)};xa(Nc,Ea);Nc.prototype.name="cancel";var bd=function(a,b,c){if("function"===typeof a)c&&(a=wa(a,c));else if(a&&"function"==typeof a.handleEvent)a=wa(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:r.setTimeout(a,b||0)};var cd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$"),dd=function(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}};var E=function(a){gc.call(this);this.headers=new Map;this.Rh=a||null;this.uc=!1;this.Qh=this.C=null;this.rl=this.lf="";this.ac=0;this.gf="";this.bd=this.Mi=this.Hg=this.ti=!1;this.pc=0;this.Aa=null;this.Mf="";this.Kh=this.Jn=this.Be=!1;this.dk=null};xa(E,gc);E.prototype.wa=z("goog.net.XhrIo");var ed=/^https?$/i,fd=["POST","PUT"],gd=function(a){a.Mf="arraybuffer"};E.prototype.setTrustToken=function(a){this.dk=a};
E.prototype.send=function(a,b,c,d){if(this.C)throw Error("[goog.net.XhrIo] Object is active with another request="+this.lf+"; newUri="+a);b=b?b.toUpperCase():"GET";this.lf=a;this.gf="";this.ac=0;this.rl=b;this.ti=!1;this.uc=!0;this.C=this.ni();this.Qh=this.Rh?Ic(this.Rh):Ic(Jc);this.C.onreadystatechange=wa(this.Kl,this);this.Jn&&"onprogress"in this.C&&(this.C.onprogress=wa(function(g){this.Il(g,!0)},this),this.C.upload&&(this.C.upload.onprogress=wa(this.Il,this)));try{Fc(this.wa,hd(this,"Opening Xhr")),
this.Mi=!0,this.C.open(b,String(a),!0),this.Mi=!1}catch(g){Fc(this.wa,hd(this,"Error opening Xhr: "+g.message));id(this,g);return}a=c||"";c=new Map(this.headers);if(d)if(Object.getPrototypeOf(d)===Object.prototype)for(var e in d)c.set(e,d[e]);else if("function"===typeof d.keys&&"function"===typeof d.get){e=n(d.keys());for(var f=e.next();!f.done;f=e.next())f=f.value,c.set(f,d.get(f))}else throw Error("Unknown input type for opt_headers: "+String(d));d=Array.from(c.keys()).find(function(g){return"content-type"==
g.toLowerCase()});e=r.FormData&&a instanceof r.FormData;!(0<=Ha(fd,b))||d||e||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");b=n(c);for(d=b.next();!d.done;d=b.next())c=n(d.value),d=c.next().value,c=c.next().value,this.C.setRequestHeader(d,c);this.Mf&&(this.C.responseType=this.Mf);"withCredentials"in this.C&&this.C.withCredentials!==this.Be&&(this.C.withCredentials=this.Be);if("setTrustToken"in this.C&&this.dk)try{this.C.setTrustToken(this.dk)}catch(g){Fc(this.wa,hd(this,"Error SetTrustToken: "+
g.message))}try{jd(this),0<this.pc&&(this.Kh=kd(this.C),Fc(this.wa,hd(this,"Will abort after "+this.pc+"ms if incomplete, xhr2 "+this.Kh)),this.Kh?(this.C.timeout=this.pc,this.C.ontimeout=wa(this.nm,this)):this.Aa=bd(this.nm,this.pc,this)),Fc(this.wa,hd(this,"Sending request")),this.Hg=!0,this.C.send(a),this.Hg=!1}catch(g){Fc(this.wa,hd(this,"Send error: "+g.message)),id(this,g)}};var kd=function(a){return Wa&&fb()&&"number"===typeof a.timeout&&void 0!==a.ontimeout};
E.prototype.ni=function(){return this.Rh?Lc(this.Rh):Lc(Jc)};E.prototype.nm=function(){"undefined"!=typeof pa&&this.C&&(this.gf="Timed out after "+this.pc+"ms, aborting",this.ac=8,Fc(this.wa,hd(this,this.gf)),this.dispatchEvent("timeout"),this.abort(8))};var id=function(a,b){a.uc=!1;a.C&&(a.bd=!0,a.C.abort(),a.bd=!1);a.gf=b;a.ac=5;ld(a);md(a)},ld=function(a){a.ti||(a.ti=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))};
E.prototype.abort=function(a){this.C&&this.uc&&(Fc(this.wa,hd(this,"Aborting")),this.uc=!1,this.bd=!0,this.C.abort(),this.bd=!1,this.ac=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),md(this))};E.prototype.M=function(){this.C&&(this.uc&&(this.uc=!1,this.bd=!0,this.C.abort(),this.bd=!1),md(this,!0));E.qe.M.call(this)};E.prototype.Kl=function(){this.Le||(this.Mi||this.Hg||this.bd?nd(this):this.yn())};E.prototype.yn=function(){nd(this)};
var nd=function(a){if(a.uc&&"undefined"!=typeof pa)if(a.Qh[1]&&4==od(a)&&2==pd(a))Fc(a.wa,hd(a,"Local request error detected and ignored"));else if(a.Hg&&4==od(a))bd(a.Kl,0,a);else if(a.dispatchEvent("readystatechange"),4==od(a)){Fc(a.wa,hd(a,"Request complete"));a.uc=!1;try{var b=pd(a);a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break a;default:c=!1}var d;if(!(d=c)){var e;if(e=0===b){var f=String(a.lf).match(cd)[1]||null;!f&&r.self&&r.self.location&&(f=r.self.location.protocol.slice(0,
-1));e=!ed.test(f?f.toLowerCase():"")}d=e}if(d)a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.ac=6;try{var g=2<od(a)?a.C.statusText:""}catch(h){Fc(a.wa,"Can not get status: "+h.message),g=""}a.gf=g+" ["+pd(a)+"]";ld(a)}}finally{md(a)}}};E.prototype.Il=function(a,b){this.dispatchEvent(qd(a,"progress"));this.dispatchEvent(qd(a,b?"downloadprogress":"uploadprogress"))};
var qd=function(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}},md=function(a,b){if(a.C){jd(a);var c=a.C,d=a.Qh[0]?function(){}:null;a.C=null;a.Qh=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){Ec(a.wa,"Problem encountered resetting onreadystatechange: "+e.message)}}},jd=function(a){a.C&&a.Kh&&(a.C.ontimeout=null);a.Aa&&(r.clearTimeout(a.Aa),a.Aa=null)};E.prototype.We=function(){return!!this.C};
var od=function(a){return a.C?a.C.readyState:0},pd=function(a){try{return 2<od(a)?a.C.status:-1}catch(b){return-1}},rd=function(a){try{if(!a.C)return null;if("response"in a.C)return a.C.response;switch(a.Mf){case "":case "text":return a.C.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.C)return a.C.mozResponseArrayBuffer}Ec(a.wa,"Response type "+a.Mf+" is not supported on this browser");return null}catch(b){return Fc(a.wa,"Can not get response: "+b.message),null}};
E.prototype.getResponseHeader=function(a){if(this.C&&4==od(this))return a=this.C.getResponseHeader(a),null===a?void 0:a};E.prototype.getAllResponseHeaders=function(){return this.C&&2<=od(this)?this.C.getAllResponseHeaders()||"":""};var hd=function(a,b){return b+" ["+a.rl+" "+a.lf+" "+pd(a)+"]"};var sd=function(a){return Na(a,"audio/")},td=function(a){return Na(a,"video/")},ud=function(a){a=a.toLowerCase();return!a.includes(",")&&!!a.match(/^(mhm|mp4a|[ae]c-3)/)},vd=RegExp("dv(he|av).[s|d|p][e|t|w][n|r|h|b][a|h]?[e|t|w]?"),wd=function(a){var b=void 0===a.codecs?null:a.codecs,c=void 0===a.width?null:a.width,d=void 0===a.height?null:a.height,e=void 0===a.framerate?null:a.framerate;a=""+(void 0===a.mimeType?"":a.mimeType);b&&(a+="; codecs="+b);c&&d&&(a+="; width="+c+"; height="+d);e&&(a+="; framerate="+
e);if(c=b)a:for(c=!1,b=b.split(","),d=0;d<b.length;d++){if(b[d].match(vd)){c=!1;break a}0===b[d].indexOf("hev1.2")&&(c=!0)}c&&(a+="; eotf=smpte2084");return a},xd=function(a){if(!a)return 100;switch(a.code){case MediaError.MEDIA_ERR_ABORTED:return 101;case MediaError.MEDIA_ERR_NETWORK:return 103;case MediaError.MEDIA_ERR_DECODE:return 102;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:return 104;default:return 100}};var F={},yd=(F["application/ttml+xml"]=1,F["text/vtt"]=2,F["text/mp4"]=3,F["audio/mp4"]=4,F["video/mp4"]=5,F["video/mp2t"]=6,F["audio/webm"]=7,F["video/webm"]=8,F["application/x-mpegurl"]=9,F["application/vnd.apple.mpegurl"]=10,F["application/dash+xml"]=11,F["application/vnd.ms-sstr+xml"]=12,F["text/cea608"]=13,F["video/ogg"]=14,F["audio/aac"]=15,F["audio/mp3"]=16,F["audio/ogg"]=17,F["audio/wav"]=18,F["image/gif"]=19,F["image/jpg"]=20,F["image/png"]=21,F["text/mp2t"]=22,F["application/mp4"]=23,F["audio/mpeg"]=
24,F),G={},zd=(G.xm=0,G["mp4a.a6"]=1,G["ec-3"]=2,G["mp4a.40.2"]=3,G["mp4a.40.5"]=4,G["mp4a.67"]=5,G["avc1.4D40"]=6,G["avc1.4D401E"]=7,G["mp4a.a5"]=8,G["ac-3"]=9,G.vorbis=10,G.opus=11,G.vp8=12,G.vp9=13,G.avc1=14,G["mp4a.40"]=15,G.hev1=16,G.dvhe=17,G.mhm1=18,G["mp4a.6B"]=19,G["mp4a.69"]=20,G);function Ad(a){if(a){if(td(a))return"Video";if(sd(a))return"Audio"}}function Bd(a){switch(a){case "webvtt":return 1;case "ttml":return 2;case "cea608":return 3}return 0}
function Cd(a,b){switch(b){case 1:switch(a){case "clearkey":return 101;case "widevine":return 102;case "playready":return 103}break;case 2:switch(a){case "widevine":return 201;case "aes_128":return 202;case "aes_128_ckp":return 203}break;case 3:switch(a){case "playready":return 301}}return 0}
var Dd=function(a,b){b=Ad(b);void 0!==b&&v("Cast.MPL."+b+"Bitrate",a)},Ed=function(a,b){b=Ad(b);if(void 0!==b){v("Cast.MPL.Available"+b+"Bitrates",a.length);for(var c=0;c<a.length;c++)v("Cast.MPL.Available"+b+"Bitrate"+c,a[c])}},Fd=function(a){a.split(",").forEach(function(b){var c=zd[b];v("Cast.MPL.Codec",c?c:0==b.lastIndexOf("avc1",0)?zd.avc1:0==b.lastIndexOf("mp4a.40",0)?zd["mp4a.40"]:0==b.lastIndexOf("hev1",0)?zd.hev1:0==b.lastIndexOf("dvhe",0)?zd.dvhe:0==b.lastIndexOf("mhm1",0)?zd.mhm1:zd.xm)})},
Gd=function(a,b){v("Cast.MPL.ProtocolProtection",Cd(a,b))};var Hd=function(a,b,c){b=b||new Uint8Array(a.length);var d=0;for(c=c||0;d<a.length;d++)b[d+c]=a.charCodeAt(d);return b};var Id=function(a){return!!a&&"function"===typeof a.then};var Jd,Kd="undefined"!==typeof TextEncoder;var Ld={},Md=null,Od=function(a){var b;void 0===b&&(b=0);Nd();b=Ld[b];for(var c=Array(Math.floor(a.length/3)),d=b[64]||"",e=0,f=0;e<a.length-2;e+=3){var g=a[e],h=a[e+1],l=a[e+2],m=b[g>>2];g=b[(g&3)<<4|h>>4];h=b[(h&15)<<2|l>>6];l=b[l&63];c[f++]=""+m+g+h+l}m=0;l=d;switch(a.length-e){case 2:m=a[e+1],l=b[(m&15)<<2]||d;case 1:a=a[e],c[f]=""+b[a>>2]+b[(a&3)<<4|m>>4]+l+d}return c.join("")},Qd=function(a){var b=a.length,c=3*b/4;c%3?c=Math.floor(c):-1!="=.".indexOf(a[b-1])&&(c=-1!="=.".indexOf(a[b-2])?c-2:
c-1);var d=new Uint8Array(c),e=0;Pd(a,function(f){d[e++]=f});return e!==c?d.subarray(0,e):d},Pd=function(a,b){function c(l){for(;d<a.length;){var m=a.charAt(d++),p=Md[m];if(null!=p)return p;if(!/^[\s\xa0]*$/.test(m))throw Error("Unknown base64 encoding at char: "+m);}return l}Nd();for(var d=0;;){var e=c(-1),f=c(0),g=c(64),h=c(64);if(64===h&&-1===e)break;b(e<<2|f>>4);64!=g&&(b(f<<4&240|g>>2),64!=h&&b(g<<6&192|h))}},Nd=function(){if(!Md){Md={};for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),
b=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++){var d=a.concat(b[c].split(""));Ld[c]=d;for(var e=0;e<d.length;e++){var f=d[e];void 0===Md[f]&&(Md[f]=e)}}}};var Rd="undefined"!==typeof Uint8Array;function Sd(a){return Rd&&null!=a&&a instanceof Uint8Array}var Td,Ud={};var Vd;function Wd(a){if(a!==Ud)throw Error("illegal external caller");}var Xd=function(a,b){Wd(b);this.tc=a;if(null!==a&&0===a.length)throw Error("ByteString should be constructed with non-empty values");},Yd=function(){return Vd||(Vd=new Xd(null,Ud))};Xd.prototype.Ua=function(){return null==this.tc};var Zd=function(a){Wd(Ud);var b=a.tc;null==b||Sd(b)||("string"===typeof b?b=Qd(b):(Ga("Cannot coerce to Uint8Array: "+ra(b)),b=null));return a.tc=b};function $d(a){if("string"===typeof a)return{buffer:Qd(a),Zd:!1};if(Array.isArray(a))return{buffer:new Uint8Array(a),Zd:!1};if(a.constructor===Uint8Array)return{buffer:a,Zd:!1};if(a.constructor===ArrayBuffer)return{buffer:new Uint8Array(a),Zd:!1};if(a.constructor===Xd)return{buffer:Zd(a)||Td||(Td=new Uint8Array(0)),Zd:!0};if(a instanceof Uint8Array)return{buffer:new Uint8Array(a.buffer,a.byteOffset,a.byteLength),Zd:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers");
};var ae=0,be=0;var ce=function(){this.da=[]};ce.prototype.length=function(){return this.da.length};ce.prototype.end=function(){var a=this.da;this.da=[];return a};var de=function(a,b){for(;127<b;)a.da.push(b&127|128),b>>>=7;a.da.push(b)},ee=function(a,b){if(0<=b)de(a,b);else{for(var c=0;9>c;c++)a.da.push(b&127|128),b>>=7;a.da.push(1)}};k=ce.prototype;k.Nh=function(a){this.da.push(a>>>0&255)};k.Fd=function(a){this.da.push(a>>>0&255);this.da.push(a>>>8&255)};
k.A=function(a){this.da.push(a>>>0&255);this.da.push(a>>>8&255);this.da.push(a>>>16&255);this.da.push(a>>>24&255)};k.pk=function(a){var b=a>>>0;a=Math.floor((a-b)/4294967296)>>>0;ae=b;be=a;this.A(ae);this.A(be)};k.um=function(a){this.da.push(a>>>0&255);this.da.push(a>>>8&255);this.da.push(a>>>16&255);this.da.push(a>>>24&255)};
k.mk=function(a){var b=+a;if(0===b)0<1/b?ae=be=0:(be=0,ae=2147483648);else if(isNaN(b))be=0,ae=2147483647;else if(b=(a=0>b?-2147483648:0)?-b:b,3.4028234663852886E38<b)be=0,ae=(a|2139095040)>>>0;else if(1.1754943508222875E-38>b)b=Math.round(b/Math.pow(2,-149)),be=0,ae=(a|b)>>>0;else{var c=Math.floor(Math.log(b)/Math.LN2);b*=Math.pow(2,-c);b=Math.round(8388608*b);16777216<=b&&++c;be=0;ae=(a|c+127<<23|b&8388607)>>>0}this.A(ae)};k.kk=function(a){this.da.push(a?1:0)};k.tm=function(a){ee(this,a)};
k.lk=function(a){for(;8192<a.length;)Array.prototype.push.apply(this.da,a.subarray(0,8192)),a=a.subarray(8192);Array.prototype.push.apply(this.da,a)};var fe=function(){this.ai=[];this.xd=0;this.oa=new ce},ge=function(a,b){0!==b.length&&(a.ai.push(b),a.xd+=b.length)},he=function(a,b){if(b=b.Qi){ge(a,a.oa.end());for(var c=0;c<b.length;c++)ge(a,Zd(b[c])||Td||(Td=new Uint8Array(0)))}};k=fe.prototype;k.um=function(a,b){null!=b&&(ie(a,b,-2147483648<=b&&2147483648>b),null!=b&&(je(a,b),de(this.oa,8*a),ee(this.oa,b)))};k.A=function(a,b){null!=b&&(ie(a,b,0<=b&&4294967296>b),null!=b&&(de(this.oa,8*a),de(this.oa,b)))};k.pk=function(){};
k.mk=function(a,b){null!=b&&(de(this.oa,8*a+5),this.oa.mk(b))};k.kk=function(a,b){null!=b&&(ie(a,b,"boolean"===typeof b||"number"===typeof b),de(this.oa,8*a),this.oa.kk(b))};k.tm=function(a,b){null!=b&&(b=parseInt(b,10),je(a,b),de(this.oa,8*a),ee(this.oa,b))};k.lk=function(a,b){null!=b&&ke(this,a,$d(b).buffer)};var ke=function(a,b,c){de(a.oa,8*b+2);de(a.oa,c.length);ge(a,a.oa.end());ge(a,c)};function je(a,b){ie(a,b,b===Math.floor(b));ie(a,b,-2147483648<=b&&2147483648>b)}
function ie(a,b,c){c||Ga("for ["+b+"] at ["+a+"]")};var le={};var me="function"===typeof Symbol&&"symbol"===typeof Symbol()?Symbol("INTERNAL_ARRAY_STATE"):void 0;function ne(a,b){Object.isFrozen(a)||(me?a[me]|=b:void 0!==a.Kg?a.Kg|=b:Object.defineProperties(a,{Kg:{value:b,configurable:!0,writable:!0,enumerable:!1}}))}var oe=Object.getOwnPropertyDescriptor(Array.prototype,"jn");
Object.defineProperties(Array.prototype,{jn:{get:function(){var a=pe(this),b=[];1&a&&b.push("IS_REPEATED_FIELD");2&a&&b.push("IS_IMMUTABLE_ARRAY");4&a&&b.push("IS_API_FORMATTED");a=b.join(",");return oe?oe.get.call(this)+"|"+a:a},configurable:!0,enumerable:!1}});function pe(a){a=me?a[me]:a.Kg;return null==a?0:a}function qe(a){ne(a,1);return a}function re(a){return Array.isArray(a)?!!(pe(a)&2):!1}function se(a){if(!Array.isArray(a))throw Error("cannot mark non-array as immutable");ne(a,2)};function te(a){return null!==a&&"object"===typeof a&&!Array.isArray(a)&&a.constructor===Object}var ue=Symbol("exempted jspb subclass"),ve=Symbol("generated by jspb");function we(a){if(null==a)return Yd();if(a.constructor===Xd)return a;if("string"===typeof a)return a?new Xd(a,Ud):Yd();if(Sd(a))return a.length?new Xd(new Uint8Array(a),Ud):Yd();Ga("Cannot coerce to ByteString: "+ra(a));return Yd()}
var xe=Object.freeze(qe([])),ye=function(a){if(re(a.ua))throw Error("Cannot mutate an immutable Message");},ze="undefined"!=typeof Symbol&&"undefined"!=typeof Symbol.hasInstance;function Ae(a){return{value:a,configurable:!1,writable:!1,enumerable:!1}};function Be(a){switch(typeof a){case "number":return isFinite(a)?a:String(a);case "object":if(a&&!Array.isArray(a)){if(Sd(a))return Od(a);if(a instanceof Xd){var b=a.tc;null!=b&&"string"!==typeof b&&(Rd&&b instanceof Uint8Array?b=Od(b):(Ga("Cannot coerce to b64 string: "+ra(b)),b=null));return(a.tc=b)||""}}}return a};function Ce(a,b){b=void 0===b?De:b;return Ee(a,b)}function Fe(a,b){if(null!=a){if(Array.isArray(a))a=Ee(a,b);else if(te(a)){var c={},d;for(d in a)c[d]=Fe(a[d],b);a=c}else a=b(a);return a}}function Ee(a,b){for(var c=a.slice(),d=0;d<c.length;d++)c[d]=Fe(c[d],b);Array.isArray(a)&&pe(a)&1&&qe(c);return c}function Ge(a){if(a&&"object"==typeof a&&a.toJSON)return a.toJSON();a=Be(a);return Array.isArray(a)?Ce(a,Ge):a}function De(a){return Sd(a)?new Uint8Array(a):a};var H=function(a,b,c){return-1===b?null:b>=a.rd?a.Mb?a.Mb[b]:void 0:(void 0===c?0:c)&&a.Mb&&(c=a.Mb[b],null!=c)?c:a.ua[b+a.Uc]},He=function(a,b,c,d,e){d=void 0===d?!1:d;(void 0===e?0:e)||ye(a);b<a.rd&&!d?a.ua[b+a.Uc]=c:(a.Mb||(a.Mb=a.ua[a.rd+a.Uc]={}))[b]=c;return a},Ie=function(a,b,c,d){c=void 0===c?!0:c;d=void 0===d?!1:d;var e=H(a,b,d);null==e&&(e=xe);if(re(a.ua))c&&(se(e),Object.freeze(e));else if(e===xe||re(e))e=qe(e.slice()),He(a,b,e,d);return e},Je=function(a,b){a=H(a,b);return null==a?a:!!a};
function Ke(a,b,c){ye(a);a=Ie(a,b);pe(a)&4&&(c=we(c));a.push(c)}var Me=function(a,b,c,d){ye(a);(c=Le(a,c))&&c!==b&&null!=d&&(a.eb&&c in a.eb&&(a.eb[c]=void 0),He(a,c));return He(a,b,d)};function Ne(a,b){return Le(a,Oe)===b?b:-1}
var Le=function(a,b){for(var c=0,d=0;d<b.length;d++){var e=b[d];null!=H(a,e)&&(0!==c&&He(a,c,void 0,!1,!0),c=e)}return c},Pe=function(a,b,c,d){a.eb||(a.eb={});var e=re(a.ua),f=a.eb[c];if(!f){d=Ie(a,c,!0,void 0===d?!1:d);f=[];e=e||re(d);for(var g=0;g<d.length;g++)f[g]=new b(d[g]),e&&se(f[g].ua);e&&(se(f),Object.freeze(f));a.eb[c]=f}return f};var Re=function(a,b,c){!0!==this[ue]&&Object.getPrototypeOf(Object.getPrototypeOf(this));a||(a=Qe);Qe=null;var d=this.constructor.on;a||(a=d?[d]:[]);this.Uc=(d?0:-1)-(this.constructor.vo||0);this.eb=void 0;this.ua=a;a:{d=this.ua.length;a=d-1;if(d&&(d=this.ua[a],te(d))){this.rd=a-this.Uc;this.Mb=d;break a}void 0!==b&&-1<b?(this.rd=Math.max(b,a+1-this.Uc),this.Mb=void 0):this.rd=Number.MAX_VALUE}if(c)for(b=0;b<c.length;b++)if(a=c[b],a<this.rd)a+=this.Uc,(d=this.ua[a])?Array.isArray(d)&&qe(d):this.ua[a]=
xe;else{d=this.Mb||(this.Mb=this.ua[this.rd+this.Uc]={});var e=d[a];e?Array.isArray(e)&&qe(e):d[a]=xe}};k=Re.prototype;k.Gh=function(){return this.toJSON()};k.toJSON=function(){return Ce(this.ua,Ge)};k.getExtension=function(a){return a.to(this)};k.hasExtension=function(a){return null!=H(this,a.so)};k.clone=function(){var a=Ce(this.ua);Qe=a;a=new this.constructor(a);Qe=null;Se(a,this);return a};k.Zd=function(a){if(a!==le)throw Error("requires a valid immutable API token");return re(this.ua)};
k.toString=function(){return this.ua.toString()};function Se(a,b){b.Qi&&(a.Qi=b.Qi.slice());var c=b.eb;if(c){b=b.Mb;for(var d in c){var e=c[d];if(e){var f=!(!b||!b[d]),g=+d;if(Array.isArray(e)){if(e.length){g=Pe(a,e[0].constructor,g,f);for(var h=0;h<Math.min(g.length,e.length);h++)Se(g[h],e[h])}}else{h=a;var l=e.constructor;if(-1===g)g=null;else{h.eb||(h.eb={});var m=h.eb[g];m?g=m:(f=H(h,g,void 0===f?!1:f),null==f?g=m:(l=new l(f),re(h.ua)&&se(l.ua),g=h.eb[g]=l))}g&&Se(g,e)}}}}}var Qe;var Te=function(){Re.apply(this,arguments)};q(Te,Re);if(ze){var Ue={};Object.defineProperties(Te,(Ue[Symbol.hasInstance]=Ae(function(){throw Error("Cannot perform instanceof checks for MutableMessage");}),Ue))};function Ve(a,b,c){if(c){var d={},e;for(e in c){var f=c[e],g=f.oo;g||(d.De=f.wo||f.Do.Oh,f.Fm?(d.Vh=We(f.Fm),g=function(h){return function(l,m,p){return h.De(l,m,p,h.Vh)}}(d)):f.pn?(d.Uh=Xe(f.Wm.Hk,f.pn),g=function(h){return function(l,m,p){return h.De(l,m,p,h.Uh)}}(d)):g=d.De,f.oo=g);g(b,a,f.Wm);d={De:d.De,Vh:d.Vh,Uh:d.Uh}}}he(b,a)}
function Ye(a,b){var c=a[b];"function"==typeof c&&0===c.length&&(c=c(),a[b]=c);return Array.isArray(c)&&(Ze in c||$e in c||0<c.length&&"function"==typeof c[0])?c:void 0}var af=Symbol("serializeBinaryToWriterCache");function We(a){var b=a[af];if(!b){var c=bf(a);b=function(d,e){return cf(d,e,c)};a[af]=b}return b}function Xe(a,b){var c=a[af];c||(c=function(d,e){return Ve(d,e,b)},a[af]=c);return c}var $e=Symbol("serializerFnCache");function df(a,b){a.push(b)}function ef(a,b,c){a.push(b,c.Oh)}
function ff(a,b,c,d){var e=We(d),f=bf(d).Hk,g=c.Oh;a.push(b,function(h,l,m){return g(h,l,m,f,e)})}function gf(a,b,c,d,e,f){var g=Xe(d,f),h=c.Oh;a.push(b,function(l,m,p){return h(l,m,p,d,g)})}
function bf(a){var b=a[$e];if(b)return b;b=a[$e]=[];var c=df,d=ef,e=ff,f=gf;b.Hk=a[0];var g=1;if(a.length>g&&"number"!==typeof a[g]){var h=a[g++];c(b,h)}for(;g<a.length;){c=a[g++];for(var l=g+1;l<a.length&&"number"!==typeof a[l];)l++;h=a[g++];l-=g;switch(l){case 0:d(b,c,h);break;case 1:(l=Ye(a,g))?(g++,e(b,c,h,l)):d(b,c,h,a[g++]);break;case 2:l=b;var m=g++;m=Ye(a,m);e(l,c,h,m,a[g++]);break;case 3:f(b,c,h,a[g++],a[g++],a[g++]);break;case 4:f(b,c,h,a[g++],a[g++],a[g++],a[g++]);break;default:throw Error("unexpected number of binary field arguments: "+
l);}}Ze in a&&$e in a&&(a.length=0);return b}var Ze=Symbol("deserializerFnCache");function cf(a,b,c){for(var d=c.length,e=1==d%2,f=e?1:0;f<d;f+=2)(0,c[f+1])(b,a,c[f]);Ve(a,b,e?c[0]:void 0)}var hf=function(a,b){var c=new fe;cf(a,c,bf(b));ge(c,c.oa.end());a=new Uint8Array(c.xd);b=c.ai;for(var d=b.length,e=0,f=0;f<d;f++){var g=b[f];a.set(g,e);e+=g.length}c.ai=[a];return a};function jf(a,b){return{Co:a,Oh:b}}
function kf(a,b,c){b=H(b,c);if(null!=b){var d=!0;d=void 0===d?!1:d;if(Kd){if(d&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(b))throw Error("Found an unpaired surrogate");b=(Jd||(Jd=new TextEncoder)).encode(b)}else{for(var e=0,f=new Uint8Array(3*b.length),g=0;g<b.length;g++){var h=b.charCodeAt(g);if(128>h)f[e++]=h;else{if(2048>h)f[e++]=h>>6|192;else{if(55296<=h&&57343>=h){if(56319>=h&&g<b.length){var l=b.charCodeAt(++g);if(56320<=l&&57343>=l){h=1024*(h-55296)+l-
56320+65536;f[e++]=h>>18|240;f[e++]=h>>12&63|128;f[e++]=h>>6&63|128;f[e++]=h&63|128;continue}else g--}if(d)throw Error("Found an unpaired surrogate");h=65533}f[e++]=h>>12|224;f[e++]=h>>6&63|128}f[e++]=h&63|128}}b=e===f.length?f:f.subarray(0,e)}ke(a,c,b)}}
var lf=jf(function(a,b,c,d){if(5!==a.nb())return!1;Me(b,c,d,a.zo());return!0},function(a,b,c){a.mk(c,H(b,c))}),mf=jf(function(a,b,c){if(0!==a.nb()&&2!==a.nb())return!1;a.Bo(Ie(b,c));return!0},function(a,b,c){b=Ie(b,c);if(null!=b)for(var d=0;d<b.length;d++){var e=a,f=c,g=b[d];null!=g&&(je(f,g),de(e.oa,8*f),ee(e.oa,g))}}),of=jf(function(a,b,c,d){if(0!==a.nb())return!1;Me(b,c,d,nf(a));return!0},function(a,b,c){a.um(c,H(b,c))}),pf=jf(function(a,b,c,d){if(0!==a.nb())return!1;Me(b,c,d,a.xo());return!0},
function(a,b,c){a.kk(c,H(b,c))}),qf=jf(function(a,b,c){if(2!==a.nb())return!1;He(b,c,a.Nn());return!0},kf),rf=jf(function(a,b,c,d){if(2!==a.nb())return!1;Me(b,c,d,a.Nn());return!0},kf),sf=jf(function(a,b,c,d,e){if(2!==a.nb())return!1;var f=a.Ao;var g=void 0===g?!1:g;ye(b);g=Pe(b,d,c,g);d=new d;b=Ie(b,c);g.push(d);b.push(d.ua);f.call(a,d,e);return!0},function(a,b,c,d,e){b=Pe(b,d,c);if(null!=b)for(d=0;d<b.length;d++){var f=a;de(f.oa,8*c+2);var g=f.oa.end();ge(f,g);g.push(f.xd);f=g;e(b[d],a);g=a;var h=
f.pop();for(h=g.xd+g.oa.length()-h;127<h;)f.push(h&127|128),h>>>=7,g.xd++;f.push(h);g.xd++}}),tf=jf(function(a,b,c){if(2!==a.nb())return!1;He(b,c,a.Mn());return!0},function(a,b,c){a.lk(c,H(b,c))}),uf=jf(function(a,b,c){if(2!==a.nb())return!1;a=a.Mn();Ke(b,c,a);return!0},function(a,b,c){b=Ie(b,c);if(null!=b)for(var d=0;d<b.length;d++)a.lk(c,b[d])}),vf=jf(function(a,b,c){if(0!==a.nb())return!1;He(b,c,I(a));return!0},function(a,b,c){a.A(c,H(b,c))}),wf=jf(function(a,b,c){if(0!==a.nb())return!1;He(b,c,
a.yo());return!0},function(a,b,c){a.tm(c,H(b,c))});var xf=function(){Te.apply(this,arguments)};q(xf,Te);xf.prototype[ve]=!0;if(ze){var yf={};Object.defineProperties(xf,(yf[Symbol.hasInstance]=Ae(Object[Symbol.hasInstance]),yf))};var zf=function(a){xf.call(this,a)};q(zf,xf);k=zf.prototype;k.Ia=function(){return H(this,1)};k.getStringValue=function(){return H(this,Ne(this,2))};k.setStringValue=function(a){return Me(this,2,Oe,a)};k.getFloatValue=function(){var a=Ne(this,4);a=H(this,a);return null==a?a:+a};k.setFloatValue=function(a){return Me(this,4,Oe,a)};k.th=function(){return hf(this,Af)};var Oe=[2,3,4,5],Af=[zf,1,qf,2,rf,Oe,3,of,Oe,4,lf,Oe,5,pf,Oe];var Cf=function(a){xf.call(this,a,-1,Bf)};q(Cf,xf);Cf.prototype.th=function(){return hf(this,Df)};var Bf=[1,2],Df=[Cf,1,mf,2,sf,Af];Cf.on="scs.sc";var Ef=RegExp("^(-)?P(?:(\\d+)Y)?(?:(\\d+)M)?(?:(\\d+)D)?(T(?:(\\d+)H)?(?:(\\d+)M)?(?:(\\d+(?:\\.\\d+)?)S)?)?$"),Ff=function(a,b,c,d,e,f){"string"===typeof a?(this.Gd="y"==a?b:0,this.ld="m"==a?b:0,this.wc="d"==a?b:0,this.Bc="h"==a?b:0,this.Ic="n"==a?b:0,this.Pc="s"==a?b:0):(this.Gd=a||0,this.ld=b||0,this.wc=c||0,this.Bc=d||0,this.Ic=e||0,this.Pc=f||0)};Ff.prototype.Yb=function(a){return a.Gd==this.Gd&&a.ld==this.ld&&a.wc==this.wc&&a.Bc==this.Bc&&a.Ic==this.Ic&&a.Pc==this.Pc};
Ff.prototype.clone=function(){return new Ff(this.Gd,this.ld,this.wc,this.Bc,this.Ic,this.Pc)};Ff.prototype.add=function(a){this.Gd+=a.Gd;this.ld+=a.ld;this.wc+=a.wc;this.Bc+=a.Bc;this.Ic+=a.Ic;this.Pc+=a.Pc};var Gf=function(){this.Xl=Date.now()},Hf=null;Gf.prototype.set=function(a){this.Xl=a};Gf.prototype.reset=function(){this.set(Date.now())};Gf.prototype.get=function(){return this.Xl};var If=function(a){this.Gn=a||"";Hf||(Hf=new Gf);this.bo=Hf};k=If.prototype;k.rk=!0;k.gm=!0;k.Zn=!0;k.Yn=!0;k.hm=!1;k.$n=!1;var Jf=function(a){return 10>a?"0"+a:String(a)},Kf=function(a){If.call(this,a)};xa(Kf,If);
var Lf=function(a,b){var c=[];c.push(a.Gn," ");if(a.gm){var d=new Date(b.se);c.push("[",Jf(d.getFullYear()-2E3)+Jf(d.getMonth()+1)+Jf(d.getDate())+" "+Jf(d.getHours())+":"+Jf(d.getMinutes())+":"+Jf(d.getSeconds())+"."+Jf(Math.floor(d.getMilliseconds()/10)),"] ")}if(a.Zn){d=c.push;var e=a.bo.get();e=(b.se-e)/1E3;var f=e.toFixed(3),g=0;if(1>e)g=2;else for(;100>e;)g++,e*=10;for(;0<g--;)f=" "+f;d.call(c,"[",f,"s] ")}a.Yn&&c.push("[",b.ul,"] ");a.$n&&c.push("[",b.sl.name,"] ");c.push(b.rn);a.hm&&(b=b.qg,
void 0!==b&&c.push("\n",b instanceof Error?b.message:String(b)));a.rk&&c.push("\n");return c.join("")};var Mf=function(){this.Ln=wa(this.zm,this);this.tg=new Kf;this.tg.gm=!1;this.tg.hm=!1;this.gl=this.tg.rk=!1;this.Xm={}};Mf.prototype.zm=function(a){function b(f){if(f){if(f.value>=lc.value)return"error";if(f.value>=mc.value)return"warn";if(f.value>=oc.value)return"log"}return"debug"}if(!this.Xm[a.ul]){var c=Lf(this.tg,a),d=Nf;if(d){var e=b(a.sl);Of(d,e,c,a.qg)}}};var Pf=null,Nf=r.console,Of=function(a,b,c,d){if(a[b])a[b](c,void 0===d?"":d);else a.log(c,void 0===d?"":d)};var Qf={rgb:!0,rgba:!0,alpha:!0,rect:!0,image:!0,"linear-gradient":!0,"radial-gradient":!0,"repeating-linear-gradient":!0,"repeating-radial-gradient":!0,"cubic-bezier":!0,matrix:!0,perspective:!0,rotate:!0,rotate3d:!0,rotatex:!0,rotatey:!0,steps:!0,rotatez:!0,scale:!0,scale3d:!0,scalex:!0,scaley:!0,scalez:!0,skew:!0,skewx:!0,skewy:!0,translate:!0,translate3d:!0,translatex:!0,translatey:!0,translatez:!0},Rf=function(a){a=Oa(a);if(""==a||Na(a,"url("))return null;if(0<a.indexOf("(")){if(/"|'/.test(a))return null;
for(var b=/([\-\w]+)\(/g,c;c=b.exec(a);)if(!(c[1].toLowerCase()in Qf))return null}return a};function Sf(a,b){a=r[a];return a&&a.prototype?(b=Object.getOwnPropertyDescriptor(a.prototype,b))&&b.get||null:null}function Tf(a){var b=r.CSSStyleDeclaration;return b&&b.prototype&&b.prototype[a]||null}Sf("Element","attributes")||Sf("Node","attributes");Sf("Element","innerHTML")||Sf("HTMLElement","innerHTML");Sf("Node","nodeName");Sf("Node","nodeType");Sf("Node","parentNode");Sf("Node","childNodes");Sf("HTMLElement","style")||Sf("Element","style");Sf("HTMLStyleElement","sheet");
var Uf=Tf("getPropertyValue"),Vf=Tf("setProperty");Sf("Element","namespaceURI")||Sf("Node","namespaceURI");function Wf(a,b,c,d){if(a)return a.apply(b,d);if(Wa&&10>document.documentMode){if(!b[c].call)throw Error("IE Clobbering detected");}else if("function"!=typeof b[c])throw Error("Clobbering detected");return b[c].apply(b,d)};var Xf={"-webkit-border-horizontal-spacing":!0,"-webkit-border-vertical-spacing":!0},Zf=function(a){if(!a)return sb;var b=document.createElement("div").style;Yf(a).forEach(function(c){var d=Za&&c in Xf?c:c.replace(/^-(?:apple|css|epub|khtml|moz|mso?|o|rim|wap|webkit|xv)-(?=[a-z])/i,"");0!=d.lastIndexOf("--",0)&&0!=d.lastIndexOf("var",0)&&(c=Wf(Uf,a,a.getPropertyValue?"getPropertyValue":"getAttribute",[c])||"",c=Rf(c),null!=c&&Wf(Vf,b,b.setProperty?"setProperty":"setAttribute",[d,c]))});return new qb(b.cssText||
"",pb)},$f=function(a){if(Wa&&10>document.documentMode)return sb;var b=document;"function"===typeof HTMLTemplateElement&&(b=wb("TEMPLATE").content.ownerDocument);b=b.implementation.createHTMLDocument("").createElement("DIV");b.style.cssText=a;return Zf(b.style)},Yf=function(a){sa(a)?a=Ka(a):(a=jb(a),Ja(a,"cssText"));return a};var ag=function(a){if(a.Hb&&"function"==typeof a.Hb)return a.Hb();if("undefined"!==typeof Map&&a instanceof Map||"undefined"!==typeof Set&&a instanceof Set)return Array.from(a.values());if("string"===typeof a)return a.split("");if(sa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return ib(a)},bg=function(a){if(a.Wd&&"function"==typeof a.Wd)return a.Wd();if(!a.Hb||"function"!=typeof a.Hb){if("undefined"!==typeof Map&&a instanceof Map)return Array.from(a.keys());if(!("undefined"!==typeof Set&&
a instanceof Set)){if(sa(a)||"string"===typeof a){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return jb(a)}}},cg=function(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(sa(a)||"string"===typeof a)Array.prototype.forEach.call(a,b,c);else for(var d=bg(a),e=ag(a),f=e.length,g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)};var dg=function(a,b){this.Im=a[r.Symbol.iterator]();this.mn=b};dg.prototype[Symbol.iterator]=function(){return this};dg.prototype.next=function(){var a=this.Im.next();return{value:a.done?void 0:this.mn.call(void 0,a.value),done:a.done}};var eg=function(a,b){return new dg(a,b)};var fg=function(){};fg.prototype.next=function(){return gg};var gg=Jb({done:!0,value:void 0});fg.prototype.Hd=function(){return this};var kg=function(a){if(a instanceof hg||a instanceof ig||a instanceof jg)return a;if("function"==typeof a.next)return new hg(function(){return a});if("function"==typeof a[Symbol.iterator])return new hg(function(){return a[Symbol.iterator]()});if("function"==typeof a.Hd)return new hg(function(){return a.Hd()});throw Error("Not an iterator or iterable.");},hg=function(a){this.Ai=a};hg.prototype.Hd=function(){return new ig(this.Ai())};hg.prototype[Symbol.iterator]=function(){return new jg(this.Ai())};
hg.prototype.ak=function(){return new jg(this.Ai())};var ig=function(a){this.cf=a};q(ig,fg);ig.prototype.next=function(){return this.cf.next()};ig.prototype[Symbol.iterator]=function(){return new jg(this.cf)};ig.prototype.ak=function(){return new jg(this.cf)};var jg=function(a){hg.call(this,function(){return a});this.cf=a};q(jg,hg);jg.prototype.next=function(){return this.cf.next()};var lg=function(a,b){this.qb={};this.va=[];this.ra=this.size=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)};k=lg.prototype;k.ad=function(){return this.size};k.Hb=function(){mg(this);for(var a=[],b=0;b<this.va.length;b++)a.push(this.qb[this.va[b]]);return a};k.Wd=function(){mg(this);return this.va.concat()};k.ii=function(a){return this.has(a)};k.has=function(a){return ng(this.qb,a)};
k.Yb=function(a){if(this===a)return!0;if(this.size!=a.ad())return!1;var b=og;mg(this);for(var c,d=0;c=this.va[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};var og=function(a,b){return a===b};lg.prototype.Ua=function(){return 0==this.size};lg.prototype.clear=function(){this.qb={};this.ra=this.size=this.va.length=0};lg.prototype.remove=function(a){return this.delete(a)};
lg.prototype.delete=function(a){return ng(this.qb,a)?(delete this.qb[a],--this.size,this.ra++,this.va.length>2*this.size&&mg(this),!0):!1};var mg=function(a){if(a.size!=a.va.length){for(var b=0,c=0;b<a.va.length;){var d=a.va[b];ng(a.qb,d)&&(a.va[c++]=d);b++}a.va.length=c}if(a.size!=a.va.length){var e={};for(c=b=0;b<a.va.length;)d=a.va[b],ng(e,d)||(a.va[c++]=d,e[d]=1),b++;a.va.length=c}};k=lg.prototype;k.get=function(a,b){return ng(this.qb,a)?this.qb[a]:b};
k.set=function(a,b){ng(this.qb,a)||(this.size+=1,this.va.push(a),this.ra++);this.qb[a]=b};k.addAll=function(a){if(a instanceof lg)for(var b=a.Wd(),c=0;c<b.length;c++)this.set(b[c],a.get(b[c]));else for(b in a)this.set(b,a[b])};k.forEach=function(a,b){for(var c=this.Wd(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};k.clone=function(){return new lg(this)};k.keys=function(){return kg(this.Hd(!0)).ak()};k.values=function(){return kg(this.Hd(!1)).ak()};
k.entries=function(){var a=this;return eg(this.keys(),function(b){return[b,a.get(b)]})};k.Hd=function(a){mg(this);var b=0,c=this.ra,d=this,e=new fg;e.next=function(){if(c!=d.ra)throw Error("The map has changed since the iterator was created");if(b>=d.va.length)return gg;var f=d.va[b++];return{value:a?f:d.qb[f],done:!1}};return e};var ng=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var pg=function(){this.$a=[];this.Ab=[]},qg=function(a){0===a.$a.length&&(a.$a=a.Ab,a.$a.reverse(),a.Ab=[])};pg.prototype.enqueue=function(a){this.Ab.push(a)};var rg=function(a){qg(a);return a.$a.pop()},sg=function(a){qg(a);a=a.$a;return a[a.length-1]};k=pg.prototype;k.ad=function(){return this.$a.length+this.Ab.length};k.Ua=function(){return 0===this.$a.length&&0===this.Ab.length};k.clear=function(){this.$a=[];this.Ab=[]};k.contains=function(a){return 0<=Ha(this.$a,a)||0<=Ha(this.Ab,a)};
k.remove=function(a){var b=this.$a;var c=Ia(b,a);0<=c?(Array.prototype.splice.call(b,c,1),b=!0):b=!1;return b||Ja(this.Ab,a)};k.Hb=function(){for(var a=[],b=this.$a.length-1;0<=b;--b)a.push(this.$a[b]);var c=this.Ab.length;for(b=0;b<c;++b)a.push(this.Ab[b]);return a};var J=function(a){this.Xb=this.Dd=this.hc="";this.je=null;this.$c=this.tb="";this.ab=this.hn=!1;if(a instanceof J){this.ab=a.ab;tg(this,a.hc);var b=a.Dd;ug(this);this.Dd=b;b=a.Xb;ug(this);this.Xb=b;vg(this,a.je);b=a.tb;ug(this);this.tb=b;wg(this,a.vb.clone());a=a.$c;ug(this);this.$c=a}else a&&(b=String(a).match(cd))?(this.ab=!1,tg(this,b[1]||"",!0),a=b[2]||"",ug(this),this.Dd=xg(a),a=b[3]||"",ug(this),this.Xb=xg(a,!0),vg(this,b[4]),a=b[5]||"",ug(this),this.tb=xg(a,!0),wg(this,b[6]||"",!0),a=b[7]||
"",ug(this),this.$c=xg(a)):(this.ab=!1,this.vb=new yg(null,this.ab))};
J.prototype.toString=function(){var a=[],b=this.hc;b&&a.push(zg(b,Ag,!0),":");var c=this.Xb;if(c||"file"==b)a.push("//"),(b=this.Dd)&&a.push(zg(b,Ag,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.je,null!=c&&a.push(":",String(c));if(c=this.tb)this.Xb&&"/"!=c.charAt(0)&&a.push("/"),a.push(zg(c,"/"==c.charAt(0)?Bg:Cg,!0));(c=this.vb.toString())&&a.push("?",c);(c=this.$c)&&a.push("#",zg(c,Dg));return a.join("")};
J.prototype.resolve=function(a){var b=this.clone(),c=!!a.hc;c?tg(b,a.hc):c=!!a.Dd;if(c){var d=a.Dd;ug(b);b.Dd=d}else c=!!a.Xb;c?(d=a.Xb,ug(b),b.Xb=d):c=null!=a.je;d=a.tb;if(c)vg(b,a.je);else if(c=!!a.tb){if("/"!=d.charAt(0))if(this.Xb&&!this.tb)d="/"+d;else{var e=b.tb.lastIndexOf("/");-1!=e&&(d=b.tb.slice(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){d=0==e.lastIndexOf("/",0);e=e.split("/");for(var f=[],g=0;g<e.length;){var h=e[g++];"."==h?d&&g==e.length&&
f.push(""):".."==h?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),d&&g==e.length&&f.push("")):(f.push(h),d=!0)}d=f.join("/")}else d=e}c?(ug(b),b.tb=d):c=""!==a.vb.toString();c?wg(b,a.vb.clone()):c=!!a.$c;c&&(a=a.$c,ug(b),b.$c=a);return b};J.prototype.clone=function(){return new J(this)};
var tg=function(a,b,c){ug(a);a.hc=c?xg(b,!0):b;a.hc&&(a.hc=a.hc.replace(/:$/,""))},vg=function(a,b){ug(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.je=b}else a.je=null},wg=function(a,b,c){ug(a);b instanceof yg?(a.vb=b,a.vb.Rj(a.ab)):(c||(b=zg(b,Eg)),a.vb=new yg(b,a.ab))};J.prototype.getQuery=function(){return this.vb.toString()};J.prototype.removeParameter=function(a){ug(this);this.vb.remove(a);return this};
var ug=function(a){if(a.hn)throw Error("Tried to modify a read-only Uri");};J.prototype.Rj=function(a){this.ab=a;this.vb&&this.vb.Rj(a)};
var Fg=function(a){return a instanceof J?a.clone():new J(a)},xg=function(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""},zg=function(a,b,c){return"string"===typeof a?(a=encodeURI(a).replace(b,Gg),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null},Gg=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},Ag=/[#\/\?@]/g,Cg=/[#\?:]/g,Bg=/[#\?]/g,Eg=/[#\?@]/g,Dg=/#/g,yg=function(a,b){this.Ha=this.fa=null;this.Ta=a||null;this.ab=!!b},Hg=
function(a){a.fa||(a.fa=new Map,a.Ha=0,a.Ta&&dd(a.Ta,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))};k=yg.prototype;k.ad=function(){Hg(this);return this.Ha};k.add=function(a,b){Hg(this);this.Ta=null;a=Ig(this,a);var c=this.fa.get(a);c||this.fa.set(a,c=[]);c.push(b);this.Ha+=1;return this};k.remove=function(a){Hg(this);a=Ig(this,a);return this.fa.has(a)?(this.Ta=null,this.Ha-=this.fa.get(a).length,this.fa.delete(a)):!1};k.clear=function(){this.fa=this.Ta=null;this.Ha=0};
k.Ua=function(){Hg(this);return 0==this.Ha};k.ii=function(a){Hg(this);a=Ig(this,a);return this.fa.has(a)};k.forEach=function(a,b){Hg(this);this.fa.forEach(function(c,d){c.forEach(function(e){a.call(b,e,d,this)},this)},this)};k.Wd=function(){Hg(this);for(var a=Array.from(this.fa.values()),b=Array.from(this.fa.keys()),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};
k.Hb=function(a){Hg(this);var b=[];if("string"===typeof a)this.ii(a)&&(b=b.concat(this.fa.get(Ig(this,a))));else{a=Array.from(this.fa.values());for(var c=0;c<a.length;c++)b=b.concat(a[c])}return b};k.set=function(a,b){Hg(this);this.Ta=null;a=Ig(this,a);this.ii(a)&&(this.Ha-=this.fa.get(a).length);this.fa.set(a,[b]);this.Ha+=1;return this};k.get=function(a,b){if(!a)return b;a=this.Hb(a);return 0<a.length?String(a[0]):b};
k.toString=function(){if(this.Ta)return this.Ta;if(!this.fa)return"";for(var a=[],b=Array.from(this.fa.keys()),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=this.Hb(d);for(var f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f])));a.push(g)}}return this.Ta=a.join("&")};k.clone=function(){var a=new yg;a.Ta=this.Ta;this.fa&&(a.fa=new Map(this.fa),a.Ha=this.Ha);return a};var Ig=function(a,b){b=String(b);a.ab&&(b=b.toLowerCase());return b};
yg.prototype.Rj=function(a){a&&!this.ab&&(Hg(this),this.Ta=null,this.fa.forEach(function(b,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.remove(d),0<b.length&&(this.Ta=null,this.fa.set(Ig(this,d),Ka(b)),this.Ha+=b.length))},this));this.ab=a};yg.prototype.extend=function(a){for(var b=0;b<arguments.length;b++)cg(arguments[b],function(c,d){this.add(d,c)},this)};var Kg=function(a){xf.call(this,a,-1,Jg)};q(Kg,xf);Kg.prototype.getType=function(){var a=H(this,11);return null==a?0:a};Kg.prototype.th=function(){return hf(this,Lg)};var Mg=function(a){xf.call(this,a)};q(Mg,xf);Mg.prototype.getKey=function(){var a=H(this,3);null==a?a=null:a instanceof Xd||(a=we(a),He(this,3,a,void 0,!0));return a};Mg.prototype.th=function(){return hf(this,Ng)};
var Jg=[2,13,14],Ng=[Mg,1,tf,2,tf,3,tf,4,tf,5,vf],Lg=[Kg,2,uf,4,tf,7,vf,9,vf,10,vf,11,wf,12,vf,13,uf,14,sf,Ng,15,qf,16,qf,17,vf,1,wf,3,qf,5,qf,6,qf,8,tf];/*

 SPDX-License-Identifier: Apache-2.0
*/
function Og(a,b){var c=a.parseFromString;b instanceof ub&&b.constructor===ub?b=b.Tl:(Ga("expected object of type SafeHtml, got '"+b+"' of type "+ra(b)),b="type_error:SafeHtml");return c.call(a,b,"text/xml")};t("cast.player.api.VERSION","1.0.0");console.log("CAST SDK MPL Version: 1.0.0.114");t("cast.player.api.ErrorCode",{UNKNOWN:0,PLAYBACK:1,MEDIAKEYS:2,NETWORK:3,MANIFEST:4});var Pg=["cast.player.api.ErrorCode.UNKNOWN","cast.player.api.ErrorCode.PLAYBACK","cast.player.api.ErrorCode.MEDIAKEYS","cast.player.api.ErrorCode.NETWORK","cast.player.api.ErrorCode.MANIFEST"];
t("cast.player.api.HlsSegmentFormat",{MPEG2_TS:0,MPEG_AUDIO_ES:1,PACKED_AUDIO_AC3:2,po:3,MPEG_LAYER_3:4,TS_AAC:5,PACKED_AUDIO_E_AC3:6,FMP4:7,TS_HE_AAC:8});t("cast.player.api.HlsVideoSegmentFormat",{MPEG2_TS:0,FMP4:1});t("cast.player.api.CaptionsType",{UNKNOWN:"unknown",WEBVTT:"webvtt",TTML:"ttml",CEA608:"cea608",STPP:"stpp"});t("cast.player.api.ContentProtection",{NONE:"none",CLEARKEY:"clearkey",PLAYREADY:"playready",WIDEVINE:"widevine",AES_128:"aes_128",AES_128_CKP:"aes_128_ckp"});
var Qg={DEBUG:0,INFO:800,WARNING:900,ERROR:1E3,NONE:Infinity};t("cast.player.api.LoggerLevel",Qg);t("cast.player.api.StreamingProtocolType",{UNKNOWN:0,MPEG_DASH:1,HLS:2,SMOOTH_STREAMING:3});t("cast.player.api.DateRangeEventType",{DATE_RANGE_CHANGED:"daterangechanged",DATE_RANGE_ENTER:"daterangeenter",DATE_RANGE_EXIT:"daterangeexit"});
var Rg=function(){this.timeoutInterval=3E4;this.headers=this.url=null;this.withCredentials=!1;this.protectionSystem=this.content=null;this.skipRequest=!1;this.setResponse=null;this.interval={time:0,duration:0};this.le=null};t("cast.player.api.RequestInfo",Rg);var Sg=function(a,b,c,d,e){this.url=a;this.errorCode=b;this.status=c;this.responseHeaders=d;this.response=e};t("cast.player.api.RequestStatus",Sg);
var Tg=function(a,b,c,d,e,f,g,h,l,m){this.codecs=a;this.codecsProvided=void 0===h?!1:h;this.mimeType=b;this.bitrates=c;this.streamsGroupedByBitrate=l;this.streamsGroupedByCdn=m;this.language=d;this.name=e;this.role=f;this.hlsMediaInfo=void 0===g?null:g};t("cast.player.api.StreamInfo",Tg);
var Ug=function(a){a=void 0===a?{}:a;var b=void 0===a.url?null:a.url,c=void 0===a.characteristics?null:a.characteristics,d=void 0===a.groupId?null:a.groupId,e=void 0===a.autoSelect?!1:a.autoSelect,f=void 0===a.channels?null:a.channels,g=void 0===a.forced?!1:a.forced,h=void 0===a.assocLanguage?null:a.assocLanguage;this.isDefault=void 0===a.isDefault?!1:a.isDefault;this.url=b;this.characteristics=c;this.groupId=d;this.autoSelect=e;this.channels=f;this.forced=g;this.assocLanguage=h};
t("cast.player.api.HlsMediaInfo",Ug);t("cast.player.api.EmsgInfo",function(){});t("cast.player.api.HlsDateRangeInfo",function(){});window.VTTCue=window.VTTCue||window.TextTrackCue;var Vg=function(a){var b=Bc(Cc(),"").dj;a:{if(!rc){rc={};for(var c=0,d;d=qc[c];c++)rc[d.value]=d,rc[d.name]=d}if(a in rc)a=rc[a];else{for(c=0;c<qc.length;++c)if(d=qc[c],d.value<=a){a=d;break a}a=null}}b&&(Bc(Cc(),b.Ia()).level=a)};t("cast.player.api.setLoggerLevel",Vg);Pf||(Pf=new Mf);
if(Pf){var Wg=Pf;if(1!=Wg.gl){var Xg=Bc(Cc(),"").dj,Yg=Wg.Ln;Xg&&Bc(Cc(),Xg.Ia()).Xk.push(Yg);Wg.gl=!0}};var Zg=function(a){this.url=a;this.updateCaptionsRequestInfo=this.updateSegmentRequestInfo=this.updateManifestRequestInfo=null};t("cast.player.api.HostBase",Zg);var $g={clearkey:"org.w3.clearkey",playready:"com.chromecast.playready",widevine:"com.widevine.alpha"},ah=z("cast.player.common"),ch=function(a){return bh(a.role,a.mimeType,a.codecs)},bh=function(a,b,c){return"caption"==a||Na(b,"text/")||"application/ttml+xml"===b||"application/mp4"==b&&"stpp"==c},eh=function(a,b){b&&(b=new Uint8Array(new ArrayBuffer(16)),b.set(a),dh(b.subarray(0,4)),dh(b.subarray(4,6)),dh(b.subarray(6,8)),a=b);this.Xf=a};
eh.prototype.Yb=function(a){if(!a)return!1;var b=this.Xf;a=a.Xf;for(var c=0;16>c;c++)if(b[c]!=a[c])return!1;return!0};eh.prototype.Gh=function(){return this.Xf};eh.prototype.toString=function(){for(var a="",b=0;b<this.Xf.length;b++)a+=("0"+this.Xf[b].toString(16)).slice(-2);return a};
var dh=function(a){for(var b=0,c=a.length-1;b<c;b++,c--){var d=a[b];a[b]=a[c];a[c]=d}},fh=new eh([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),gh=new eh([237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237]),hh=new eh([16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75]),ih=function(a,b){return MediaSource.isTypeSupported(a+'; codecs="'+b+'"')},jh=function(a){return"mp4a.a6"==a||"ec-3"==a},kh=function(a,b,c){for(a=a.toString(b);a.length<c;)a="0"+a;return a},lh=function(a){for(var b=
a.length/2,c=new Uint8Array(b),d=0;d<b;d++)c[d]=parseInt(a.substr(2*d,2),16);return c},mh=function(a){if(Aa.__platform__&&Aa.__platform__.queryPlatformValue)return Aa.__platform__.queryPlatformValue(a)},nh=function(a){switch(a){case 2:return"mp4a.a5";case 6:return"mp4a.a6";case 4:return"";case 8:return"mp4a.40.5";default:return"mp4a.40.2"}},oh=function(a){a=a.split(",");for(var b=0;b<a.length;b++){var c=a[b].match(vd);if(c&&!ih("video/mp4",c[0])){C(ah,c[0]+" removed");a.splice(b,1);break}if(c=a[b]){var d=
c.split(".");2!=d.length||"avc1"!=d[0]&&"avc3"!=d[0]||(c=d[0]+"."+d[1].toUpperCase())}a[b]=c}return a.join(",")},ph=function(a){return a.split(",").find(function(b){return!ud(b)})},qh=function(a){return a.split(",").find(function(b){return ud(b)})},rh=Aa.__platform__&&Aa.__platform__.display,sh=Aa.__platform__&&Aa.__platform__.canDisplayType,th=parseFloat(mh("log-level-mpl"));0<=Ha(ib(Qg),th)?Vg(th):Vg(900);var uh={"Cast.MPL.SegmentStats.Size":{min:0,max:1E6,xl:100},"Cast.MPL.SegmentStats.Time":{min:0,max:2E4,xl:20}},vh=function(a,b){uh[a]?Ba()&&Aa.__platform__.metrics.logHistogramValueToUma(a,b,uh[a].min,uh[a].max,uh[a].xl):A(ah,"Invalid histogram name")},wh=function(a,b){vh("Cast.MPL.SegmentStats.Size",a);vh("Cast.MPL.SegmentStats.Time",b)};var yh=function(a){Zg.call(this,a.url);this.initialBandwidth=3145728;this.autoResumeDuration=10;this.autoResumeNumberOfSegments=3;this.autoPauseDuration=1;var b=a.segmentRequestRetryLimit;0>b&&(Ec(xh,"segmentRequestRetryLimit should be >= 0"),b=3);this.segmentRequestRetryLimit=b;this.useSingleKeySession=!1;this.mediaElement=a.mediaElement||null;this.url=a.url;this.licenseUrl=a.licenseUrl||null;this.decodeContentId=!0===a.decodeContentId;this.protectionSystem=a.protectionSystem||null;this.licenseCustomData=
a.licenseCustomData||null;this.qk=!0===a.aggressiveStallHandling;this.Pk=!0===a.disableSourceBufferTimeAdjust;this.Ji=!0===a.hlsContentKeyProtection;this.enableSmoothLiveRefresh=!0===a.enableSmoothLiveRefresh;this.enableDurationOnLive=!0===a.enableDurationOnLive;this.skipSegmentOnNetworkFailure=!0===a.skipSegmentOnNetworkFailure;this.preferSequenceNumberForPlaylistMatching=!0===a.preferSequenceNumberForPlaylistMatching;this.roundSegmentDurationToNearestInteger=!0===a.roundSegmentDurationToNearestInteger;
this.ignoreTtmlPositionInfo=!0===a.ignoreTtmlPositionInfo;this.enableSideloadedTextTrackStyling=!0===a.enableSideloadedTextTrackStyling;this.useRelativeCueTimestamps=!0===a.useRelativeCueTimestamps;this.emeServerCertificate=a.emeServerCertificate||null;this.lo=a.useWidevineL3||!1;this.optInRedundantStreams=a.optInRedundantStreams||!1;this.onTimedMetadata=this.onQualityLevelChanged=this.onCue=this.onAutoPause=this.onMediaDownloadEnded=this.onManifestReady=this.processLicense=this.processSegment=this.processManifest=
this.processMetadata=this.prepareLicenseRequest=this.getQualityLevel=this.trackBandwidth=this.updateCaptionsRequestInfo=this.updateSegmentRequestInfo=this.updateLicenseRequestInfo=this.updateManifestRequestInfo=this.onError=null};q(yh,Zg);
yh.prototype.Z=function(a,b,c,d){var e=a;if(b){e=b.errorCode;if(6==b.errorCode&&0<=b.status)var f=b.status;var g=a;null!=e&&(g=10*g+e%10,null!=f&&(g=1E3*g+f%1E3));e=g}v("Cast.MPL.Error",e);f=Math.floor(a/100);Ec(d||xh,"error: "+Pg[f]+"/"+e+(c?" ("+c+")":""));if(this.onError)this.onError(f,b,a)};var zh=function(a,b){return a.processManifest?a.processManifest(b):b};t("cast.player.api.Host",yh);var xh=z("cast.player.api.Host");t("cast.player.cache.ContentCacheCallbacks",function(){});var Ah=function(a){yh.call(this,a)};q(Ah,yh);t("cast.player.api.ContentCacheHost",Ah);var Bh=function(){};Bh.prototype.load=function(){Ec(Ch,"Cache is deprecated");return Promise.reject("Cache is deprecated")};Bh.prototype.Tc=function(){};t("cast.player.api.ContentCache",Bh);Bh.setCacheHitCallback=function(){};Bh.setCacheInsertCallback=function(){};Bh.prototype.unload=Bh.prototype.Tc;Bh.prototype.load=Bh.prototype.load;var Ch=z("cast.player.api.ContentCache");t("cast.player.api.DetailedErrorCode",{MEDIA_UNKNOWN:100,MEDIA_ABORTED:101,MEDIA_DECODE:102,MEDIA_NETWORK:103,MEDIA_SRC_NOT_SUPPORTED:104,SOURCE_BUFFER_FAILURE:110,MEDIAKEYS_UNKNOWN:200,MEDIAKEYS_NETWORK:201,MEDIAKEYS_UNSUPPORTED:202,MEDIAKEYS_WEBCRYPTO:203,NETWORK_UNKNOWN:300,SEGMENT_NETWORK:301,HLS_NETWORK_MASTER_PLAYLIST:311,HLS_NETWORK_PLAYLIST:312,HLS_NETWORK_NO_KEY_RESPONSE:313,HLS_NETWORK_KEY_LOAD:314,HLS_NETWORK_INVALID_SEGMENT:315,HLS_SEGMENT_PARSING:316,DASH_NETWORK:321,DASH_NO_INIT:322,
SMOOTH_NETWORK:331,SMOOTH_NO_MEDIA_DATA:332,MANIFEST_UNKNOWN:400,HLS_MANIFEST_MASTER:411,HLS_MANIFEST_PLAYLIST:412,DASH_MANIFEST_UNKNOWN:420,DASH_MANIFEST_NO_PERIODS:421,DASH_MANIFEST_NO_MIMETYPE:422,DASH_INVALID_SEGMENT_INFO:423,SMOOTH_MANIFEST:431,SEGMENT_UNKNOWN:500,TEXT_UNKNOWN:600,APP:900,BREAK_CLIP_LOADING_ERROR:901,BREAK_SEEK_INTERCEPTOR_ERROR:902,IMAGE_ERROR:903,LOAD_INTERRUPTED:904,LOAD_FAILED:905,GENERIC:999});var Dh=function(a){this.buffer=a;this.Pd=new DataView(a.buffer,a.byteOffset);this.offset=0},Eh=function(a){return a.buffer[a.offset++]},Fh=function(a){var b=a.Pd.getUint16(a.offset);a.offset+=2;return b},I=function(a){var b=a.Pd.getUint32(a.offset);a.offset+=4;return b},nf=function(a){var b=a.Pd.getInt32(a.offset);a.offset+=4;return b},Gh=function(a){var b=I(a);a=I(a);return 4294967296*b+a},Hh=function(a,b){var c=a.buffer.subarray(a.offset,a.offset+b);a.offset+=b;return c},Ih=function(a){for(var b=
a.offset;a.offset<a.buffer.length&&0!==a.Pd.getUint8(a.offset);)a.offset++;b=new Uint8Array(a.Pd.buffer,a.Pd.byteOffset+b,a.offset-b);a.offset++;a=[];for(var c=0,d=0;c<b.length;){var e=b[c++];if(128>e)a[d++]=String.fromCharCode(e);else if(191<e&&224>e){var f=b[c++];a[d++]=String.fromCharCode((e&31)<<6|f&63)}else if(239<e&&365>e){f=b[c++];var g=b[c++],h=b[c++];e=((e&7)<<18|(f&63)<<12|(g&63)<<6|h&63)-65536;a[d++]=String.fromCharCode(55296+(e>>10));a[d++]=String.fromCharCode(56320+(e&1023))}else f=b[c++],
g=b[c++],a[d++]=String.fromCharCode((e&15)<<12|(f&63)<<6|g&63)}return a.join("")},Jh=function(a){return a.buffer.subarray(a.offset)},K=function(a,b){a.offset+=b};var Lh=function(a){this.Lk=a;this.$h=this.Za=this.se=this.mode=this.Yg=0;this.wi=new Kh(this);this.xi=new Kh(this);this.Xc=[];this.reset()},Mh=function(a){return a.se+a.Za};Lh.prototype.clear=function(){this.$h=this.se=this.mode=0;this.Xc=[];this.reset()};Lh.prototype.reset=function(){this.mode=0;this.wi.reset(0);this.xi.reset(1)};
var Oh=function(a,b,c){if(255==a&&255==b||!a&&!b)return{ag:a,bg:b,result:0};a=Nh[a];b=Nh[b];if(a&128){if(!(b&128)&&0!=c.l&&c.Zh==b)return{ag:a,bg:b,result:1}}else if(b&128&&1<=a&&31>=a)return{ag:a,bg:b,result:2};return{ag:a,bg:b,result:3}},Qh=function(a,b,c){255==b&&255==c||!b&&!c?(45==++a.$h&&a.reset(),a.wi.gd.clear(),a.xi.gd.clear()):(a.$h=0,Ph(a.wi,b,c))};
Lh.prototype.decode=function(){this.Xc.sort(function(c,d){var e=c.time-d.time;return 0==e?c.order-d.order:e});for(var a=0;a<this.Xc.length;a++){var b=this.Xc[a];this.se=b.time;0==b.type?Qh(this,b.Ak,b.Bk):1==b.type&&this.Yg&496&&Ph(this.xi,b.Ak,b.Bk)}this.Xc.length=0};
var Nh=[128,1,2,131,4,133,134,7,8,137,138,11,140,13,14,143,16,145,146,19,148,21,22,151,152,25,26,155,28,157,158,31,32,161,162,35,164,37,38,167,168,41,42,171,44,173,174,47,176,49,50,179,52,181,182,55,56,185,186,59,188,61,62,191,64,193,194,67,196,69,70,199,200,73,74,203,76,205,206,79,208,81,82,211,84,213,214,87,88,217,218,91,220,93,94,223,224,97,98,227,100,229,230,103,104,233,234,107,236,109,110,239,112,241,242,115,244,117,118,247,248,121,122,251,124,253,254,127,0,129,130,3,132,5,6,135,136,9,10,139,
12,141,142,15,144,17,18,147,20,149,150,23,24,153,154,27,156,29,30,159,160,33,34,163,36,165,166,39,40,169,170,43,172,45,46,175,48,177,178,51,180,53,54,183,184,57,58,187,60,189,190,63,192,65,66,195,68,197,198,71,72,201,202,75,204,77,78,207,80,209,210,83,212,85,86,215,216,89,90,219,92,221,222,95,96,225,226,99,228,101,102,231,232,105,106,235,108,237,238,111,240,113,114,243,116,245,246,119,120,249,250,123,252,125,126,255],Rh=function(){this.qc=0};Rh.prototype.set=function(a){this.qc=a};
Rh.prototype.get=function(){return this.qc};var Sh=function(){this.Zh=this.uk=this.l=0};Sh.prototype.clear=function(){this.l=0};Sh.prototype.update=function(){this.l=2==this.l?1:0};Sh.prototype.matches=function(a,b){return 0!=this.l&&a==this.uk&&b==this.Zh};var Th=function(){this.timestamp=this.sc=0;this.Xe=!1};Th.prototype.reset=function(){this.timestamp=this.sc=0;this.Xe=!1};
var Uh=function(a){this.Bb=[];for(var b=0;15>=b;b++){this.Bb[b]=[];for(var c=0;32>=c;c++)this.Bb[b][c]=new Th}this.ba=this.Da=this.Ea=0;this.style=new Rh;this.ja=a;this.nf=0},Wh=function(a){for(var b="",c=Mh(a.ja),d=c,e=1;15>=e;++e){for(var f="",g=!1,h=1;32>=h;++h){var l=a.Bb[e][h];if(0!=l.sc){var m=String.fromCharCode(l.sc);" "!=m&&(g=!0);f+=m;var p=l.timestamp;p<c&&(c=p);p>d&&(d=p);3==a.style.qc?(!l.Xe&&" "==m&&g&&32>h&&Vh(a.ja.Lk,c,c,b?b+"\n"+f:f),l.Xe=!0):l.reset()}}f&&(b=b?b+"\n"+f:f)}b&&Vh(a.ja.Lk,
c,d,b)};Uh.prototype.reset=function(a){for(var b=0;15>=b;b++)for(var c=0;32>=c;c++)this.Bb[b][c].reset();this.nf=a;this.ba=0;this.Da=this.Ea=1};
var Xh=function(a){return a.Bb[a.Ea][a.Da]},$h=function(a,b,c){2<=b&&1<a.Da&&(--a.Da,Xh(a).sc=0);var d=Xh(a);d.timestamp=Mh(a.ja);a:{switch(b){case 0:b=Yh[(c&127)-32];break a;case 1:b=Zh[c&15];break a}b=0}d.sc=b;32>a.Da&&a.Da++},ai=function(a,b,c,d){for(var e=0;e<d;e++)for(var f=0;32>=f;f++){var g=a.Bb[b+e][f],h=a.Bb[c+e][f];g.sc=h.sc;g.timestamp=h.timestamp;g.Xe=h.Xe}},bi=function(a,b,c){for(var d=0;d<c;d++)for(var e=0;32>=e;e++)a.Bb[b+d][e].reset()},ci=function(a){a.Ea=0<a.ba?a.ba:1;a.Da=1;bi(a,
0,15)},Yh=[32,33,34,35,36,37,38,39,40,41,225,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,233,93,237,243,250,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,231,247,209,241,9632],Zh=[174,176,189,191,8482,162,163,9834,224,32,232,226,234,238,244,251],di=function(a){this.ja=a;this.fi=0;this.style=new Rh;this.jj=new Uh(a);this.kj=new Uh(a);this.ya=
new Uh(a);this.Eb=this.jj;this.de=this.kj;this.X=this.Eb};di.prototype.reset=function(a,b){this.fi=b;this.style.set(2);this.Eb=this.jj;this.de=this.kj;this.X=this.Eb;var c=(a<<2)+(b<<1);this.jj.reset(c);this.kj.reset(c);this.ya.reset((a<<2)+(b<<1)+1)};
var ei=function(a,b){var c=a.Eb;switch(a.style.get()){case 4:if(0<c.ba)break;case 1:case 2:Wh(c),ci(a.Eb),ci(a.de),c.Ea=15,c.ba=b}a.style.set(3);a.X=c;a.X.style=a.style;a.ja.mode=1<<c.nf;c.Da=1;c.ba!=b&&(c.ba>b?(Wh(c),bi(c,c.Ea-c.ba,b)):c.Ea<b&&(b=c.ba),c.ba=b)},fi=function(a){a.style.set(1);a.X=a.de;a.X.ba=0;a.X.style=a.style;a.ja.mode=1<<a.X.nf},gi=function(a){a.style.set(4);a.X=a.ya;a.X.style=a.style;a.ja.mode=1<<a.X.nf},Kh=function(a){this.ja=a;this.gd=new Sh;this.yi=0;this.cg=new di(a);this.vk=
new di(a);this.oi=this.cg};Kh.prototype.reset=function(a){this.yi=a;this.gd.clear();this.oi=this.cg;this.cg.reset(a,0);this.vk.reset(a,1)};
var Ph=function(a,b,c){a.gd.update();b=Oh(b,c,a.gd);switch(b.result){case 0:return;case 1:case 2:return}var d=b.ag;c=b.bg;if(32<=d||!d)a.ja.mode&a.ja.Yg&&(b=d,b&128&&(b=127),c&128&&(c=127),a=a.oi.X,b&96&&$h(a,0,b),c&96&&$h(a,0,c));else if(d&16)a:if(!a.gd.matches(d,c)&&(b=a.gd,b.uk=d,b.Zh=c,b.l=2,b=d&8?a.vk:a.cg,a.oi=b,a.ja.mode=1<<(a.yi<<2)+(b.fi<<1)+(4==b.style.qc?1:0),(a.ja.mode|1<<(a.yi<<2)+(b.fi<<1)+(4!=b.style.qc?1:0))&a.ja.Yg))if(c&64){a=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(d&7)<<1|c>>
5&1];c=c&16?4*((c&14)>>1):0;d=b.X;switch(b.style.get()){case 4:a=d.Ea;break;case 3:if(a!=d.Ea){if(a<d.ba&&(a=d.ba,a==d.Ea))break;var e=1+d.Ea-d.ba,f=1+a-d.ba;ai(d,f,e,d.ba);b=e;var g=d.ba;f<e?(e=f+g-e,0<e&&(b+=e,g-=e)):(e=e+g-f,0<e&&(g-=e));bi(d,b,g)}}d.Ea=a;d.Da=c+1}else switch(d&7){case 1:switch(c&112){case 32:$h(b.X,0,32);break a;case 48:57==c?(b=b.X,Xh(b).sc=0,32>b.Da&&b.Da++):$h(b.X,1,c&15)}break;case 2:c&32&&$h(b.X,2,c&31);break;case 3:c&32&&$h(b.X,3,c&31);break;case 4:case 5:if(32<=c&&47>=
c)switch(c){case 32:fi(b);break;case 33:b=b.X;1<b.Da&&(--b.Da,Xh(b).sc=0);break;case 36:b=b.X;a=Xh(b);for(c=0;15>=c;c++)for(d=0;32>=d;d++)if(b.Bb[c][d]==a){for(;32>=d;d++)b.Bb[c][d].reset();break}break;case 37:ei(b,2);break;case 38:ei(b,3);break;case 39:ei(b,4);break;case 40:$h(b.X,0,32);break;case 41:b.style.set(2);b.X=b.Eb;b.X.ba=0;b.X.style=b.style;b.ja.mode=1<<b.X.nf;break;case 42:a=b.ya;a.ba=15;a.style.set(4);ci(a);gi(b);break;case 43:gi(b);break;case 44:a=b.Eb;switch(b.style.get()){case 1:case 2:case 3:Wh(a)}bi(a,
0,15);break;case 45:b:{a=b.X;switch(b.style.get()){default:case 2:case 1:break b;case 4:if(15>a.Ea){++a.Ea;a.Da=1;break b}case 3:}2>a.ba&&(a.ba=2,a.Ea<a.ba&&(a.Ea=a.ba));b=a.Ea-a.ba+1;Wh(a);ai(a,b,b+1,a.ba-1);bi(a,a.Ea,1)}break;case 46:bi(b.de,0,15);break;case 47:Wh(b.Eb),a=b.de,b.de=b.Eb,b.Eb=a,fi(b)}break;case 7:switch(c){case 33:case 34:case 35:b=b.X,32<(b.Da+=c&3)&&(b.Da=32)}}};var hi=function(a){this.di=a;this.kc=0;this.yb=new Uint8Array(5120)};hi.prototype.clear=function(){this.kc=0};hi.prototype.append=function(a){this.yb.set(a,this.kc);this.kc+=a.length};
hi.prototype.process=function(a){for(var b,c=b=0,d=0;c<this.kc;)2==b&&3==this.yb[c]?b=0:(0==this.yb[c]?b++:b=0,this.yb[d]=this.yb[c],d++),c++;b=c-d;for(c=0;c+b<this.kc;){for(var e=0;255==this.yb[c];)e+=255,c++;e+=this.yb[c++];for(d=0;255==this.yb[c];)d+=255,c++;d+=this.yb[c++];if(4==e){e=this.di.ja;var f=a,g=new Dh(this.yb.subarray(c,c+d));if(181==Eh(g)&&49==Fh(g)&&1195456820==I(g)&&3==Eh(g)){var h=Eh(g);if(0!=(h&64)){h&=31;K(g,1);for(var l=0;l<h;l++){var m=Eh(g),p=(m&4)>>2,u=Eh(g),D=Eh(g);p&&e.Xc.push({time:f,
type:m&3,Ak:u,Bk:D,order:e.Xc.length})}}}}c+=d}this.kc=0};var ii=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350],ji=function(a){Ec(z("cast.player.mp4.base"),a)},ki=function(a,b,c){if(0>a||32<=a)return ji("Invalid object type id: "+a),null;var d=ii.indexOf(b);return 0>d?(ji("Invalid sample rate: "+b),null):0>c||16<c?(ji("Invalid channels: "+c),null):new Uint8Array([a<<3|d>>1,d<<7|c<<3])};var mi=function(a){this.ka=li(a)};mi.prototype.reset=function(a){this.ka=li(a)};var li=function(a){for(var b=-1,c=0;c<a.length;c++){var d=parseInt(a.charAt(c),10);if(isNaN(d))throw Error("Invalid positive base 10 integer string");0>b&&d&&(b=c)}return a.substr(b,a.length)};mi.prototype.toString=function(){return this.ka};
mi.prototype.add=function(a){if(0>a||Math.floor(a)!=a)throw Error("Value must be a positive integer");var b=a+"",c=Math.max(b.length,this.ka.length);a=[];for(var d=0,e=0;e<c;e++){var f=d+parseInt(e<b.length?b.charAt(b.length-1-e):"0",10)+parseInt(e<this.ka.length?this.ka.charAt(this.ka.length-1-e):"0",10);10<=f?(d=1,f-=10):d=0;a.push(f)}b=0<d?"1":"";for(c=a.length-1;0<=c;c--)b+=a[c];this.ka=b};
var ni=function(a,b){if(b.ka.length<a.ka.length)return!0;if(b.ka.length>a.ka.length)return!1;for(var c=0;c<b.ka.length;c++){var d=parseInt(a.ka.charAt(c),10),e=parseInt(b.ka.charAt(c),10);if(d<e)return!1;if(d>e)break}return!0};var oi=function(a){Dh.call(this,a)};q(oi,Dh);var pi=function(a){this.buffer=new Uint8Array(new ArrayBuffer(a?a:2E4));this.offset=0},qi=function(a){return a.buffer.subarray(0,a.offset)};pi.prototype.Nh=function(a){L(this,[a])};pi.prototype.Fd=function(a){L(this,[a>>8,a])};pi.prototype.A=function(a){L(this,[a>>24,a>>16,a>>8,a])};pi.prototype.pk=function(a){this.A(a/4294967296);this.A(a%4294967296)};
var L=function(a,b){var c=b.length;if(!(a.offset+c<=a.buffer.length)){for(var d=a.buffer.length;d<a.offset+c;)d*=2;d=new Uint8Array(new ArrayBuffer(d));d.set(a.buffer,0);a.buffer=d}a.buffer.set(b,a.offset);a.offset+=c};var ri=function(a){pi.call(this,a)};q(ri,pi);var si=function(a,b,c){(new DataView(a.buffer,a.byteOffset,a.byteLength)).setUint32(b,c)};var ti=function(a){this.U=new oi(a);this.Qc=0;this.ve=this.Zg=null;this.gh=a;this.Jb=0;this.Qc=I(this.U);this.Jb=4;this.Zg=I(this.U);this.Jb+=4;1===this.Qc&&(this.Qc=Gh(this.U),this.Jb+=8);1970628964===this.Zg&&(this.ve=new eh(Hh(this.U,16)),this.Jb+=16)},ui=function(a){switch(a.Zg){case 1836019574:case 1836019558:case 1836475768:case 1953653099:case 1953653094:case 1701082227:case 1835297121:case 1835626086:case 1684631142:case 1937007212:return!0;default:return!1}};ti.prototype.Ia=function(){return this.Zg};
var vi=function(a){return a.gh.subarray(0,a.Qc)},M=function(a){return vi(a).subarray(a.Jb)};ti.prototype.s=function(a){L(a,this.gh.subarray(0,this.Qc))};var N=function(a){ti.call(this,a);this.zc=this.ra=0;a=I(this.U);this.Jb+=4;this.ra=a>>>24;this.zc=a&16777215};q(N,ti);var wi=function(a){N.call(this,a)};q(wi,N);
wi.prototype.Ei=function(a){for(var b=this.ra,c=Eh(this.U),d=Array(c),e=0;e<c;e++){if(1===b){var f=I(this.U);var g=I(this.U);var h=I(this.U);var l=I(this.U);var m=new mi(Math.floor(4294967296*f/1E4).toString()+"0000");m.add(f%1E4*7296%1E4);m.add(g);f=4294967296/a*f+g/a;h=4294967296/a*h+l/a}else l=I(this.U),h=I(this.U),m=new mi(l.toString()),f=l/a,h/=a;d[e]={time:f,duration:h,dc:m,offset:0,size:0,url:null}}return d};
var xi=new eh([212,128,126,242,202,57,70,149,142,84,38,203,158,70,167,159]),yi=function(a){N.call(this,a)};q(yi,N);yi.prototype.Ei=function(a){var b=this.ra;K(this.U,4);var c=I(this.U),d=0===b?I(this.U):Gh(this.U),e=0===b?I(this.U):Gh(this.U),f=a+vi(this).byteOffset,g=this.Qc;K(this.U,2);a=Fh(this.U);b=Array(a);e=f+g+e;for(f=0;f<a;f++){g=I(this.U)&2147483647;var h=I(this.U);K(this.U,4);b[f]={time:d/c,duration:h/c,dc:null,offset:e,size:g,url:null};d+=h;e+=g}return b};
var zi=function(a){N.call(this,a);this.qh=new Uint8Array([]);this.Kj=null;this.Xi=!1;this.sb()};q(zi,N);zi.prototype.sb=function(){var a=new oi(M(this)),b=this.zc;b&1&&K(a,20);var c=I(a);this.Kj=Jh(a);this.Xi=b&2?!0:!1;this.qh=new Uint8Array(new ArrayBuffer(c));for(b=0;b<c;b++)if(this.Xi){K(a,8);var d=6*Fh(a);this.qh[b]=10+d;K(a,d)}else this.qh[b]=8,K(a,8)};var Ai=new eh([162,57,79,82,90,155,79,20,162,68,108,66,124,100,141,244]),Bi=function(a){N.call(this,a);this.xc=0;this.sb()};q(Bi,N);
Bi.prototype.sb=function(){var a=new oi(M(this));K(a,4);K(a,4);this.xc=I(a)};var Ci=function(a){N.call(this,a);this.ph=0;this.am=[];this.oh=[];this.sb()};q(Ci,N);Ci.prototype.sb=function(){var a=new oi(M(this));this.ph=I(a);var b=this.zc;b&1&&K(a,4);b&4&&K(a,4);var c=!!(b&256),d=!!(b&512),e=!!(b&1024);b=!!(b&2048);for(var f=0;f<this.ph;f++)c&&K(a,4),d&&this.am.push(I(a)),e&&K(a,4),b&&(1===this.ra?this.oh.push(nf(a)):this.oh.push(I(a)))};Ci.prototype.uh=function(a){si(M(this),4,a)};
var Di=function(a){N.call(this,a);this.Fa=9E4;this.sb()};q(Di,N);Di.prototype.sb=function(){var a=new oi(M(this));1===this.ra?(K(a,8),K(a,8)):(K(a,4),K(a,4));this.Fa=I(a)};var Ei=function(a){N.call(this,a)};q(Ei,N);var Fi=function(a){N.call(this,a);this.Zj=new eh(Hh(this.U,16));a=I(this.U);this.kg=Hh(this.U,a)};q(Fi,N);Fi.prototype.getData=function(){return this.kg};var Gi=function(a){N.call(this,a);this.mc=1===this.ra?Gh(this.U):I(this.U)};q(Gi,N);Gi.prototype.getStartTime=function(){return this.mc};
var Hi=function(a){N.call(this,a)};q(Hi,N);var Ii=function(a){ti.call(this,a)};q(Ii,ti);Ii.prototype.uh=function(a,b){var c=O(M(this),1953653094);if(c){var d=O(M(c),1953658222);d&&d.uh(a-this.gh.byteOffset);b&&(a=O(M(c),1935763823))&&(b-=this.gh.byteOffset,c=0,a.zc&1&&(c+=8),c+=4,d=M(a),0!=a.ra&&(si(d,c,Math.floor(b/4294967296)),c+=4),si(d,c,Math.floor(b%4294967296)))}};
var Ji=function(a,b){var c=O(a,1836019558);a=M(O(a,1835295092)).byteOffset;b?c.uh(a+b,a):c.uh(a)},Ki=function(a){N.call(this,a);this.ij=[];this.cm=[];this.si=0;this.sb()};q(Ki,N);
Ki.prototype.sb=function(){var a=new oi(M(this));this.si=I(a);for(var b=0;b<this.si;b++){if(1===this.ra){this.cm.push(Gh(a));var c=this.ij,d=c.push,e=I(a),f=I(a),g=e&2147483648;g&&(f=~f+1>>>0,e=~e>>>0,0===f&&(e=e+1>>>0));e=4294967296*e+f;d.call(c,g?-e:e)}else 0===this.ra&&(this.cm.push(I(a)),this.ij.push(nf(a)));K(a,2);K(a,2)}};var Li=function(a){N.call(this,a);this.tc=this.Mj="";this.Fb=this.mc=this.Li=this.pg=this.ih=this.Fa=0;this.wl=[];this.sb()};q(Li,N);Li.prototype.getStartTime=function(){return this.mc};
Li.prototype.sb=function(){var a=new oi(M(this));0===this.ra?(this.Mj=Ih(a),this.tc=Ih(a),this.Fa=I(a),this.ih=I(a),this.pg=I(a),this.Li=I(a)):1===this.ra&&(this.Fa=I(a),this.ih=Gh(a),this.pg=I(a),this.Li=I(a),this.Mj=Ih(a),this.tc=Ih(a));for(;a.offset<a.buffer.length;)this.wl.push(Eh(a))};
var Mi=function(a){switch(a.Ia()){case 1701671783:return new Li(vi(a));case 1701606260:return new Ki(vi(a));case 1836019558:return new Ii(vi(a));case 1835296868:return new Di(vi(a));case 1953658222:return new Ci(vi(a));case 1935763823:return new Hi(vi(a));case 1936286840:return new yi(vi(a));case 1952868452:return new Ei(vi(a));case 1970628964:var b=a.ve;return Ai.Yb(b)?new zi(vi(a)):xi.Yb(b)?new wi(vi(a)):a;case 1886614376:return new Fi(vi(a));case 1952867444:return new Gi(vi(a));case 1953654136:return new Bi(vi(a));
case 1702061171:case 1751411826:case 1835427940:case 1836476516:case 1935763834:case 1935894637:case 1937011571:case 1952804451:case 1953196132:return new N(vi(a));default:return a}},O=function(a,b,c,d){d=void 0===d?!1:d;for(var e=0;e<a.length;){var f=new ti(a.subarray(e));e+=f.Qc;if(f.Ia()===b&&(1970628964!=b||c&&c.Yb(f.ve)))return Mi(f);if(d&&ui(f)&&(f=O(M(f),b,c,d)))return f}return null},Ni=function(a,b,c){c=void 0===c?!1:c;for(var d=0,e=[];d<a.length;){var f=new ti(a.subarray(d));d+=f.Qc;if(b){var g=
f.Ia();g&&b.includes(g)&&e.push(Mi(f))}else e.push(Mi(f));c&&ui(f)&&(e=e.concat(Ni(M(f),b,c)))}return e};var Oi=function(a){this.lc=new hi(a);this.Ud=0;this.Fa=9E4;this.xc=null;this.Ob=[]};k=Oi.prototype;k.ta=function(a){a?this.Ob=Ni(a,[1835296868,1953654136,1953658222,1835295092],!0):(this.Ob=[],this.Ud=0)};k.dm=function(a){this.Ud=a};k.fm=function(a){this.Fa=a};k.Ua=function(){return!this.Ob.length};k.Lg=function(){return!this.Ob.length};
k.parse=function(){if(this.Ob.length){for(var a,b,c,d=0,e=0;e<this.Ob.length;e++){var f=this.Ob[e];switch(f.Ia()){case 1835296868:this.Fa=f.Fa;break;case 1953654136:this.xc=f.xc;break;case 1953658222:a=f.ph;b=f.am;c=f.oh;break;case 1835295092:var g=b,h=c;if(a&&g&&g.length&&h){f=new Dh(M(f));if(this.xc&&this.Fa)var l=this.xc/this.Fa;else if(this.Ob.length){l=0;for(var m=n(this.Ob),p=m.next();!p.done;p=m.next())p=p.value,1953658222==p.Ia()&&(l+=p.ph);l=l?this.Ud/l:0}else l=0;m=0;for(p=g[0];f.offset<
f.buffer.length;){var u=I(f);6==(Eh(f)&31)?(this.lc.append(Hh(f,u-1)),this.lc.process(0==h.length?d:d+h[m]/this.Fa)):K(f,u-1);p-=u+4;0==p&&(d+=l,m++,p=g[m])}}}}this.Ob=[]}};var Pi=function(){this.B=null;this.Td=this.fc=this.al=this.Wh=this.Cg=this.zf=this.K=0;this.Ql=this.Ek=!1};Pi.prototype.Ua=function(){return null===this.B};Pi.prototype.Lg=function(){return this.K>=this.B.length};Pi.prototype.ta=function(a){this.B=a;this.Td=this.fc=this.Wh=this.Cg=this.zf=this.K=0};
Pi.prototype.parse=function(){for(var a=this.K;this.K<this.B.length&&!(524288<this.K-a);){for(;this.K<this.B.length&&71!=this.B[this.K];)this.K++;if(this.K+188>this.B.length)break;var b=this.K+188,c=b-1;this.K++;var d=this.B[this.K]&64,e=this.B[this.K]&31;this.K++;e=e<<8|this.B[this.K];this.K++;var f=(this.B[this.K]&48)>>4;this.K++;f&2&&(this.K+=this.B[this.K]+1);if(0==e||e==this.zf)if(d&&this.K++,c=this.B[this.K],this.K++,0==c)for(c=this.K,d=this.B[c]&15,c++,d=d<<8|this.B[c],c++,d=c+d-4,c+=5;c<d;)if(e=
this.B[c],c++,e=(e<<8)+this.B[c],c++,0==e)c+=2;else{this.zf=this.B[c]&31;c++;this.zf=(this.zf<<8)+this.B[c];break}else{if(2==c)for(this.Ql=!0,c=this.K,d=this.B[c]&15,c++,d=d<<8|this.B[c],c++,d=c+d-4,c=c+5+2,e=this.B[c]&15,c++,e=e<<8|this.B[c],c+=e+1;c<d;){e=this.B[c];c++;f=this.B[c]&31;c++;f=f<<8|this.B[c];c++;switch(e){case 27:case 219:this.Cg=f;break;case 15:case 207:this.Ek=!0;this.Wh=f;break;case 21:this.al=f}e=this.B[c]&15;c++;e=e<<8|this.B[c];c+=e+1}}else if(e==this.al)this.Pl(this.K,c,!!d);
else if(e==this.Cg||e==this.Wh)d&&this.zj(this.K),e==this.Cg&&this.Ol(this.K,c);this.K=b}};var Qi=function(a,b){var c=((a.B[b]&14)<<13)/1.373291015625;c+=(a.B[b+1]<<6)/1.373291015625;c+=(a.B[b+2]&254)/5.4931640625;c+=a.B[b+3]/703.125;return c+=(a.B[b+4]&254)/18E4};Pi.prototype.zj=function(a){if(0==this.B[a]&&0==this.B[a+1]&&1==this.B[a+2]){a+=7;var b=this.B[a]>>6&3;a++;var c=this.B[a];a++;this.K=a+c;2==b?this.Td=this.fc=Qi(this,a):3==b&&(this.fc=Qi(this,a),this.Td=Qi(this,a+5))}};
Pi.prototype.Pl=function(){};Pi.prototype.Ol=function(){};var Ri=function(a){Pi.call(this);this.lc=new hi(a)};q(Ri,Pi);Ri.prototype.ta=function(a){Pi.prototype.ta.call(this,a);this.lc.clear()};Ri.prototype.dm=function(){};Ri.prototype.fm=function(){};Ri.prototype.Ol=function(a,b){for(var c=0;;){var d=Si(this,a,b),e=0<=d;if(0<this.lc.kc||6===c||e){c=e?d-1:b;var f=this.lc;f.kc+(c-a+1)<=f.yb.length||this.lc.process(this.fc);this.lc.append(this.B.subarray(a,c+1))}if(!e)break;this.lc.process(this.fc);a=d;c=this.B[a++]&31}};
var Si=function(a,b,c){if(b>=c)return-1;for(c-=3;b<=c;){if(0==a.B[b]&&0==a.B[b+1]){if(0==a.B[b+2]&&1==a.B[b+3])return b+4;if(1==a.B[b+2])return b+3}b++}return-1};var Ti=function(a,b,c){this.v=a;this.yk="cast-captions-cue-styling";this.Gk="["+this.yk+'="true"]::cue';for(a=this.v;a.parentNode;)a=a.parentNode;this.Ij=0>a.toString().toLowerCase().indexOf("shadow")?document.head:a;a=this.Ij.getElementById?this.Ij.getElementById("cue-style"):document.getElementById("cue-style");a||(a=document.createElement("style"),a.id="cue-style",a.type="text/css",this.Ij.appendChild(a),a.appendChild(document.createTextNode("")));this.Nm=a;this.Md=this.Nm.sheet;this.fg=b;this.Hm=
c};
Ti.prototype.Of=function(a,b){var c=this,d=this.fg.Ag();if(!(0===a.length||0<d.length)){switch(this.Hm){case "webvtt":Ui(this,".white","color: rgba(255,255,255,1);"),Ui(this,".lime","color: rgba(0,255,0,1);"),Ui(this,".cyan","color: rgba(0,255,255,1);"),Ui(this,".red","color: rgba(255,0,0,1);"),Ui(this,".yellow","color: rgba(255,255,0,1);"),Ui(this,".magenta","color: rgba(255,0,255,1);"),Ui(this,".blue","color: rgba(0,0,255,1);"),Ui(this,".black","color: rgba(0,0,0,1);"),Ui(this,".bg_white","background-color: rgba(255,255,255,1);"),Ui(this,
".bg_lime","background-color: rgba(0,255,0,1);"),Ui(this,".bg_cyan","background-color: rgba(0,255,255,1);"),Ui(this,".bg_red","background-color: rgba(255,0,0,1);"),Ui(this,".bg_yellow","background-color: rgba(255,255,0,1);"),Ui(this,".bg_magenta","background-color: rgba(255,0,255,1);"),Ui(this,".bg_blue","background-color: rgba(0,0,255,1);"),Ui(this,".bg_black","background-color: rgba(0,0,0,1);"),a=Vi(b,a)}a=n(a);for(b=a.next();!b.done;b=a.next()){b=b.value;d=b.sh.map(function(e){return""+c.Gk+e});
d=d.join(",\n");try{this.Md.insertRule(d+" { "+b.rules+" }",this.Md.cssRules.length)}catch(e){A(Wi,"Found invalid style: "+(d+" { "+b.rules+" }"))}}this.v.setAttribute(this.yk,!0)}};Ti.prototype.Kd=function(){if(!(0<this.fg.Ag().length))for(var a=this.Md.cssRules.length-1;0<=a;a--)this.Md.deleteRule(a)};
var Ui=function(a,b,c){a.Md.insertRule(a.Gk+"("+b+") { "+c+" }",a.Md.cssRules.length)},Vi=function(a,b){if(!a)return b;for(var c=n(b),d=c.next();!d.done;d=c.next())d=d.value,d.sh=d.sh.filter(function(e){if(!e.includes("#"))return!0;if(!a.Ki)return!1;for(var f=e,g,h;h=Xi.exec(e);)g=h[0],h=h[1].replace(/^0*/,""),h=String.fromCodePoint(parseInt(h,16)),f=f.replace(g,h);f=f.replace(/\\/g,"");return a.Ki&&f.includes(a.Ki)}).map(function(e){return e.startsWith("(#")?"":e});return b.filter(function(e){return 0<
e.sh.length})},Xi=/\\([0-9A-Fa-f]{1,6})\s?/g,Wi=z("cast.player.core.CaptionsStyler");var Yi=function(){this.Ie=new pg},Zi=function(a){return a.Ie.Hb().map(function(b){return lb(b)})};Yi.prototype.xj=function(a,b){a=(new TextDecoder).decode(a);return this.parse(a,b)};var $i=function(a){this.Ie=new pg;this.ug=30;this.dn=a;this.Bg=null};q($i,Yi);
var aj=function(a,b){a=n(a);for(var c=a.next();!c.done;c=a.next())if(c=c.value,c.localName===b)return c;return null},dj=function(a,b){var c=b.split(":");if(1==c.length){var d=0;if(c=c[0].match(bj))switch(b=parseFloat(c[1]),c[2]){case "h":d=3600*b;break;case "m":d=60*b;break;case "s":d=b;break;case "ms":d=b/1E3;break;case "f":d=b/a.ug}else A(cj,"unsupported time expression: "+b);return d}d=3600*parseInt(c[0],10)+60*parseInt(c[1],10)+parseFloat(c[2]);4==c.length&&(d+=parseInt(c[3],10)/a.ug);return d},
ej=function(a,b){var c="";b=n(b.childNodes);for(var d=b.next();!d.done;d=b.next())d=d.value,d.nodeType==Node.TEXT_NODE?(d=d.textContent.trim())&&(c+=d):"span"==d.localName?(c+=ej(a,d),(d=d.attributes.getNamedItem("tts:fontStyle"))&&"italic"==d.value&&(c="<i>"+c+"</i>")):"br"==d.localName&&(c+="\n");return c};
$i.prototype.parse=function(a,b){var c=[],d=new DOMParser;a=Og(d,vb(a));a=aj(a.childNodes,"tt");if(!a)return A(cj,"missing tt"),c;if(d=a.attributes.getNamedItem("tts:extent"))this.Bg=fj(this,d.value,!0);var e=d=null,f=aj(a.childNodes,"head");if(f){if(e=aj(f.childNodes,"styling")){d=null;e=n(e.childNodes);for(var g=e.next();!g.done;g=e.next()){var h=g.value;"style"===h.nodeName&&h.attributes&&(g=h.attributes.getNamedItem("xml:id"))&&(h=gj(this,{node:h,oc:d}),d=d||new Map,d.set(g.value,h))}}else d=
null;e=d;if(g=aj(f.childNodes,"layout")){f=null;g=n(g.childNodes);for(h=g.next();!h.done;h=g.next()){var l=h.value;"region"===l.nodeName&&l.attributes&&(h=l.attributes.getNamedItem("xml:id"))&&(l=gj(this,{node:l,oc:e}),l.textAlign=l.textAlign||"left",f=f||new Map,f.set(h.value,l))}e=f}else e=null}f=aj(a.childNodes,"body");if(!f)return A(cj,"missing body"),c;(c=a.attributes.getNamedItem("ttp:frameRate"))?this.ug=parseInt(c.value,10):(A(cj,"defaulting frameRate to30"),this.ug=30);c={};if(a=aj(a.childNodes,
"head"))if(a=aj(a.childNodes,"metadata"))for(a=n(a.childNodes),g=a.next();!g.done;g=a.next())g=g.value,"image"==g.localName&&(c["#"+g.attributes.getNamedItem("xml:id").value]=ej(this,g));a=gj(this,{node:f,oc:d,Ni:!0});return hj(this,{node:f,T:b,Jf:e,oc:d,cl:c,Yd:a})};
var hj=function(a,b){var c=b.node,d=b.T,e=b.Jf,f=b.oc,g=b.cl;b=b.Yd;var h=null,l=null,m=null,p=[];if(!c.attributes)return p;for(var u=ej(a,c),D=n(c.attributes),B=D.next();!B.done;B=D.next())switch(B=B.value,B.localName){case "begin":h=dj(a,B.value)+d;break;case "end":l=dj(a,B.value)+d;break;case "backgroundImage":g[B.value]&&(m=g[B.value])}(u||m)&&null!==h&&null!==l?(D=gj(a,{node:c,oc:f,Jf:e,Yd:b}),h=new VTTCue(h,l,u),!a.dn&&(D.textAlign&&(h.align=D.textAlign),l=D.origin)&&(h.line=l.y,"%"===l.unit&&
(h.position=l.x,"left"!==h.align&&"right"!==h.align&&(h.position=50)),h.snapToLines=!1),p.push({re:h,en:m,te:D})):(u||m||h||l)&&A(cj,"Cue not recognized: begin="+h+", end="+l+", cueText="+(u+", imageData="+m));c=n(c.children);for(m=c.next();!m.done;m=c.next())h=m.value,m=gj(a,{node:h,oc:f,Yd:b,Ni:!0}),Array.prototype.push.apply(p,hj(a,{node:h,T:d,Jf:e,oc:f,cl:g,Yd:m}));return p},ij=function(a){if("auto"===a)return null;a=a.split(" ");return 2!==a.length?(A(cj,"Two numbers are expected in tts:origin"),
null):a.find(function(b){return!b.includes("%")})?(A(cj,"Only percentage values are supported in tts:origin!"),null):{x:parseInt(a[0],10),y:parseInt(a[1],10),unit:"%"}},fj=function(a,b,c){c=void 0===c?!1:c;if("auto"===b)return null;var d=b.split(" ");if(2!==d.length)return A(cj,"Two numbers are expected in tts:extent"),null;b=parseInt(d[0],10);var e=parseInt(d[1],10);d=d.find(function(f){return f.includes("%")})?"%":"px";!c&&a.Bg&&(b*=100/a.Bg.width,e*=100/a.Bg.height,d="%");return{width:b,height:e,
unit:d}},gj=function(a,b){var c=b.node,d=void 0===b.oc?null:b.oc,e=void 0===b.Jf?null:b.Jf,f=void 0===b.Yd?void 0:b.Yd;b=void 0===b.Ni?!1:b.Ni;f=f&&Object.assign({},f)||{};if(!c.attributes)return f;if(d){var g=c.attributes.getNamedItem("style");g&&Object.assign(f,d.get(g.value))}e&&(d=c.attributes.getNamedItem("region"))&&Object.assign(f,e.get(d.value));c=n(c.attributes);for(d=c.next();!d.done;d=c.next())switch(e=a,d=d.value,g=f,d.name){case "tts:origin":g.origin=ij(d.value);break;case "tts:extent":g.Me=
fj(e,d.value);break;case "tts:textAlign":g.textAlign=d.value}if(b){a={};b=n(Object.entries(f));for(f=b.next();!f.done;f=b.next())c=n(f.value),f=c.next().value,c=c.next().value,jj.has(f)&&(a[f]=c);f=a}return f},cj=z("cast.player.core.TtmlParser"),bj=/([0-9]*\.?[0-9]+)?(h|ms|m|s|f)/,jj=new Set("color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline visibility wrapOption".split(" "));var kj=function(){$i.apply(this,arguments)};q(kj,$i);kj.prototype.xj=function(a,b){a=O(a,1835295092);if(!a)return[];a=Jh(new Dh(M(a)));return $i.prototype.xj.call(this,a,b)};var lj=function(){this.Ie=new pg;this.rg=-1};q(lj,Yi);
lj.prototype.parse=function(a,b){this.rg=-1;for(var c=a.trim().split(mj),d=0,e=0,f=n(c[0].split("\n")),g=f.next();!g.done;g=f.next())if(g=g.value,0==g.indexOf("X-TIMESTAMP-MAP")){(f=g.match(nj))&&(d=oj(f[1]));(f=g.match(pj))&&(e=parseInt(f[1],10)/9E4);break}b+=e-d;if(isNaN(b))return A(qj,"invalid time offset"),[];d=[];c=n(c);for(e=c.next();!e.done;e=c.next())if(e=e.value){for(var h=b,l=null,m=null,p=null,u=null,D=g=f=null,B=0,ya=e.split("\n"),ja=0;ja<ya.length;ja++){var hc=ya[ja];if(l=hc.match(rj)){m=
hc.match(sj);p=hc.match(tj);u=hc.match(uj);f=hc.match(vj);g=hc.match(wj);0<ja&&(D=ya[ja-1]);break}B++}l?(ja=oj(l[1]),l=oj(l[2]),B=ya.slice(B+1).join("\n"),isNaN(ja)||isNaN(l)||!B?(A(qj,"skipped cue, begin="+ja+", end="+l+", text="+B),f=null):(h=new VTTCue(ja+h,l+h,B),m&&(h.align=m[1]),p&&(h.snapToLines="true"===p[1]),u&&(m=parseInt(u[1],10),!h.snapToLines&&(100<m||0>m)&&(m=100),h.line=m),f&&(h.position=parseInt(f[1],10)),g&&(h.size=parseInt(g[1],10)),f={re:h,Ki:D})):f=null;f&&(-1===this.rg&&(this.rg=
a.indexOf(e)),d.push(f))}xj(this,a);return d};
var xj=function(a,b){b=b.substring(0,a.rg);b=b.replace(/::cue()/g,"::cue");a.Ie.clear();for(var c,d;d=yj.exec(b);)3>d.length||(c=d[1].split(",").map(function(e){e=e.trim();(e=e.substring(e.indexOf("(")+1,e.lastIndexOf(")")))&&(e="("+e+")");return e}),d=d[2].trim(),(d=rb($f(d)))&&a.Ie.enqueue({sh:c,rules:d}))},oj=function(a){var b=a.split(":");if(3<b.length)return A(qj,"unexpected time format="+a),0;a=0;b=n(b);for(var c=b.next();!c.done;c=b.next())a=60*a+parseFloat(c.value);return a},qj=z("cast.player.core.WebvttParser"),
mj=/\n\s*\n/,pj=/MPEGTS:([\d]*)/,sj=/align:(start|middle|end|left|center|right)/,tj=/snapToLines:?(true|false)?/,uj=/line:(-*\d+)/,vj=/position:(\d*)%/,wj=/size:(\d*)%/,yj=/(::cue[^{}]*)\s*\{([^\.{}]+)\}/g,nj=RegExp("LOCAL:((?:[\\d]{2,}:)?[\\d]{2}:[\\d]{2}.[\\d]{3})"),rj=RegExp("((?:[\\d]{2,}:)?[\\d]{2}:[\\d]{2}.[\\d]{3})[\\t ]+--\x3e[\\t ]+((?:[\\d]{2,}:)?[\\d]{2}:[\\d]{2}.[\\d]{3})");var zj=function(a,b,c,d){w.call(this);this.g=b;this.Uf=document.createElement("track");this.Uf.src=b.url;this.Uf.kind="captions";this.g.mediaElement.appendChild(this.Uf);this.Rb=this.Uf.track;this.Rb.mode=void 0!==d?"showing":"hidden";this.fg=a;this.qc=c;v("Cast.MPL.Captions",Bd(this.qc));this.Lc=null;"ttml"===c?this.Lc=new $i(this.g.ignoreTtmlPositionInfo):"webvtt"===c?this.Lc=new lj:d&&"application/mp4"===d&&"stpp"===c&&(this.Lc=new kj(this.g.ignoreTtmlPositionInfo));this.Qf=null;this.g.enableSideloadedTextTrackStyling&&
(this.Qf=new Ti(this.g.mediaElement,a,c));this.gb=null;this.om=0;this.pi=null};q(zj,w);zj.prototype.M=function(){Aj(this);this.Rb.mode="disabled";this.Uf.remove();w.prototype.M.call(this)};var Aj=function(a){var b=a.Rb.cues;if(b)for(;0<b.length;)a.Rb.removeCue(b[0]);if(a.g.mediaElement.parentNode){b=n(a.g.mediaElement.parentNode.getElementsByClassName("mpl_img_cap"));for(var c=b.next();!c.done;c=b.next())c.value.remove()}a.Kd()};k=zj.prototype;k.createBuffer=function(){};
k.reset=function(){Aj(this);this.gb=null};k.Ze=function(){return!0};k.Uk=function(){return Infinity};
k.append=function(a,b,c,d){d&&(this.om=b.time-c);if(this.Lc){var e=this.g.useRelativeCueTimestamps||"ttml"===this.qc?b.time:this.om;c=Bj(this);d=0<c.length?c[c.length-1].startTime:-Infinity;for(a=this.Lc.xj(a,e);0<a.length;){e=a.pop();var f=e.re,g=!1;if(f.startTime<d||.1>=Math.abs(f.startTime-d))for(var h=c.length-1;0<=h;h--)if(c[h].text==f.text&&.1>=Math.abs(c[h].startTime-f.startTime)&&.1>=Math.abs(c[h].endTime-f.endTime)){g=!0;break}g||this.addCue(e)}}this.gb=b};
k.mb=function(a){return this.gb?this.gb.time+this.gb.duration-a:0};
var Cj=function(a,b){var c=b.re,d=a.g.mediaElement.parentNode;c.id="cap-"+Date.now();c.onenter=function(e,f,g){a.pi=e;if(null!==f){var h=document.createElement("img");h.setAttribute("id",e.re.id);h.setAttribute("src","data:image/png;base64,"+f);h.setAttribute("class","mpl_img_cap");h.style.position="absolute";h.style.left="0";h.style.bottom="0";h.style.right="0";h.style.margin="0 auto";e.te&&e.te.Me?(h.style.width=e.te.Me.width+e.te.Me.unit,h.style.height=e.te.Me.height+e.te.Me.unit):(h.style.width=
"100%",h.style.height="100%");h.style.zIndex=5;g.appendChild(h)}a.Of()}.bind(a,b,b.en||null,d);c.onexit=function(e){a.pi=null;(e=document.getElementById(e.id))&&e.remove();a.Kd()}.bind(a,c)};zj.prototype.Of=function(){this.Qf&&this.Lc&&this.Qf.Of(Zi(this.Lc),this.pi)};zj.prototype.Kd=function(){this.Qf&&this.Qf.Kd()};zj.prototype.addCue=function(a){if(this.g.onCue)this.g.onCue(this.qc);this.Rb.addCue(a.re);Cj(this,a)};
var Bj=function(a){for(var b=[],c=a.Rb.cues,d=a.fg.getCurrentTime(),e=0;e<c.length;){var f=c[e];f.endTime<d?(a.Rb.removeCue(f),f.id&&(f=document.getElementById(f.id))&&f.remove()):(b.push(f),e++)}return b};zj.prototype.parse=function(a,b){for(a=this.Lc.parse(a,b);0<a.length;)this.addCue(a.pop())};var Dj=function(){};Dj.prototype.kh=function(){};t("cast.player.core.ProcessSourceDataCallback",Dj);var Ej=function(a,b,c,d,e,f){w.call(this);this.g=a;this.In=e;this.ha=c;this.fn=!c.codecsProvided;this.la=d;this.J=b;this.ue=!1;this.xa=this.gb=this.Mc=null;this.Id=f;this.yc=new pg;this.Qd=0;this.createBuffer();this.ma=null;this.Pf=!0;this.Dk=!1};q(Ej,w);k=Ej.prototype;
k.M=function(){w.prototype.M.call(this);this.yc.clear();this.xa&&(y(this.xa,"updateend",this.Nl,!1,this),this.Pf&&"closed"!=this.la.readyState&&this.la.removeSourceBuffer(this.xa))};
k.createBuffer=function(){if(null===this.xa&&"open"==this.la.readyState){var a=this.ha.mimeType+'; codecs="'+oh(this.ha.codecs)+'"',b=this.Id.findIndex(function(c){return c==a});if(0>b){try{this.xa=this.la.addSourceBuffer(a)}catch(c){throw this.g.Z(110,void 0,c.message),c;}C(P,"create new source buffer "+a);this.Id.push(a)}else this.xa=this.la.sourceBuffers[b],Fj(this),this.g.mediaElement.currentTime=this.g.mediaElement.currentTime,C(P,"reuse source buffer index: "+b+", mimetype: "+a);x(this.xa,"updateend",
this.Nl,!1,this);Gj(this)}};k.mb=function(a){var b=this.Qd+(this.Mc?this.Mc.duration:0);return this.gb?this.gb.time+this.gb.duration-a+b:b};k.reset=function(){this.Mc=this.gb=null;this.yc.clear();this.Qd=0;this.Ze()?Hj(this):Ij(this);this.Ze()?Jj(this):(C(P,this.J+": delay abort, push to deferred queue"),this.yc.enqueue({vj:0,Xh:null}))};k.Ze=function(){return null!==this.xa&&!this.ue&&this.yc.Ua()};k.Uk=function(){return sd(this.ha.mimeType)?40:20};
var Gj=function(a){for(;!a.yc.Ua();){var b=rg(a.yc),c=b.Xh;switch(b.vj){case 2:C(P,a.J+": dequeue append");a.Qd-=c.interval.duration;Kj(a,c.data,c.interval,c.T,c.na,c.timescale);return;case 1:C(P,a.J+": dequeue remove");Hj(a);return;case 0:C(P,a.J+": dequeue abort"),Jj(a)}}};Ej.prototype.Nl=function(){for(var a=this.xa.buffered,b=0;b<a.length;b++)C(P,this.J+": "+a.start(b)+" - "+a.end(b));C(P,this.J+": updateend");null!==this.Mc&&0!=this.Mc.duration&&(this.gb=this.Mc);this.Mc=null;this.ue=!1;Gj(this)};
var Kj=function(a,b,c,d,e,f){var g=a.xa.timestampOffset;if(e){Jj(a);var h=Lj(a,c.time);a.xa.timestampOffset=h-d;C(P,a.J+": timestampOffset = "+a.xa.timestampOffset)}else h=Lj(a,c.time);a.ue=!0;try{a.xa.appendBuffer(b)}catch(l){C(P,a.J+": append failed "+l);a.ue=!1;e&&(a.xa.timestampOffset=g);Mj(a,b,c,d,e,f);22===l.code&&Nj(a,2);return}C(P,a.J+": successfully append "+b.length+" bytes");Oj(a,2);a.Mc={time:h,duration:c.duration};a.In.kh(a.ha.mimeType,a.ha.codecs,b,a.xa.timestampOffset,h,c.duration,
f)},Jj=function(a){"open"==a.la.readyState?(C(P,a.J+": abort"),a.xa.abort()):Ec(P,a.J+": unable to abort")},Hj=function(a){C(P,a.J+": remove");Fj(a)},Ij=function(a){C(P,a.J+": delay remove, push to deferred queue");a.yc.enqueue({vj:1,Xh:null});Nj(a,1)};
Ej.prototype.append=function(a,b,c,d,e){if(this.fn&&!this.Dk){var f=this.ha.mimeType;if(0==Ma("/mp2t",f.slice(f.length-5))){f=new Pi;for(f.ta(a);!f.Lg();)f.parse();f=f.Ql?f.Ek:void 0}else f=!0;void 0!==f&&(this.Dk=!0,f||Ca("Cast.MPL.RemoveDefaultAudioCodecs",!0))}this.Ze()?Kj(this,a,b,c,d,e):Mj(this,a,b,c,d,e)};
var Mj=function(a,b,c,d,e,f){C(P,a.J+": delay append, push to deferred queue");a.Qd+=c.duration;a.yc.enqueue({vj:2,Xh:{data:b,interval:{time:c.time,duration:c.duration},T:d,na:e,timescale:f}})},Lj=function(a,b){if(!a.gb||a.g.Pk)return b;var c=b,d=a.xa.buffered;0<d.length&&(b=d.end(d.length-1));C(P,a.J+": adjustTime: "+c+" : "+b);return b},Fj=function(a){if(a.xa.updating)Ij(a);else{a.ue=!0;try{a.xa.remove(0,Infinity),C(P,a.J+": successfully removed all buffered data"),Oj(a,1)}catch(b){a.ue=!1,C(P,
a.J+": remove failed!"),b.message="SourceBuffer error unrelated to SourceBuffer.updating",Ij(a)}}},Nj=function(a,b){if(null===a.ma)switch(b){case 2:case 1:a.ma=setTimeout(function(){Gj(a)},2E3),C(P,a.J+": set up timeout ID to processDeferred_ "+a.ma)}},Oj=function(a,b){if(null!==a.ma)switch(b){case 2:case 1:C(P,a.J+": cleared timeout ID "+a.ma),clearTimeout(a.ma),a.ma=null}},P=z("cast.player.core.SourceBufferManager");var Pj=function(a,b){zj.call(this,a,b,"webvtt");this.wa=z("cast.player.cea608.InbandCaptionsManager");this.ja=new Lh(this);this.ja.Yg=1;this.Sa=null;this.Za=0;this.Fb=null;this.Nd=[];this.fh=this.tj.bind(this);this.ma=null;this.he=new pg};q(Pj,zj);Pj.prototype.M=function(){this.reset();zj.prototype.M.call(this)};
Pj.prototype.tj=function(){if(this.Sa.Ua()){var a=rg(this.he);this.Za!=a.T&&(this.ja.clear(),this.Fb=null);this.Za=a.T;this.ja.Za=a.Om;this.Sa.ta(a.data);this.Sa.dm(a.duration);a.timescale&&this.Sa.fm(a.timescale)}this.Sa.parse();if(this.Sa.Lg()){this.ja.decode();if(0<this.Nd.length){for(Bj(this);0<this.Nd.length;)a=this.Nd.pop(),"number"!==typeof a.start||isNaN(a.start)||"number"!==typeof a.end||isNaN(a.end)||(a=new VTTCue(a.start,a.end,a.text),a.position=20,a.align="start",this.addCue({re:a}));
this.Nd.length=0}this.Sa.ta(null)}this.he.Ua()&&this.Sa.Ua()?this.ma=null:this.ma=setTimeout(this.fh,20)};var Vh=function(a,b,c,d){null!==a.Fb&&b<a.Fb&&(b=a.Fb);.1>c-b&&(c=b+.1);a.Fb=c;a.Nd.push({start:b,end:c,text:d})};
Pj.prototype.kh=function(a,b,c,d,e,f,g){if(!(!td(a)||b&&ud(b))){if(!this.Sa)switch(a){case "video/mp2t":this.Sa=new Ri(this);break;case "video/mp4":this.Sa=new Oi(this);break;default:return}1<this.he.ad()?A(this.wa,"Dropped segment"):(this.he.enqueue({data:c,duration:f,T:d,Om:"video/mp4"==a?e:d,timescale:g}),C(this.wa,"Pending "+this.he.ad()),null===this.ma&&(this.ma=setTimeout(this.fh,20)))}};
Pj.prototype.reset=function(){zj.prototype.reset.call(this);this.Za=0;this.Fb=null;this.Nd.length=0;this.Sa&&this.Sa.ta(null);this.ja.clear();this.he.clear();null!==this.ma&&(clearTimeout(this.ma),this.ma=null)};var Qj=function(a){E.call(this);this.Tb=null;this.uj=a};q(Qj,E);Qj.prototype.ni=function(){this.Tb&&(this.Tb.onprogress=null);this.Tb=E.prototype.ni.call(this);this.Tb.onprogress=this.uj;return this.Tb};Qj.prototype.M=function(){this.Tb&&(this.Tb.onprogress=null);E.prototype.M.call(this)};Qj.send=function(a){var b=this;return new Oc(function(c,d){var e=new Qj(function(){});x(e,"success",function(f){c(rd(f.target))},!1,b);x(e,"error",d,!1,b);x(e,"timeout",d,!1,b);e.send(a)})};var Rj=function(a,b,c){var d=Date.now();this.clientId=a;this.blockIds=b;this.flags=c;this.timestamp=d},Tj=function(){var a=Sj();this.gi=a&&a.clientId||Math.floor(Math.random()*Number.MAX_SAFE_INTEGER)};
Tj.prototype.initialize=function(){var a=Sj();if(void 0===a||void 0===a.timestamp)var b=!0;else b=Date.now()-a.timestamp,a=a.flags.expirationHrs,"number"!==typeof a&&(a=3),b=b>36E5*a;Ca("Cast.MPL.ExperimentationCheckExpired",b);b&&(b="https://$Env$.google.com/cast/senderconfig/config?hw=mpl&id=$ClientId$".replace(/\$Env\$/g,"clients3").replace(/\$ClientId\$/g,this.gi.toString()),Qj.send(b).then(this.od.bind(this),this.cc.bind(this)))};
Tj.prototype.od=function(a){Ca("Cast.MPL.ExperimentationFetchResult",!0);try{var b=JSON.parse(a.substring(5));var c=new Cf(b[0])}catch(g){Uj(this,"Failed to parse experimentation flags.");return}a=Ie(c,1);b=Pe(c,zf,2);c={};b=n(b);for(var d=b.next();!d.done;d=b.next()){d=d.value;var e=d.Ia(),f=void 0;switch(Le(d,Oe)){case 2:f=Je(d,Ne(d,5));break;case 3:f=H(d,Ne(d,3));break;case 4:f=d.getFloatValue();break;case 5:f=Je(d,Ne(d,5))}c[e]=f}Vj("Cast.MPL.ExperimentationDownloadedBlockId",a);window.localStorage.setItem("cast.player.common.Experimentation",
JSON.stringify(new Rj(this.gi,a,c)));C(Wj,"Flags: "+c.toString())};Tj.prototype.cc=function(){Ca("Cast.MPL.ExperimentationFetchResult",!1);Uj(this,"Failed to download experimentation flags.")};
var Uj=function(a,b){A(Wj,b);window.localStorage.setItem("cast.player.common.Experimentation",JSON.stringify(new Rj(a.gi,[],{})))},Vj=function(a,b){if(void 0!==b&&0<b.length){b=n(b);for(var c=b.next();!c.done;c=b.next())v(a,c.value)}},Sj=function(){var a=window.localStorage.getItem("cast.player.common.Experimentation");return a?JSON.parse(a):void 0};qa(Tj);var Wj=z("cast.player.common.Experimentation");Tj.Ci().initialize();var Xj=function(a){var b=this,c=a.streamsGroupedByBitrate,d=void 0===a.md?0:a.md;a=void 0===a.Jc?3:a.Jc;this.bitrates=Array.from(c.keys());this.Hi={};this.bitrates.forEach(function(e,f){b.Hi[f]=c.get(e)});this.Ga=new Map;this.bitrates.forEach(function(e,f){b.Ga.set(f,c.get(e).slice())});this.La={};this.md=d;this.Jc=a};Xj.prototype.xg=function(){return this.md};Xj.prototype.wg=function(){return this.Jc};
var Yj=function(a,b){var c;b=n(b);for(c=b.next();!c.done;c=b.next()){var d=c.value;c=a.bitrates.indexOf(d.bitrate);a.Ga.has(c)?a.Ga.get(c).push(d):a.Ga.set(c,[d]);a.La[c]=0}};Xj.prototype.ck=function(){for(var a=0;a<this.bitrates.length;a++)Yj(this,this.Hi[a].slice());return this.Ga};Xj.prototype.yd=function(a){this.La[a]||(this.La[a]=0);this.La[a]++;this.La[a]>(1===this.Ga.size?this.wg():this.xg())&&this.Ga.has(a)&&this.Ga.delete(a);return this.Ga};var Zj=function(a){Xj.call(this,a)};q(Zj,Xj);
Zj.prototype.yd=function(a,b){for(var c=0,d=this.bitrates[0],e=1;e<this.bitrates.length;e++)this.bitrates[e]<d&&(d=this.bitrates[e],c=e);if(!b||b&&a===c)this.Ga=new Map,this.Ga.set(c,this.Hi[c].slice());return Xj.prototype.yd.call(this,a,b)};var ak=function(a){var b=void 0===a.streamsGroupedByCdn?void 0:a.streamsGroupedByCdn;Xj.call(this,{streamsGroupedByBitrate:a.streamsGroupedByBitrate,md:void 0===a.md?2:a.md,Jc:void 0===a.Jc?2:a.Jc});this.Xj=b};q(ak,Xj);
var bk=function(a,b){var c;a=n(a.Xj.entries());for(c=a.next();!c.done;c=a.next()){c=n(c.value);c.next();var d=c.next().value;if(c=d.find(function(e){return e.index===b}))return d}return[]};ak.prototype.ck=function(a){a=bk(this,a);Yj(this,a);return this.Ga};
ak.prototype.yd=function(a){var b=-1,c,d=n(this.Xj.entries());for(c=d.next();!c.done;c=d.next())if(c=n(c.value),c.next(),c=c.next().value.find(function(e){return e.index===a})){b=this.bitrates.indexOf(c.bitrate);break}if(-1===b)return Ca("Cast.MPL.UnknownBitrateEncountered",!0),this.Ga;this.La[b]||(this.La[b]=0);this.La[b]++;this.La[b]>(1===this.Ga.size?this.wg():this.xg())&&this.Ga.has(b)&&this.Ga.delete(b);return this.Ga};var ck=function(a){w.call(this);this.eo=a;this.Gi=this.Ad=null;this.xb=0;this.Hj=null;this.Ub=400;this.m=new Qj(function(){});x(this.m,"success",this.od.bind(this));x(this.m,"error",this.cc.bind(this));x(this.m,"timeout",this.Bn.bind(this))};q(ck,w);ck.prototype.M=function(){this.m.N();w.prototype.M.call(this)};
ck.prototype.load=function(a){(this.Ad=a.url)?(this.Gi=a.headers,this.m.Be=a.withCredentials,this.m.pc=Math.max(0,a.timeoutInterval),this.xb=0,this.m.send(this.Ad,void 0,void 0,this.Gi)):A(ah,"No url provided for request")};ck.prototype.abort=function(){this.m.abort()};var dk=function(a){return new Sg(a.Ad,a.m.ac,pd(a.m),a.m.getAllResponseHeaders(),rd(a.m))};ck.prototype.od=function(a){clearTimeout(this.Hj);this.Ub=400;this.ne(rd(a.target))};ck.prototype.cc=function(){ek(this,408==pd(this.m)?0:this.Ub)};
ck.prototype.Bn=function(){ek(this,0)};var ek=function(a,b){a.xb++;clearTimeout(a.Hj);3<a.xb?a.ne(null):(1<a.xb&&(a.Ub=2*b),a.Hj=setTimeout(function(){a.m.send(a.Ad,void 0,void 0,a.Gi)},b))};ck.prototype.ne=function(a){this.xb=0;var b=this.m;this.eo.eh(a,b.Tb&&b.Tb.responseURL?b.Tb.responseURL:null)};var fk=function(a){ck.call(this,a);this.I=this.g=null};q(fk,ck);
fk.prototype.ce=function(a,b){this.g=a;this.I=new Rg;this.I.url=this.Ad=b;this.I.setResponse=this.ne.bind(this);a.updateManifestRequestInfo&&a.updateManifestRequestInfo(this.I);this.I.skipRequest||this.load(this.I)};fk.prototype.ne=function(a){var b=this;if(this.g&&(a=zh(this.g,a),Id(a))){a.then(function(c){ck.prototype.ne.call(b,c)});return}ck.prototype.ne.call(this,a)};var gk=function(a){if(a[7]<<8|1!=a[6])return A(ah,"PlayReady header object is not valid"),null;var b=a[9]<<8|a[8];b+=10;for(var c="",d=10;d<b;d+=2)c+=String.fromCharCode(a[d+1]<<8|a[d]);d=b=null;var e=new DOMParser;c=vb(c.trim());c=Og(e,c).childNodes[0].firstElementChild;c=n(c.children);for(e=c.next();!e.done;e=c.next())e=e.value,"LA_URL"==e.nodeName?d=e.textContent:"KID"==e.nodeName&&(b=Hd(window.atob(e.textContent)));return b?{systemId:fh,Re:a,ff:new eh(b,!0),url:d,Sg:8}:(A(ah,"PlayReady rights management header does not have KID"),
null)},Q=function(a){this.host=a;this.Nc=this.jd=this.uri=null;this.Ui=this.Si=this.Y=void 0;this.duration=-1;this.o=[];this.Oi=[];this.wn=this.ce.bind(this);this.Aa=null;this.Uj=!1;this.Ej=1E4},ik=function(a){var b=hk(a.o);b||(b=a.o.find(function(c){return 1==c.type&&!jh(c.codecs)}));b&&(b.enabled=!0);a=n(a.o);for(b=a.next();!b.done;b=a.next())if(b=b.value,2==b.type){b.enabled=!0;break}},hk=function(a){return a.find(function(b){return 1==b.type&&jh(b.codecs)&&ih("audio/mp4",b.codecs)})};k=Q.prototype;
k.getDefaultAudioStreamIndex=function(){for(var a=-1,b=0;b<this.o.length;b++){var c=this.o[b];if(1==c.type&&ih("audio/mp4",c.codecs)){if(jh(c.codecs))return b;0>a&&(a=b)}}return a};k.getStreamCount=function(){return this.o.length};k.enableStream=function(a,b){var c=this.o[a];c.index=-1;c.ca=-1;c.na=!0;c.enabled=b;c.jb=!1;this.Oi[a]=[]};k.isStreamEnabled=function(a){return this.o[a].enabled};k.getQualityLevel=function(a){return this.o[a].ca};
k.getStreamInfo=function(a){var b,c;a=this.o[a];var d=[],e=new Map,f=new Map;f.set("cdn",[]);a.F.forEach(function(g,h){c={index:h,bitrate:b};b=g.bitrate;d.push(b);e.has(b)?e.get(b).push(c):e.set(b,[c]);f.get("cdn").push(c)});return new Tg(a.codecs,a.mimeType,d,a.language,a.name,a.role,void 0,!0,e,f)};
k.eh=function(a,b){if(a){b&&(this.uri=new J(b));b=null!==this.Aa;var c=this.o;this.o=[];this.yj(a);this.gk();this.Uj&&(this.Aa=setTimeout(this.wn,this.Ej));if(b)jk(this,c),this.Nc.zd();else{ik(this);if(this.host.onManifestReady)this.host.onManifestReady();this.Nc.onManifestReady()}}else this.Fj()};k.Fj=function(){};k.Qb=function(){};k.yj=function(){};k.gk=function(){};
var jk=function(a,b){for(var c=a.host.mediaElement.paused,d={},e=0;e<b.length;d={zb:d.zb},e++){d.zb=b[e];var f=a.o[e];if(f.name!==d.zb.name){C(Q.wa,"The order of adaptations in manifest changes.");f=e;var g=a.o.findIndex(function(D){return function(B){return B.name==D.zb.name}}(d));if(0>g){a.Qb("New manifest has content out of sync. Continue with old one.");a.o=b;break}var h=a.o[f];a.o[f]=a.o[g];a.o[g]=h;f=a.o[f]}f.enabled=d.zb.enabled;f.ca=d.zb.ca;f.jb=d.zb.jb;g=[];h=!0;for(var l=d.zb.index,m=0;m<
f.F.length;m++){var p=d.zb.F[m],u=f.F[m];u.T=p.T;g[m]=kk(p,u,l,c);if(!g[m]){h=!1;A(Q.wa,"Old and new representations are out of sync.");break}}if(!(0>l))if(h){for(h=0;h<f.F.length;h++)f.F[h].i=g[h].i,f.F[h].P=g[h].P;f.na=d.zb.na;f.index=g[0].index}else f.na=!0,f.index=0}},kk=function(a,b,c,d){if("number"!==typeof a.P||"number"!==typeof b.P)var e=null;else e=a.P+c-b.P,e=0<e?{i:b.i,index:e,P:b.P}:{i:a.i.slice(c,b.P-a.P).concat(b.i),index:0,P:a.P+c};if(e)a=e;else{e={i:[],index:0,P:b.P};var f=b.i[0];
0<=c&&f.time<a.i[c].time?(e.i=b.i,e.index=lk(a.i[c].time,b.i),a=e):(f=lk(f.time,a.i),-1==f?a=null:(c>f?(e.i=b.i,e.index=c-f):(e.i=d?b.i:a.i.slice(c,f).concat(b.i),e.index=0,"number"!==typeof b.P||d||(e.P-=f-c)),a=e))}return a},lk=function(a,b){for(var c=.5*b[0].duration,d=0;d<b.length;d++)if(Math.abs(b[d].time-a)<=c)return d;return-1};k=Q.prototype;k.load=function(a){this.Nc=a;this.ce()};k.ce=function(){var a=this.host.url;this.uri=new J(a);this.jd=new fk(this);this.jd.ce(this.host,a)};
k.Tc=function(){this.jd&&(this.jd.N(),this.jd=null);null!==this.Aa&&(clearTimeout(this.Aa),this.Aa=null)};k.wh=function(a,b,c){a=this.o[a];a.ca=b;a.jb=!0;mk(c)};k.updateLicenseRequestInfo=function(){};k.getDuration=function(){return this.Y?-1:this.duration};k.Oa=function(a){a=this.o[a];var b=a.ca;if(0>b)return null;a=a.F[b];var c=a.i;if(0==c.length)return null;b=c[0].time;var d=c.length-1;c=c[d].time+c[d].duration;this.Y&&(c-=20,c<b&&(c=b));return{start:b-a.T,end:c-a.T}};
k.seek=function(a,b){var c=this.o[a],d=c.F[c.ca],e=d.i;a=this.Oa(a);if(!a)return null;b<a.start&&(b=a.start);b>a.end&&(b=a.end);b+=d.T;for(a=e.length-1;0<=a;a--)if(b>=e[a].time)return c.index=a,c.jb=!0,b-d.T;return null};k.Ec=function(a){a=this.o[a];var b=a.index+1;return b<a.F[a.ca].i.length?(a.index=b,!0):!1};k.isLiveStream=function(){return this.Y||!1};k.isEventStream=function(){return this.Si||!1};k.isLiveSeekableRangeMovingWindow=function(){return this.Ui};k.isLiveDone=function(){};
k.Cc=function(a){var b=this.o[a];a=b.index;b=b.F[b.ca].i;return!this.Y&&a==b.length-1};k.getSegmentInterval=function(a){var b=this.o[a],c=b.ca;return 0<=c&&(a=b.index,0<=a&&(b=b.F[c],c=b.i,a<c.length))?{time:c[a].time-b.T,duration:c[a].duration}:{time:0,duration:0}};k.reset=function(a){this.o[a].index=-1};k.ee=function(a){a=this.o[a];var b=a.F[a.ca];null!==b.Lb||null!==b.L&&null!==b.L.ta||(a.jb=!1);return a.jb};
k.vh=function(a,b){this.o[a].jb=!1;262144<b.length?A(nk,"init data ("+b.length+" bytes) is too large to cache"):this.Oi[a][this.o[a].ca]=b};k.Pe=function(a){var b=this.o[a];var c=this.Oi[a];return(b=b&&c?c[b.ca]||null:null)?(this.o[a].jb=!1,b):null};k.vg=function(){return null};k.updateSegmentRequestInfo=function(a,b){b.interval=this.getSegmentInterval(a)};k.processSegment=function(){};k.yg=function(){return 0};k.Ck=function(){return!1};
var ok=function(a,b){void 0===a.Y&&Ca("Cast.MPL.Live",b);a.Y=b};Q.prototype.getStreamInfo=Q.prototype.getStreamInfo;Q.prototype.getQualityLevel=Q.prototype.getQualityLevel;Q.prototype.isStreamEnabled=Q.prototype.isStreamEnabled;Q.prototype.enableStream=Q.prototype.enableStream;Q.prototype.getStreamCount=Q.prototype.getStreamCount;Q.prototype.getDefaultAudioStreamIndex=Q.prototype.getDefaultAudioStreamIndex;var nk=z("cast.player.comon.StreamingProtocolBase");var R=function(a,b){this.Gm=a;this.ve=b?b:null;this.h=null};R.prototype.s=function(a){var b=qi(a).length;this.h=a;this.nk();this.G();a=qi(a).length-b;this.h.buffer.set([a>>24,a>>16,a>>8,a],b)};R.prototype.nk=function(){this.h.A(0);this.h.A(this.Gm);this.ve&&L(this.h,this.ve.Gh())};R.prototype.G=function(){throw Error("writeBody() should be  overriden.");};var S=function(a,b,c){R.call(this,a);this.ra=b;this.zc=c};q(S,R);
S.prototype.nk=function(){R.prototype.nk.call(this);this.h.A(this.ra<<24|this.zc&16777215)};var pk=function(a){S.call(this,1935763823,0,0);this.K=a};q(pk,S);pk.prototype.G=function(){this.h.A(1);this.h.A(this.K)};var qk=function(a){S.call(this,1952867444,1,0);this.Fe=a};q(qk,S);qk.prototype.G=function(){this.h.pk(this.Fe)};var rk=function(a,b){S.call(this,1935763834,0,0);this.Ok=a;this.$l=b};q(rk,S);rk.prototype.G=function(){this.h.Nh(this.Ok);this.h.A(this.$l.length);0==this.Ok&&L(this.h,this.$l)};
var sk=function(a,b){S.call(this,1702061171,0,0);this.un=a;this.He=b};q(sk,S);sk.prototype.G=function(){L(this.h,[3,25,0,1,0,4,17,this.un,21,0,0,0,0,0,0,0,0,0,0,0,5,2,this.He[0],this.He[1]])};var tk=function(a,b){R.call(this,1635148611);this.jm=a;this.Sl=b};q(tk,R);tk.prototype.G=function(){L(this.h,[1,77,64,30,255,225]);this.h.Fd(this.jm.length);L(this.h,this.jm);this.h.Nh(1);this.h.Fd(this.Sl.length);L(this.h,this.Sl)};var uk=function(){S.call(this,1937011571,0,0)};q(uk,S);uk.prototype.G=function(){this.h.A(0)};
var vk=function(a,b,c){S.call(this,1952804451,0,1);this.Tm=c?0:a;this.Sm=b;this.Nk=c};q(vk,S);vk.prototype.G=function(){this.h.A(256|this.Tm);L(this.h,this.Sm.Gh());this.Nk&&(this.h.Nh(16),L(this.h,this.Nk))};var wk=function(a){S.call(this,1936027235,0,2);this.Jj=a};q(wk,S);wk.prototype.G=function(){this.h.A(this.Jj.length);for(var a=0;a<this.Jj.length;a++){var b=this.Jj[a].km;this.h.Fd(b.length);for(var c=0;c<b.length;c++){var d=b[c];this.h.Fd(d.bi);this.h.A(d.ci)}}};
var xk=function(a,b){S.call(this,1935894637,0,0);this.Un=a;this.Vn=b};q(xk,S);xk.prototype.G=function(){this.h.A(this.Un);this.h.A(this.Vn)};var yk=function(a){R.call(this,1718775137);this.Pm=a};q(yk,R);yk.prototype.G=function(){this.h.A(this.Pm)};var zk=function(a){S.call(this,1751411826,0,0);this.bn=a};q(zk,S);zk.prototype.G=function(){this.h.A(0);this.h.A(this.bn);L(this.h,[0,0,0,0,0,0,0,0,0,0,0,0])};var Ak=function(a){S.call(this,1835296868,0,0);this.kb=a};q(Ak,S);
Ak.prototype.G=function(){this.h.A(0);this.h.A(0);this.h.A(this.kb);this.h.A(0);L(this.h,[85,196,0,0])};var Bk=function(a,b){S.call(this,1953196132,0,3);this.no=a;this.cn=b};q(Bk,S);Bk.prototype.G=function(){this.h.A(0);this.h.A(0);L(this.h,[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0]);this.h.A(this.no<<16);this.h.A(this.cn<<16)};var Ck=function(a){S.call(this,1953654136,0,0);this.gn=a};q(Ck,S);
Ck.prototype.G=function(){var a=65536;this.gn&&(a&=-65537);L(this.h,[0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0]);this.h.A(a)};var Dk=function(a,b){S.call(this,1886614376,0,0);this.Zj=a;this.Kb=b};q(Dk,S);Dk.prototype.G=function(){L(this.h,this.Zj.Gh());this.h.A(this.Kb.length);L(this.h,this.Kb)};var Ek=function(a){S.call(this,1836476516,0,0);this.kb=a};q(Ek,S);
Ek.prototype.G=function(){this.h.A(0);this.h.A(0);this.h.A(this.kb);L(this.h,[0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2])};var Fk=function(a){S.call(this,1952868452,0,8);this.xc=a};q(Fk,S);Fk.prototype.G=function(){this.h.A(1);this.h.A(this.xc)};var Gk=function(a){S.call(this,1953658222,0,513);this.Lj=a};q(Gk,S);
Gk.prototype.G=function(){this.h.A(this.Lj.length);this.h.A(0);for(var a=0;a<this.Lj.length;a++)this.h.A(this.Lj[a].length)};var Hk=function(a){S.call(this,1835427940,0,0);this.ud=a};q(Hk,S);Hk.prototype.G=function(){this.h.A(this.ud)};var Ik=function(a){R.call(this,1835295092);this.Kk=a};q(Ik,R);Ik.prototype.G=function(){for(var a=0;a<this.Kk.length;a++)L(this.h,this.Kk[a])};var Kk=function(a){var b=new Uint8Array(2+a.length);b[1]=1;Hd(a,b,2);Dk.call(this,Jk,b)};q(Kk,Dk);
var Jk=new eh([43,248,102,128,198,229,78,36,190,35,15,129,90,96,110,178]);var Lk=function(a,b,c,d){w.call(this);this.g=a;this.O=b;this.kn=d;this.Kb=c;this.v=this.ol=null;this.$b="none";this.Fh=this.Eh=this.Fc=null;this.Ih=!1;this.m=new E;gd(this.m);x(this.m,"success",this.od,!1,this);x(this.m,"error",this.cc,!1,this)};q(Lk,w);Lk.prototype.M=function(){this.v&&(this.Fc&&y(this.Fc,"message",this.El,!1,this),this.v=null);this.Fc&&(this.Fc.close(),this.Fc=null);this.m.N();w.prototype.M.call(this)};
Lk.prototype.createSession=function(a){C(Mk,"create session");this.Fh=Date.now();var b=this.g.licenseCustomData;if(b){var c=new ri(this.Kb.length+b.length+34);L(c,this.Kb);(new Kk(b)).s(c);b=qi(c)}else b=this.Kb;this.v=this.g.mediaElement;this.$b=a;this.Fc=a=this.v.mediaKeys.createSession();x(this.Fc,"message",this.El,!1,this);a.generateRequest("cenc",b.buffer).catch(this.Cl.bind(this))};
Lk.prototype.od=function(a){C(Mk,"xhr success");var b=this.Eh;null!==b&&v("Cast.MPL.LicenseReq.ServerLatency",Date.now()-b);this.Eh=null;this.Wk(rd(a.target))};Lk.prototype.Wk=function(a){var b=this;if(a){a=new Uint8Array(a);if(this.g.processLicense&&(a=this.g.processLicense(a),Id(a))){a.then(function(c){Nk(b,c)});return}Nk(this,a)}else this.g.Z(201,void 0)};
var Nk=function(a,b){a.Ih=!0;a.Fc.update(b.buffer).then(function(){a.Ih=!1;var c=a.kn;C(Ok,"key session ended: "+c.vd);8<c.Ya.length?c.Ya.shift().N():c.vd++;c.vd<c.Ya.length&&c.Ya[c.vd].createSession(c.$b)},function(c){a.Ih=!1;a.Cl(c)})};k=Lk.prototype;k.cc=function(){C(Mk,"xhr error");var a=new Sg(String(this.m.lf),this.m.ac,pd(this.m),this.m.getAllResponseHeaders(),rd(this.m));this.g.Z(201,a)};
k.El=function(a){C(Mk,"message");this.ol=new Uint8Array(a.Zc.message);this.g.prepareLicenseRequest&&!this.g.prepareLicenseRequest()||this.Rc()};k.Cl=function(a){C(Mk,"keyerror "+a);this.g.Z(202)};
k.Rc=function(){var a=new Rg;a.timeoutInterval=18E4;a.protectionSystem=this.$b;a.content=this.ol;a.setResponse=this.Wk.bind(this);this.O.updateLicenseRequestInfo(a);this.g.licenseUrl&&(a.url=this.g.licenseUrl);if(!a.url&&this.Kb&&"playready"==this.$b){var b=new Fi(this.Kb);if(b=gk(b.getData()))a.url=b.url}if(this.g.updateLicenseRequestInfo&&(this.g.updateLicenseRequestInfo(a),a.skipRequest))return;this.m.Be=a.withCredentials;this.m.pc=Math.max(0,a.timeoutInterval);this.m.send(a.url,"POST",a.content,
a.headers);a=this.Fh;null!==a&&v("Cast.MPL.LicenseReq.GenLatency",Date.now()-a);this.Fh=null;this.Eh=Date.now()};k.Ve=function(){return null!==this.Fh||null!==this.Eh||this.Ih};var Mk=z("cast.player.core.MediaKeySession");var Qk=function(a,b,c,d,e){w.call(this);this.g=a;this.O=b;this.Ya=[];this.vd=0;this.$b=null;x(this.g.mediaElement,"encrypted",this.Al,!1,this);c&&0<c.length&&(a.protectionSystem&&(c.includes(a.protectionSystem)?c.splice(0,0,c.splice(c.indexOf(a.protectionSystem),1)[0]):A(Ok,"Preferred protection system not found")),Pk(this,{$i:c,Tg:0,Am:d,mo:e}))};q(Qk,w);
Qk.prototype.M=function(){y(this.g.mediaElement,"encrypted",this.Al,!1,this);for(var a=n(this.Ya),b=a.next();!b.done;b=a.next())b.value.N();this.Ya.length=0;w.prototype.M.call(this)};
var Pk=function(a,b){Rk(a,b).catch(function(c){b.Tg++;b.Tg<b.$i.length?Pk(a,b):(Ec(Ok,c.toString()),A(Ok,"unsupported protection system"),a.g.Z(202))})},Rk=function(a,b){var c=b.$i[b.Tg];b=Sk(a,b);return navigator.requestMediaKeySystemAccess($g[c],[b]).then(function(d){return d.createMediaKeys()}).then(function(d){var e=a.g.mediaElement.setMediaKeys(d);return a.g.emeServerCertificate&&a.g.emeServerCertificate.length?d.setServerCertificate(a.g.emeServerCertificate).then(function(f){f||A(Ok,"Server certificates are not supported by the keysystem. The server certificate has been ignored.");
return e},function(f){Ec(Ok,"Invalid server certificate provided. "+f.toString());return Promise.reject(f)}):e}).then(function(){a.$b=c;Gd(a.$b,a.O.yg());0<a.Ya.length&&a.Ya[0].createSession(c);return Promise.resolve()})};Qk.prototype.Al=function(a){a=a.Zc;C(Ok,"onencrypted: "+this.vd);(a=a.initData)?this.createSession(new Uint8Array(a)):C(Ok,"invalid init data")};
var Tk=function(a,b){return a.Ya.some(function(c){a:if(b.length!=c.Kb.length)c=!1;else{for(var d=b.length,e=0;e<d;e++)if(b[e]!=c.Kb[e]){c=!1;break a}c=!0}return c})};Qk.prototype.createSession=function(a){Tk(this,a)||(a=new Lk(this.g,this.O,a,this),this.$b&&this.vd==this.Ya.length&&a.createSession(this.$b),this.Ya.push(a))};Qk.prototype.Rc=function(){this.Ya[this.vd].Rc()};Qk.prototype.Ve=function(){return this.Ya.some(function(a){return a.Ve()})};
var Sk=function(a,b){var c=b.$i[b.Tg],d={initDataTypes:["cenc"]},e=b.Am||"";b=b.mo||"";e=e.replace("video/mp2t","audio/mp4");b=b.replace("video/mp2t","video/mp4");if(e){var f=Uk[c]||"";"widevine"===c&&a.g.lo&&(f="SW_SECURE_CRYPTO");d.audioCapabilities=[{contentType:e,robustness:f}]}b&&(d.videoCapabilities=[{contentType:b,robustness:Vk[c]||""}]);return d},Wk={},Uk=(Wk.widevine="HW_SECURE_CRYPTO",Wk),Xk={},Vk=(Xk.widevine="HW_SECURE_ALL",Xk),Ok=z("cast.player.core.MediaKeysManager");var Yk=function(){this.pf=null};Yk.prototype.reset=function(){this.pf=null};qa(Yk);var Zk=function(a,b){this.bitrates=a;this.Ii=[];for(a=0;a<this.bitrates.length;a++)this.Ii.push(a);this.sn=void 0!==b?b:3;this.La={};this.Od=this.Ii.slice()};Zk.prototype.xg=function(){return 0};Zk.prototype.wg=function(){return this.sn};Zk.prototype.ck=function(){this.La={};this.Od=this.Ii.slice()};Zk.prototype.yd=function(a){this.La[a]||(this.La[a]=0);this.La[a]++;this.La[a]>(1==this.Od.length?this.wg():this.xg())&&(a=this.Od.indexOf(a),-1<a&&this.Od.splice(a,1));return this.Od};
var $k=function(a,b){Zk.call(this,a,b)};q($k,Zk);$k.prototype.yd=function(a,b){for(var c=0,d=this.bitrates[0],e=1;e<this.bitrates.length;e++)this.bitrates[e]<d&&(d=this.bitrates[e],c=e);if(!b||b&&a==c)this.Od=[c];return Zk.prototype.yd.call(this,a,b)};var bl=function(a,b,c,d){this.g=a;this.J=b;this.H=c;this.Ba=this.Bi();this.sa=this.Ge(this.Ba);C(al,this.J+": initial "+this.H[this.sa]);this.ec=0;this.rc=null;this.kf=Date.now();this.Xg=d;Ed(this.H,d)};k=bl.prototype;k.Bi=function(){var a=this.g.initialBandwidth;3145728===this.g.initialBandwidth&&(a=parseFloat(window.localStorage.getItem("cast.player.core.QualityManager.currentBandwidth")),a="number"===typeof a&&a>this.g.initialBandwidth?a:this.g.initialBandwidth);return a};k.N=function(){this.hd()};
k.pm=function(a,b){b&&(this.Ba=0<a?8*this.ec/(a/1E3):0);this.ec=0;this.rc=null;C(al,this.J+": current="+this.Ba.toFixed(2));this.Tf(this.Ba)};k.rm=function(a,b){0>=a||(this.g.trackBandwidth&&this.g.trackBandwidth(this.J,a,b),wh(b,a),a=0<a?8*b/(a/1E3):0,this.Ba=.8*a+(1-.8)*this.Ba,C(al,this.J+": current="+a.toFixed(2)+", average="+this.Ba.toFixed(2)),this.Tf(a),this.ec=0)};k.qm=function(a){this.ec=a};
k.Ge=function(a,b){for(var c=-1,d=Number.MAX_VALUE,e=void 0!==b?b[0]:0,f=0;f<this.H.length;f++)if(void 0===b||-1!==b.indexOf(f)){if(a>=this.H[f]){var g=a-this.H[f];g<d&&(c=f,d=g)}this.H[e]>this.H[f]&&(e=f)}return 0>c?e:c};
k.hk=function(a,b,c){var d=Date.now();if(!a&&null!==this.rc&&d-this.rc<2E3*(b||0))return this.sa;this.rc=d;a=this.Ge(.7*this.Ba,c);if(this.g.getQualityLevel){if(1!==this.H.length||0!==this.H[0])a=this.g.getQualityLevel(this.J,a,this.sa,this.H);a>=this.H.length&&(A(al,this.J+": Host provided an invalid quality level!"),a=this.H.length-1)}a!=this.sa&&(C(al,this.J+": from "+this.H[this.sa]+" to "+this.H[a]),this.hd(),this.sa=a);return this.sa};
k.Tf=function(a){3E5>Date.now()-this.kf||(v("Cast.MPL.Bandwidth",a),cl||window.localStorage.setItem("cast.player.core.QualityManager.currentBandwidth",""+a),this.hd())};k.hd=function(){var a=Date.now();Dd(this.H[this.sa],this.Xg);this.kf=a};var al=z("cast.player.core.legacy_qualitymanager"),cl=document.domain.includes("gstatic.com");var el=function(a,b,c){var d=this;this.g=a;this.J=b;this.Wj=c.streamsGroupedByBitrate;this.Xj=c.streamsGroupedByCdn;this.H=Array.from(c.streamsGroupedByBitrate.keys());this.Jh=new Map;this.H.forEach(function(e,f){d.Jh.set(f,d.Wj.get(e))});this.ig=0;this.Ba=this.Bi();this.sa=this.Ge(this.Ba);C(dl,this.J+": initial bitrate is "+this.H[this.sa.bb]);this.ec=0;this.rc=null;this.kf=Date.now();this.Xg=c.mimeType;Ed(this.H,this.Xg)};k=el.prototype;
k.Bi=function(){var a=this.g.initialBandwidth;3145728===this.g.initialBandwidth&&(a=parseFloat(window.localStorage.getItem("cast.player.core.QualityManager.currentBandwidth")),a="number"===typeof a&&a>this.g.initialBandwidth?a:this.g.initialBandwidth);return a};k.N=function(){this.hd()};k.pm=function(a,b){b&&(this.Ba=0<a?8*this.ec/(a/1E3):0);this.ec=0;this.rc=null;C(dl,this.J+": current="+this.Ba.toFixed(2));this.Tf(this.Ba)};
k.rm=function(a,b){0>=a||(this.g.trackBandwidth&&this.g.trackBandwidth(this.J,a,b),wh(b,a),a=0<a?8*b/(a/1E3):0,this.Ba=.8*a+(1-.8)*this.Ba,C(dl,this.J+": current="+a.toFixed(2)+", average="+this.Ba.toFixed(2)),this.Tf(a),this.ec=0)};k.qm=function(a){this.ec=a};
k.Ge=function(a,b,c){if(void 0===c?0:c){c=this.Wj.get(this.H[this.sa.bb]);var d=c.length;1>=d?(Ca("Cast.MPL.IncorrectFallbackCdnCyclingBehavior",!0),this.ig=0,c=null):(this.ig=(this.ig+1)%d,c={bb:this.sa.bb,Ig:c[this.ig].index});if(c)return c}c=void 0;b?(c=Array.from(b.keys()),b=c[0]):b=0;d=-1;for(var e=Number.MAX_VALUE,f=0;f<this.H.length;f++)if(void 0===c||-1!==c.indexOf(f)){if(a>=this.H[f]){var g=a-this.H[f];g<e&&(d=f,e=g)}this.H[b]>this.H[f]&&(b=f)}a=0>d?b:d;return{bb:a,Ig:this.Jh.get(a)[0].index}};
var fl=function(a,b){a.Jh.clear();b.forEach(function(c,d){a.Jh.set(d,c)})};
el.prototype.hk=function(a){var b=a.dd,c=void 0===a.Nf?void 0:a.Nf,d=void 0===a.Bd?void 0:a.Bd;a=void 0===a.Ye?!1:a.Ye;d&&fl(this,d);var e=Date.now();if(!b&&null!==this.rc&&e-this.rc<2E3*(c||0))return this.sa.Ig;this.rc=e;b=this.Ge(.7*this.Ba,d,a);d=c=b.bb;a=1===this.H.length&&0===this.H[0];(this.g.getQualityLevel||this.g.co&&this.g.co.uo)&&!a&&(this.g.getQualityLevel&&(c=this.g.getQualityLevel(this.J,c,this.sa.bb,this.H)),c>=this.H.length?A(dl,this.J+": Host provided an invalid quality level!"):
d!==c&&(b.bb=c,b.Ig=this.Wj.get(this.H[c])[0].index));b.bb!==this.sa.bb&&(C(dl,this.J+": from "+(this.H[this.sa.bb]+" to ")+this.H[b.bb]),this.hd());this.sa=b;return this.sa.Ig};el.prototype.Tf=function(a){3E5>Date.now()-this.kf||(v("Cast.MPL.Bandwidth",a),gl||window.localStorage.setItem("cast.player.core.QualityManager.currentBandwidth",""+a),this.hd())};el.prototype.hd=function(){var a=Date.now();Dd(this.H[this.sa.bb],this.Xg);this.kf=a};var dl=z("cast.player.core.QualityManager"),gl=document.domain.includes("gstatic.com");var T=function(a,b,c,d,e,f,g,h){w.call(this);this.pa=a;this.host=b;this.protocol=c;this.hg=f;this.W=d;this.ha=this.protocol.getStreamInfo(d);this.Ra=ch(this.ha)?new zj(a,b,this.ha.codecs,this.ha.mimeType):new Ej(b,d,this.ha,e,a,h);ch(this.ha)&&this.pa.em(this.Ra);a=this.ha;Fd(a.codecs);v("Cast.MPL.MimeType",yd[a.mimeType]||0);v("Cast.MPL.StreamType",sd(a.mimeType)?1:td(a.mimeType)?2:ch(a)?3:0);this.Og=!1;this.l=1;this.nh=0;this.pe=!1;this.Ph=this.xb=0;this.Ub=400;this.ed=this.fd=this.ae=this.Pg=!1;
this.ql=this.Yh=0;this.Db=new pg;this.I=new Rg;this.I.setResponse=this.Pn.bind(this);this.m=new Qj(this.uj.bind(this));gd(this.m);x(this.m,"success",this.od,!1,this);x(this.m,"error",this.cc.bind(this,!1));x(this.m,"timeout",this.cc.bind(this,!0));x(this.m,"ready",this.An,!1,this);this.H=this.ha.bitrates;this.oe=null;a=Yk.Ci();a.pf=a.pf||mh("receiver-flags")||null;this.ko=!(!a.pf||!a.pf.enable_fallback_content_delivery_networks);this.Cd=b.optInRedundantStreams;Ca("Cast.MPL.UseFallbackCdnLogic",this.Cd);
this.ei=!1;this.ko?(b=new el(b,d,this.ha),c=this.ha,d=this.host,a=c.streamsGroupedByBitrate,c=c.streamsGroupedByCdn,d=this.Cd?new ak({streamsGroupedByBitrate:a,streamsGroupedByCdn:c,md:d.segmentRequestRetryLimit,Jc:d.segmentRequestRetryLimit}):new Zj({streamsGroupedByBitrate:a,Jc:d.segmentRequestRetryLimit})):(b=new bl(b,d,this.H,this.ha.mimeType),d=this.ha,a=this.host,d=this.Cd?new Zk(d.bitrates,2):new $k(d.bitrates,a.segmentRequestRetryLimit));this.me=b;this.Sk=g||d;this.jg=this.Aj=-1};q(T,w);
var hl=function(a){void 0!==a.Ra.Pf&&(a.Ra.Pf=!1);w.prototype.N.call(a)};T.prototype.N=function(){void 0!==this.Ra.Pf&&(this.Ra.Pf=!0);w.prototype.N.call(this)};T.prototype.M=function(){clearTimeout(this.oe);this.oe=null;this.Ra.N();this.me.N();this.m.N();w.prototype.M.call(this)};T.prototype.Pn=function(a,b){a?il(this,{$d:this.ed,data:new Uint8Array(a),interval:this.I.interval,le:this.I.le},b):this.cc(!1);this.Pg=!1;this.ae&&(jl(this),this.ae=!1)};
var kl=function(a,b){var c=b.dd,d=void 0===b.Nf?void 0:b.Nf,e=void 0===b.Bd?void 0:b.Bd;b=void 0===b.Ye?!1:b.Ye;a.jg=a.Cd?a.me.hk({dd:c,Nf:d,Bd:e,Ye:b}):a.me.hk(c,d,e);c=a.jg;d=a.protocol.getQualityLevel(a.W);c===d?a=!1:(a.Aj=d,a.Og=!0,a.protocol.wh(a.W,c,a,a.pa),a=!0);return a},nl=function(a,b,c,d,e,f,g){g&&ll(a,b,c.time);if(a.fd){C(ml,a.W+": segment processed");a.fd=!1;if(a.host.processSegment){g=a.host.processSegment(a.W,b);if(Id(g)){g.then(function(h){h instanceof Uint8Array&&(b=h);a.Ra.append(b,
c,d,e,f);a.jh()});return}g instanceof Uint8Array&&(b=g)}a.Ra.append(b,c,d,e,f)}else C(ml,a.W+": not processing");a.jh()},ql=function(a,b){a.fd?ol(a,b,"processing previous segment"):a.Db.Ua()?pl(a,b)?a.Cf(b):(ol(a,b,"segment duration will go beyond buffer limit"),a.oe=setTimeout(a.jh.bind(a),1E3)):ol(a,b,"queue has "+a.Db.ad()+" segments")},ol=function(a,b,c){C(ml,a.W+": queue segment ("+b.data.length+") as "+c);a.Db.enqueue(b)};
T.prototype.jh=function(){if(!this.fd&&!this.Db.Ua()){var a=sg(this.Db);pl(this,a)?(C(ml,this.W+": dequeue segment"),rg(this.Db),this.Cf(a)):(C(ml,this.W+": delay process downloaded segment"),this.oe=setTimeout(this.jh.bind(this),1E3))}};var pl=function(a,b){var c=a.mb(a.pa.getCurrentTime());return c<=a.host.autoPauseDuration?!0:c+b.interval.duration<=a.Ra.Uk()};T.prototype.Cf=function(a){C(ml,this.W+": process segment");this.fd=!0;this.protocol.processSegment(this.W,a,this)};
T.prototype.reset=function(){C(ml,this.W+": reset");this.l=1;this.nh=0;this.pe=!1;rl(this);this.fd=this.ae=!1;this.Db.clear();clearTimeout(this.oe);this.oe=null;this.ed||this.m.abort();this.protocol.reset(this.W);this.Ra.reset();this.pa.Kc()};
T.prototype.od=function(a){this.ei&&(Da("Cast.MPL.SuccessfulCdnSwitch"),this.ei=!1);var b=this.protocol.getQualityLevel(this.W);b=this.Sk.ck(b);il(this,{$d:this.ed,headers:this.m.getAllResponseHeaders(),data:new Uint8Array(rd(a.target)),interval:this.I.interval,le:this.I.le},void 0,b)};
var il=function(a,b,c,d){a.me.rm(void 0!==c?c:Date.now()-a.nh,b.data.length);rl(a);ql(a,b);a.ed?(a.ed=!1,a.protocol.vh(a.W,b.data),c=!0):c=a.pe=!1;if(!c&&(c=a.mb(a.pa.getCurrentTime()),kl(a,{dd:10>c,Nf:b.interval.duration,Bd:d}),a.Yh=.8*c+(1-.8)*a.Yh,3E5<Date.now()-a.ql&&(v("Cast.MPL.AverageBufferDuration",parseInt(a.Yh,10)),a.ql=Date.now()),a.Og))return;a.pa.Kc()};T.prototype.An=function(){this.ae&&(jl(this),this.ae=!1)};
T.prototype.cc=function(a){this.me.pm(Date.now()-this.nh,a);var b=this.protocol.getQualityLevel(this.W);a=this.Sk.yd(b,a);if(this.Cd?0===a.size:0===a.length)Da("Cast.MPL.SegmentRequestFailoverOptionsExhausted"),this.host.skipSegmentOnNetworkFailure?(rl(this),this.pa.Kc()):(this.l=-1,a=this.Pg?void 0:new Sg(this.I.url,this.m.ac,pd(this.m),this.m.getAllResponseHeaders(),rd(this.m)),this.host.Z(301,a));else{if(b=this.Cd){var c=this.protocol.getQualityLevel(this.W);b=this.protocol.Ck(c);a:{for(var d=
n(Array.from(a.values())),e=d.next();!e.done;e=d.next()){e=n(e.value);for(var f=e.next();!f.done;f=e.next())if(f.value.index===c){c=!1;break a}}c=!0}b=b&&!c}(d=b)?(this.ei=kl(this,{dd:!0,Bd:a,Ye:!0}),this.xb++,this.Ph=Date.now(),this.pa.Kc()):kl(this,{dd:!0,Bd:a})?(this.pe=!0,this.pa.Kc()):(this.xb++,this.Ph=Date.now(),this.pa.Kc(this.Ub));b=sl(this,this.Aj);e=this.H.indexOf(b);c=sl(this,this.jg);-1!==b&&-1!==c&&(d=d&&c===b,a=this.Cd?!a.has(e):!a.includes(e),e=this.Aj===this.jg,Ca("Cast.MPL.ValidStreamSwitchOnNetworkError",
d||c<b&&a||e))}};var sl=function(a,b){a=n(a.ha.streamsGroupedByBitrate.entries());for(var c=a.next();!c.done;c=a.next()){c=n(c.value);var d=c.next().value;if(void 0!==c.next().value.find(function(e){return e.index===b}))return d}return-1};T.prototype.uj=function(a){this.me.qm(a.loaded)};T.prototype.mb=function(a){return this.Ra.mb(a)};T.prototype.createBuffer=function(){this.Ra.createBuffer()};
var mk=function(a){a.Og=!1;a.pa.zl();tl(a,!1);if(a.ed)jl(a);else if(ul(a),a.pa.Kc(),a.host.onQualityLevelChanged)a.host.onQualityLevelChanged(a.W)},jl=function(a){if(vl(a))a.ae=!0;else{a.nh=Date.now();a.protocol.updateSegmentRequestInfo(a.W,a.I);a.I.timeoutInterval=Math.max(2E3*a.I.interval.duration,1E4);a.I.skipRequest=!1;if(a.host.updateSegmentRequestInfo&&(a.host.updateSegmentRequestInfo(a.I,a.W),a.I.skipRequest)){a.Pg=!0;return}C(ml,a.W+": send request to get segment.");a.m.Be=a.I.withCredentials;
a.m.pc=Math.max(0,a.I.timeoutInterval);a.m.send(a.I.url,void 0,void 0,a.I.headers)}};T.prototype.We=function(){return 0<this.l||this.fd||vl(this)||!this.Ra.Ze()||!this.Db.Ua()};T.prototype.Wi=function(){var a;if(a=!this.Og&&2>this.Db.ad()&&!vl(this))a=sg(this.Db),a=!(a&&!pl(this,a));return a};
var vl=function(a){return a.m.We()||a.Pg},tl=function(a,b){if(a.protocol.ee(a.W)){var c=a.protocol.Pe(a.W);null!==c?ql(a,{$d:!0,data:c,interval:{time:a.I.interval.time,duration:0}}):(a.ed=!0,a.pe=a.pe||b)}},ul=function(a){var b=a.protocol.vg(a.W);b&&a.hg(b)};
T.prototype.Gj=function(){if(0<this.xb||this.pe){if(0<this.xb){if(Date.now()-this.Ph<this.Ub)return;this.Ub*=2}jl(this)}else if(1==this.l){var a=this.pa.getCurrentTime(),b=this.protocol.seek(this.W,a);"number"===typeof b?(C(ml,this.W+": seek success "+a),this.l=2,this.pa.Ml(b),tl(this,!0),ul(this),jl(this)):C(ml,this.W+": seek failure "+a)}else this.protocol.Ec(this.W)&&(tl(this,!0),ul(this),jl(this)),this.protocol.Cc(this.W)&&(this.l=0)};
var rl=function(a){a.xb=0;a.Ph=0;a.Ub=400},ll=function(a,b,c){if(a.host.processMetadata){var d=Ni(b,[1701671783],!0);0!==d.length&&(d=d.map(function(e){0===e.Fa?(e.mc=c,e.Fb=e.mc):(e.mc=c+e.ih/e.Fa,e.Fb=e.mc+e.pg/e.Fa);return{endTime:e.Fb,eventDuration:e.pg,id:e.Li,messageData:e.wl,presentationTimeDelta:e.ih,schemeIdUri:e.Mj,startTime:e.getStartTime(),timescale:e.Fa,value:e.tc}}),a.host.processMetadata("EMSG",b,c,d))}},ml=z("cast.player.core.SegmentManager");var wl=function(a,b,c){w.call(this);var d=this;this.g=a;this.O=b;this.pa=c;this.qa=[];this.Id=[];this.hb=null;this.la=new MediaSource;this.il=this.ll=this.Ng=!1;this.aj=this.Ed=this.Vc=null;this.Jg=[];this.mi=function(e){d.hb?d.hb.createSession(e):d.Jg.push(e)};x(this.la,"sourceopen",this.Ll,!1,this);this.g.mediaElement&&x(this.g.mediaElement,"durationchange",this.zd,!1,this)};q(wl,w);
wl.prototype.M=function(){this.O.Tc();xl(this);this.Ed=this.Vc=null;this.Jg.length=0;this.hb&&(this.hb.N(),this.hb=null);y(this.la,"sourceopen",this.Ll,!1,this);this.g.mediaElement&&(this.g.mediaElement.removeAttribute("src"),this.g.mediaElement.load(),y(this.g.mediaElement,"durationchange",this.zd,!1,this));w.prototype.M.call(this)};wl.prototype.Ll=function(){C(yl,"sourceopen");if(this.il){this.update();zl(this);for(var a=n(this.qa),b=a.next();!b.done;b=a.next())(b=b.value)&&b.createBuffer()}};
var Al=function(a){if(!a.hb&&a.aj&&a.ll&&(a.Vc||a.Ed)){a.hb=new Qk(a.g,a.O,a.aj,a.Vc,a.Ed);for(var b=n(a.Jg),c=b.next();!c.done;c=b.next())a.hb.createSession(c.value);a.Jg.length=0}};wl.prototype.zd=function(){if(void 0!==this.la.setLiveSeekableRange&&"open"==this.la.readyState&&Infinity==this.la.duration){var a=this.Oa();a&&this.la.setLiveSeekableRange(a.start,a.end)}};
wl.prototype.Oa=function(){for(var a=-Infinity,b=Infinity,c=this.O.getStreamCount(),d=0;d<c;d++)if(this.O.isStreamEnabled(d)){var e=this.O.Oa(d);if(!e)return null;e.start>a&&(a=e.start);e.end<b&&(b=e.end)}a>b&&(a=b);return{start:a,end:b}};wl.prototype.onManifestReady=function(){this.il=!0;this.update();this.zd()};var Bl=function(a,b,c,d){c=void 0===c?null:c;d=void 0===d?null:d;null===a.Ed&&(a.Ed=c);null===a.Vc&&(a.Vc=d);a.aj=b;Al(a)};wl.prototype.createSession=function(a){this.mi(a)};
wl.prototype.endOfStream=function(){"open"==this.la.readyState&&this.la.endOfStream()};wl.prototype.load=function(){xl(this);this.open()};wl.prototype.open=function(){this.Ng||(this.O.load(this),this.Ng=!0);this.g.mediaElement.src?(Yb(this.g.mediaElement,"emptied",function(){Cl(this)},!1,this),this.g.mediaElement.src=""):Cl(this)};
var Cl=function(a){C(yl,"open");!a.hb&&a.g.mediaElement.setMediaKeys?a.g.mediaElement.setMediaKeys(null).catch(function(b){Ec(yl,b.toString())}).then(function(){Dl(a)}):Dl(a)},Dl=function(a){a.g.mediaElement.src=window.URL.createObjectURL(a.la);a.ll=!0;Al(a)};wl.prototype.preload=function(){this.Ng?A(yl,"protocol already loaded"):(this.O.load(this),this.Ng=!0)};
var xl=function(a){for(var b=n(a.qa),c=b.next();!c.done;c=b.next())(c=c.value)&&c.N();a.qa.length=0;a.Id=[]},zl=function(a){if("open"==a.la.readyState){var b=a.O.getDuration();0<b&&!a.la.duration&&(a.la.duration=parseFloat((b-1E-4).toFixed(4)))}};k=wl.prototype;k.reset=function(){for(var a=n(this.qa),b=a.next();!b.done;b=a.next())(b=b.value)&&b.reset()};
k.update=function(){for(var a=this.O.getStreamCount(),b=null,c=null,d=0;d<a;d++)if(this.O.isStreamEnabled(d)){var e=this.O.getStreamInfo(d),f=e.mimeType;e=e.codecs;sd(f)||ud(e)?b?A(yl,"more than one audio stream enabled"):(b=qh(e),b=f+';codecs="'+b+'"'):td(f)&&(c?A(yl,"more than one video stream enabled"):(c=ph(e),c=f+';codecs="'+c+'"'));if(!this.qa[d]){try{this.qa[d]=new T(this.pa,this.g,this.O,d,this.la,this.mi,void 0,this.Id)}catch(g){A(yl,g.message);22==g.code&&this.pa.pj();return}td(f)&&this.pa.li();
this.O.enableStream(d,!0);kl(this.qa[d],{dd:!0})}}else this.qa[d]&&(hl(this.qa[d]),this.qa[d]=null);b||c?this.Vc||this.Ed||(this.Vc=b,this.Ed=c,Al(this)):A(yl,"no enabled audio or video stream")};
k.sg=function(){for(var a=this.O.getStreamCount(),b=0;b<a;b++)if(this.O.isStreamEnabled(b)){var c=this.O.getStreamInfo(b),d=c.codecs;if(sd(c.mimeType)||ud(d)){this.qa[b]&&(hl(this.qa[b]),this.qa[b]=null);try{this.qa[b]=new T(this.pa,this.g,this.O,b,this.la,this.mi,void 0,this.Id)}catch(e){A(yl,e.message);22==e.code&&this.pa.pj();break}this.O.enableStream(b,!0);kl(this.qa[b],{dd:!0})}}};k.Wi=function(a){return this.qa[a].Wi()};k.Gj=function(a){this.qa[a].Gj()};k.We=function(a){return this.qa[a].We()};
k.mb=function(a,b){return this.qa[a].mb(b)};k.Rc=function(){this.hb.Rc()};k.Ve=function(){return null!==this.hb&&this.hb.Ve()};k.getStreamCount=function(){return this.qa.length};var yl=z("cast.player.core.MediaSourceManager");var El=function(){};t("cast.player.core.CaptionsCallbacks",El);El.prototype.getCurrentTime=function(){};El.prototype.Ag=function(){};var Fl=function(){};t("cast.player.core.PlayerCallbacks",Fl);k=Fl.prototype;k.Kc=function(){};k.Ml=function(){};k.zl=function(){};k.sg=function(){};k.yl=function(){};k.pj=function(){};k.li=function(){};k.em=function(){};var Gl=function(a,b,c,d){zj.call(this,a,b,c);a=new Rg;a.url=d;b.updateCaptionsRequestInfo&&b.updateCaptionsRequestInfo(a);this.mm=new ck(this);this.mm.load(a)};q(Gl,zj);Gl.prototype.M=function(){this.mm.N();zj.prototype.M.call(this)};Gl.prototype.reset=function(){};Gl.prototype.eh=function(a){a&&this.parse(a,0)};var U=function(a){Ba()&&Aa.__platform__.metrics.setMplVersion("1.0.0.114");this.g=a;this.O=null;this.Zb=0;this.Sb=null;this.tk=this.fb=this.$e=this.pb=!1;this.Rg=!0;this.Qg=!1;this.Vg=this.Ca=this.aa=this.v=null;this.Te=!1;this.Sf=null;this.fh=this.tj.bind(this);this.Dh=this.Ch=this.Rf=null;this.Ah=this.bf=!1;this.Pj=[]},Il=function(a,b){Hl(a);a.Sf=setTimeout(a.fh,b||0)};k=U.prototype;k.Kc=function(a){Il(this,a)};k.kh=function(a,b,c,d,e,f,g){this.$e&&this.Ca.kh(a,b,c,d,e,f,g);Il(this)};
k.Ml=function(a){this.pb&&(Infinity==this.Zb||this.Zb<a)&&(this.Zb=a)};k.zl=function(){zl(this.aa)};k.getCurrentTime=function(){return this.pb?this.Zb:this.v.currentTime};k.sg=function(){this.aa.sg()};k.yl=function(){this.aa.update()};k.pj=function(){this.reload()};k.li=function(){this.bf||null!==this.Ca||(this.$e=!0,this.Ca=new Pj(this,this.g))};k.Ag=function(){return this.Pj};k.Wn=function(a){this.Pj=a;0<this.Pj.length||(this.Ca&&!this.$e?(this.Ca.Kd(),this.Ca.Of()):this.Vg&&(this.Vg.Kd(),this.Vg.Of()))};
k.em=function(a){this.Vg=a};var Hl=function(a){null!==a.Sf&&(clearTimeout(a.Sf),a.Sf=null)};k=U.prototype;k.uf=function(){C(Jl,"seeking");this.Te?this.Te=!1:(this.Qg=this.pb=!1,this.Rf=null,this.Ca&&this.Ca.reset(),this.aa.reset())};k.tf=function(){C(Jl,"seeked");this.Sb=Date.now()};k.bh=function(){Ec(Jl,"error");this.g.Z(xd(this.v.error))};k.Gl=function(){this.Rf=Date.now();Da("Cast.MPL.Playing");this.Ch&&(v("Cast.MPL.AutoPauseTime",Date.now()-this.Ch),this.Ch=null)};
k.Fl=function(){var a=Date.now();this.fb&&!this.pb&&null!==this.Rf&&(this.Ch=a,v("Cast.MPL.PlayTimeBeforeAutoPause",a-this.Rf));Da("Cast.MPL.Pause");this.Sb=this.Rf=null};k.Bl=function(){Da("Cast.MPL.Ended");this.Sb=null};
k.Hh=function(){if(this.pb&&this.v&&!isNaN(this.v.duration)&&0!=this.v.buffered.length&&(this.pb=!1,this.Sb=Date.now(),v("Cast.MPL.MediaDuration",this.v.duration),0!=this.Zb&&this.Zb!=this.v.currentTime)){var a=this.Zb;this.Te=!0;this.v.currentTime=a}this.Rg=!1;var b=0,c=0,d=!0;a=this.getCurrentTime();for(var e=this.aa.getStreamCount(),f=0;f<e;f++)if(this.O.isStreamEnabled(f)&&(c++,this.aa.We(f))){b++;var g=this.aa.mb(f,a);if(this.fb&&d){var h=this.O.getSegmentInterval(f).duration*this.g.autoResumeNumberOfSegments;
if(0==h||h>this.g.autoResumeDuration)h=this.g.autoResumeDuration;g<h&&(d=!1)}h=f;20<=g?C(Jl,"not requesting more segments, buffered duration "+g+" seconds exceeds max duration."):(g<this.g.autoPauseDuration&&(g=this.O.getStreamInfo(h),ch(g)||(this.Rg=!0)),this.aa.Wi(h)&&this.aa.Gj(h))}if(this.v&&0!=c){this.Rg?!this.v.paused&&this.v.duration-a>this.g.autoPauseDuration&&(C(Jl,"auto pause "+a),this.fb=!0,this.v.pause(),this.g.onAutoPause&&this.g.onAutoPause(this.fb)):!this.pb&&this.fb&&d&&(this.fb=!1,
this.v.paused&&(C(Jl,"auto resume "+a),this.v.play(),this.g.onAutoPause&&this.g.onAutoPause(this.fb),this.Sb=Date.now()));if(0==b){if(!this.Qg&&(C(Jl,"endOfStream "+a),this.aa.endOfStream(),this.g.onMediaDownloadEnded))this.g.onMediaDownloadEnded();this.Qg=!0}if(!(this.pb||this.fb||this.v.paused||!this.aa||this.aa.Ve())&&(C(Jl,"time="+a),this.Sb&&(b=Date.now(),c=2500<b-this.Sb,this.g.qk||c))){a:{d=this.v.currentTime;e=this.v.buffered;for(f=e.length-1;0<=f;f--){g=e.start(f);if(d>=g)break;if(0==f||
d>e.end(f-1)-.15){A(Jl,"stall jump to "+g);Da("Cast.MPL.PlaybackStallGap");this.Te=this.Ah=!0;this.v.currentTime=g;d=!0;break a}}d=!1}d?this.Sb=null:c&&(this.Sb=this.g.qk?b:null,A(Jl,"playback stalled in buffered region"),Da("Cast.MPL.PlaybackStall"),this.Te=this.Ah=!0,this.v.currentTime=a+.5)}}Il(this,400)};
k.vf=function(){this.Sb=Date.now();this.Ah&&(v("Cast.MPL.StallPrevented",1),this.Ah=!1);this.Dh&&(v(this.bf?"Cast.MPL.PreloadAutoplayStartupLatency":"Cast.MPL.AutoplayStartupLatency",Date.now()-this.Dh),this.Dh=null)};k.tj=function(){this.Sf=null;this.Hh()};
k.Dj=function(){x(this.v,"error",this.bh,!1,this);x(this.v,"seeking",this.uf,!1,this);x(this.v,"seeked",this.tf,!1,this);x(this.v,"pause",this.Fl,!1,this);x(this.v,"playing",this.Gl,!1,this);x(this.v,"timeupdate",this.vf,!1,this);x(this.v,"ended",this.Bl,!1,this)};
k.ek=function(){y(this.v,"error",this.bh,!1,this);y(this.v,"seeking",this.uf,!1,this);y(this.v,"seeked",this.tf,!1,this);y(this.v,"pause",this.Fl,!1,this);y(this.v,"playing",this.Gl,!1,this);y(this.v,"timeupdate",this.vf,!1,this);y(this.v,"ended",this.Bl,!1,this)};var Kl=function(a,b,c){a.O=b;a.pb=!0;a.Zb=c||0;a.aa=new wl(a.g,a.O,a)};k=U.prototype;
k.load=function(a,b){C(Jl,"load");Da("Cast.MPL.Load");var c=Sj();void 0!==c&&Vj("Cast.MPL.ExperimentationBlockId",c.blockIds);this.g.Pk&&Da("Cast.MPL.DisableBufferAdjust");this.bf=!1;this.v=this.g.mediaElement;this.Dj();this.v.autoplay&&(this.Dh=Date.now(),this.v.autoplay=!1,this.tk=!0,this.Rl());this.aa?(this.aa.open(),this.li()):a?(Kl(this,a,b),this.aa.load()):Ec(Jl,"no protocol")};k.preload=function(a,b){C(Jl,"preload");Da("Cast.MPL.Preload");Kl(this,a,b);this.aa.preload();this.bf=!0};
k.Tc=function(){C(Jl,"unload");Ll(this);this.aa&&(this.aa.N(),this.aa=null);Hl(this);this.v&&(this.tk&&(this.v.autoplay=!0),this.Qg=this.fb=!1,this.ek(),this.v=null,this.bf=!1)};k.reload=function(){this.pb||(this.Zb=this.v.currentTime);this.pb=!0;this.v.paused||(this.fb=!0);Hl(this);this.aa.load()};k.Rl=function(){this.fb=!0};k.getState=function(a){var b=this.aa.Oa();void 0===a&&(a=1);var c={};a&1&&(c.underflow=this.Rg||this.fb);a&2&&(c.seekable=b?{start:b.start,end:b.end}:null);return c};
k.mb=function(a){return this.aa.mb(a,this.getCurrentTime())};k.Zm=function(){return 20};k.Rc=function(){this.aa.Rc()};var Ll=function(a){a.Ca&&(a.$e=!1,a.Ca.N(),a.Ca=null)};
U.prototype.Um=function(a,b,c){b?a?"cea608"==b?null!==this.Ca?this.Ca.Rb.mode="showing":A(Jl,"InbandCaptionsManager should have been created by createInbandCaptionsManager() callback!"):c&&(Ll(this),this.Ca=new Gl(this,this.g,b,c),this.Ca.Rb.mode="showing"):"cea608"==b?null!==this.Ca&&(this.Ca.Rb.mode="hidden"):this.$e||Ll(this):this.aa.update()};U.prototype.$m=function(){return this.O};U.prototype.Ym=function(){return this.g};t("cast.player.api.Player",U);U.prototype.getHost=U.prototype.Ym;
U.prototype.getStreamingProtocol=U.prototype.$m;U.prototype.enableCaptions=U.prototype.Um;U.prototype.startLicenseRequest=U.prototype.Rc;U.prototype.getMaxBufferDuration=U.prototype.Zm;U.prototype.getBufferDuration=U.prototype.mb;U.prototype.getState=U.prototype.getState;U.prototype.playWhenHaveEnoughData=U.prototype.Rl;U.prototype.reload=U.prototype.reload;U.prototype.unload=U.prototype.Tc;U.prototype.preload=U.prototype.preload;U.prototype.load=U.prototype.load;
U.prototype.setSenderTrackStyles=U.prototype.Wn;U.prototype.getSenderTrackStyles=U.prototype.Ag;U.prototype.onAudioChanged=U.prototype.yl;var Jl=z("cast.player.api.Player");U.State={UNDERFLOW:1,SEEKABLE:2};var V=function(a){this.name=a;this.kl=!1};V.prototype.parse=function(){this.kl=!0};var Ml=function(a){V.call(this,a);this.value=null};q(Ml,V);Ml.prototype.parse=function(a){V.prototype.parse.call(this,a);void 0!==a&&-1<a.indexOf("/")?(a=a.split("/"),this.value=parseInt(a[0],10)/(1<a.length?parseInt(a[1],10):1)):this.value=parseInt(a,10)};var W=function(a,b){V.call(this,a);this.value=b||null};q(W,V);W.prototype.parse=function(a){V.prototype.parse.call(this,a);this.value=a};
var Nl=function(a){V.call(this,a);this.value=null};q(Nl,V);Nl.prototype.parse=function(a){V.prototype.parse.call(this,a);this.value="true"==a.toLowerCase()};var Ol=function(a){V.call(this,a);this.value=null};q(Ol,V);
Ol.prototype.parse=function(a){V.prototype.parse.call(this,a);if(a=a.match(Ef)){var b=!(a[6]||a[7]||a[8]);if(b&&!(a[2]||a[3]||a[4])||b&&a[5])a=null;else{b=parseInt(a[2],10)||0;var c=parseInt(a[3],10)||0,d=parseInt(a[4],10)||0,e=parseInt(a[6],10)||0,f=parseInt(a[7],10)||0,g=parseFloat(a[8])||0;a=a[1]?new Ff(-b,-c,-d,-e,-f,-g):new Ff(b,c,d,e,f,g)}}else a=null;this.value=60*(60*(24*a.wc+a.Bc)+a.Ic)+a.Pc};var Pl=function(a){V.call(this,a);this.value=null};q(Pl,V);
Pl.prototype.parse=function(a){V.prototype.parse.call(this,a);a=a.toUpperCase();for(var b in Ql)if(Ql.hasOwnProperty(b)&&a.includes(Ql[b])){this.value=Ql[b];break}};var Ql={PLAYREADY:"9A04F079-9840-4286-AB92-E65BE0885F95",WIDEVINE:"EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED",CLEARKEY:"1077EFEC-C0B2-4D02-ACE3-3C1E52E2FB4B",wm:"URN:MPEG:DASH:MP4PROTECTION:2011"},Rl=function(a){V.call(this,a);this.value=null};q(Rl,V);
Rl.prototype.parse=function(a){V.prototype.parse.call(this,a);a=a.toUpperCase();a.includes("9A04F079-9840-4286-AB92-E65BE0885F95")?this.value=fh:a.includes("EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED")?this.value=gh:a.includes("1077EFEC-C0B2-4D02-ACE3-3C1E52E2FB4B")&&(this.value=hh)};var Sl=function(a,b){for(var c in b)if(b.hasOwnProperty(c)&&b[c]instanceof V){var d=b[c];if(!d.kl){var e=a.getNamedItem(d.name);e&&d.parse(e.value)}}};var Ul=function(a){this.duration=new Ol("mediaPresentationDuration");this.type=new W("type");this.sm=new Ol("minimumUpdatePeriod");for(this.url=null;a;){if("MPD"==a.nodeName){Sl(a.attributes,this);break}a=a.nextElementSibling}this.ie=[];if(a){for(var b=n(a.children),c=b.next();!c.done;c=b.next())if(c=c.value,"BaseURL"==c.nodeName){this.url=c.textContent;break}a=n(a.children);for(c=a.next();!c.done;c=a.next())b=c.value,"Period"==b.nodeName&&this.ie.push(new Tl(b,this))}},Vl=function(a){V.call(this,
a);this.end=this.start=null};q(Vl,V);Vl.prototype.parse=function(a){V.prototype.parse.call(this,a);a=a.split("-");this.start=parseInt(a[0],10);this.end=parseInt(a[1],10)};
var Wl=function(a){this.media=new W("media");Sl(a.attributes,this)},Xl=function(a){this.im=new W("sourceURL");this.Ma=new Vl("range");Sl(a.attributes,this)},Yl=function(a){this.duration=new Ml("duration");this.timescale=new Ml("timescale");this.T=new W("presentationTimeOffset");this.P=new Ml("startNumber");this.cd=new Vl("indexRange");Sl(a.attributes,this);this.td=this.Ue=null;a=n(a.children);for(var b=a.next();!b.done;b=a.next())switch(b=b.value,b.nodeName){case "Initialization":this.Ue=new Xl(b);
break;case "SegmentTimeline":this.td=[];b=n(b.children);for(var c=b.next();!c.done;c=b.next()){var d=c.value;c=0;var e=d.attributes.getNamedItem("r");e&&(c=parseInt(e.value,10));e=(e=d.attributes.getNamedItem("t"))?new mi(e.value):null;if(d=d.attributes.getNamedItem("d"))for(d=parseInt(d.value,10),this.td.push({time:e,duration:d}),e=0;e<c;e++)this.td.push({time:null,duration:d})}}};
Yl.prototype.ib=function(a){null===a.duration.value&&(a.duration=this.duration);null===a.timescale.value&&(a.timescale=this.timescale);null===a.T.value&&(a.T=this.T);null===a.P.value&&(a.P=this.P);null===a.cd.start&&(a.cd=this.cd);null===a.Ue&&(a.Ue=this.Ue);null===a.td&&(a.td=this.td)};var Zl=function(a){Yl.call(this,a);this.i=[];a=n(a.children);for(var b=a.next();!b.done;b=a.next())switch(b=b.value,b.nodeName){case "SegmentURL":this.i.push(new Wl(b))}};q(Zl,Yl);
Zl.prototype.ib=function(a){Yl.prototype.ib.call(this,a);0==a.i.length&&(a.i=this.i)};var $l=function(a){Yl.call(this,a);this.media=new W("media");this.ta=new W("initialization");Sl(a.attributes,this)};q($l,Yl);$l.prototype.ib=function(a){Yl.prototype.ib.call(this,a);null===a.media.value&&(a.media=this.media);null===a.ta.value&&(a.ta=this.ta)};
var bm=function(a){this.schemeIdUri=new Pl("schemeIdUri");Sl(a.attributes,this);var b=this.schemeIdUri.value;this.Ef=am(b,a);this.Ac=b==Ql.wm},am=function(a,b){switch(a){case Ql.PLAYREADY:a=n(b.children);for(b=a.next();!b.done;b=a.next())switch(b=b.value,b.nodeName){case "mspr:pro":return gk(Hd(window.atob(b.childNodes[0].nodeValue.trim())));case "cenc:pssh":return a=Hd(window.atob(b.childNodes[0].nodeValue)),a=new Fi(a),gk(a.getData())}return cm(fh);case Ql.WIDEVINE:return cm(gh);case Ql.CLEARKEY:return cm(hh);
default:return null}},cm=function(a){return{systemId:a,Re:null,ff:null,url:null,Sg:0}},dm=function(a){this.Hf=[];this.Ac=!1;this.ic=this.L=this.jc=this.url=null;a=n(a.children);for(var b=a.next();!b.done;b=a.next())switch(b=b.value,b.nodeName){case "BaseURL":this.url=b.textContent;break;case "ContentProtection":b=new bm(b);b.Ef&&this.Hf.push(b.Ef);this.Ac=this.Ac||b.Ac;break;case "SegmentBase":this.ic=new Yl(b);break;case "SegmentTemplate":this.L=new $l(b);break;case "SegmentList":this.jc=new Zl(b)}};
dm.prototype.ib=function(a){a.L?this.L&&this.L.ib(a.L):a.L=this.L;a.ic?this.ic&&this.ic.ib(a.ic):a.ic=this.ic;a.jc?this.jc&&this.jc.ib(a.jc):a.jc=this.jc;if(a.url&&this.url){var b=this.url;var c=a.url;b instanceof J||(b=Fg(b));c instanceof J||(c=Fg(c));b=b.resolve(c).toString()}else b=a.url||this.url;a.url=b;0==a.Hf.length&&(a.Hf=this.Hf);a.Ac=a.Ac||this.Ac};var em=function(a){dm.call(this,a);this.id=new W("id");this.mimeType=new W("mimeType");this.codecs=new W("codecs");Sl(a.attributes,this)};
q(em,dm);em.prototype.ib=function(a){dm.prototype.ib.call(this,a);a.mimeType.value=a.mimeType.value||this.mimeType.value;a.codecs.value=a.codecs.value||this.codecs.value};
var fm=function(a,b){em.call(this,a);this.Cm=new Ml("bandwidth");this.height=new Ml("height");this.width=new Ml("width");Sl(a.attributes,this);b.ib(this);if(this.mimeType.value)switch(this.mimeType.value.toLowerCase()){case "application/ttml+xml":this.codecs.value="ttml";this.mimeType.value="text/mp4";break;case "text/vtt":this.codecs.value="webvtt"}"avc1"==this.codecs.value&&(this.codecs.value="avc1.4D401E")};q(fm,em);
var gm=function(a,b){em.call(this,a);this.language=new W("lang");this.frameRate=new Ml("frameRate");Sl(a.attributes,this);this.role=null;b.ib(this);this.F=[];a=n(a.children);for(b=a.next();!b.done;b=a.next())b=b.value,"Representation"==b.nodeName?this.F.push(new fm(b,this)):"Role"==b.nodeName&&(this.role=b.getAttribute("value"))};q(gm,em);
var Tl=function(a,b){dm.call(this,a);this.duration=new Ol("duration");this.start=new Ol("start");Sl(a.attributes,this);this.url=this.url||b.url;this.o=[];a=n(a.children);for(b=a.next();!b.done;b=a.next())switch(b=b.value,b.nodeName){case "AdaptationSet":this.o.push(new gm(b,this))}};q(Tl,dm);var hm=function(a){Q.call(this,a);this.If=new lg(5);this.yh=!1;this.qd=[];this.Jk=[]};q(hm,Q);hm.prototype.updateLicenseRequestInfo=function(a){var b=this.If.get(a.protectionSystem);b&&(a.headers={},a.headers["content-type"]="text/xml;charset=utf-8",a.url=b.url)};
hm.prototype.nj=function(a){if(a.ie&&0!=a.ie.length){ok(this,"dynamic"==a.type.value);this.Uj=!!this.Y&&"number"===typeof a.sm.value;a.duration.value&&(this.duration=a.duration.value);a:{var b=a.ie;var c=b[0];if(c.o[0].L){var d=[],e=[];b=n(b);for(var f=b.next();!f.done;f=b.next()){f=f.value;for(var g=f.duration.value,h=0,l=[],m=n(f.o),p=m.next();!p.done;p=m.next()){var u=p.value;p=u.L;if(!p){A(im,"Multiple periods not using SegmentTemplate is not supported");c=[{start:c.start.value,duration:c.duration.value,
xf:null}];break a}u=this.uri.resolve(new J(u.F[0].url)).toString();var D=new J(u);e[h]=e[h]||0;u=e[h];var B={bitrate:0,T:0,i:[],url:null,L:null,P:null,Lb:null};jm(D,p,B);p=km(D,p);p={P:B.P,T:B.T,dl:u,L:p};l.push(p);e[h]+=Math.round(g/p.L.duration);h++}d.push({start:f.start.value,duration:f.duration.value,xf:l})}c=d}else c=[{start:c.start.value,duration:c.duration.value,xf:null}]}this.qd=c;a=n(a.ie[0].o);for(c=a.next();!c.done;c=a.next()){d=c.value;e=d.F;c=e[0].mimeType.value;e=d.codecs.value||e[0].codecs.value||
"";if(null===c){this.host.Z(422,void 0,"No mime type in manifest",im);break}if(sd(c))b=1;else if(td(c))b=2;else if(bh(d.role,c,e))b=3;else continue;c={name:d.id.value,type:b,enabled:!1,jb:!1,na:!0,index:-1,ca:-1,F:[],language:d.language.value,mimeType:c,codecs:e,role:d.role};d=n(d.F);for(e=d.next();!e.done;e=d.next()){e=e.value;b=n(e.Hf);for(f=b.next();!f.done;f=b.next())f=f.value,(g=lm(f.systemId))&&this.If.set(g,f);e.Ac&&(this.yh=!0);f=this.uri.resolve(new J(e.url)).toString();b={bitrate:e.Cm.value||
0,id:e.id.value,T:0,i:[],url:f,P:null,L:null,Lb:null};e.ic||e.jc||e.L?(e.url&&"/"!=f[f.length-1]&&(f+="/"),f=new J(f),jm(f,e.ic,b),(g=e.jc)&&jm(f,g,b),e=e.L,g=b,e&&(jm(f,e,g),g.L=km(f,e))):(e=f,f=this.duration,b.i.push({time:0,dc:new mi("0"),duration:f,url:e}));c.F.push(b)}c.jb=!0;this.o.push(c)}}else this.host.Z(421,void 0,"No periods found in manifest",im)};
var mm=function(a){if(rh&&rh.updateOutputMode){var b=a.frameRate.value;if("number"===typeof b){a=n(a.F);for(var c=a.next();!c.done;c=a.next()){var d=c.value;c=d.width.value;var e=d.height.value;if("number"===typeof c&&"number"===typeof e&&2160<=e){a=d.codecs.value;C(im,"Update output mode with frameRate="+b+" codecs="+a);rh.updateOutputMode(c,e,b,a);break}}}}},nm=function(a){a=n(a.ie);for(var b=a.next();!b.done;b=a.next()){var c={};b=n(b.value.o);for(var d=b.next();!d.done;c={Th:c.Th},d=b.next())d=
d.value,c.Th=d.frameRate.value,d.F=d.F.filter(function(e){return function(f){var g=e.Th;if(sh){var h=f.codecs.value,l=f.mimeType.value,m=f.width.value;f=f.height.value;h&&l?(g=wd({mimeType:l,codecs:oh(h),width:m,height:f,framerate:g}),h=sh(g),C(im,"canDisplay("+g+"): "+!!h),g=h):g=!0}else g=!0;return g}}(c)),mm(d)}};k=hm.prototype;k.Fj=function(){this.host.Z(321,dk(this.jd))};k.Qb=function(a){this.host.Z(420,void 0,a,im)};
k.yj=function(a){var b=new DOMParser;a=Og(b,vb(a));a.firstChild&&(a=new Ul(a.firstChild),this.Ej=1E3*a.sm.value||this.Ej,nm(a),this.nj(a))};k.gk=function(){this.yh||Bl(this.Nc,Array.from(this.If.keys()))};k.Oa=function(a){var b=this.o[a];b=b.F[b.ca];return 0==b.i.length&&b.L?(a=this.duration,this.Y&&(a-=20),{start:0,end:a}):Q.prototype.Oa.call(this,a)};var pm=function(a,b,c){c=om(a,b,c);a.Jk[b]!=c&&(a.o[b].na=!0);a.Jk[b]=c};
hm.prototype.seek=function(a,b){var c=this.o[a],d=c.F[c.ca];if(0==d.i.length&&d.L){var e=this.Oa(a);b<e.start&&(b=e.start);b>e.end&&(b=e.end);e=Math.floor(b/d.L.duration);d=Math.ceil(this.duration/d.L.duration);c.index=e<d?e:d-1;pm(this,a,c.index);return b}return Q.prototype.seek.call(this,a,b)};
hm.prototype.Ec=function(a){var b=this.o[a],c=b.F[b.ca];if(0==c.i.length&&c.L){var d=b.index+1;return d<Math.ceil(this.duration/c.L.duration)?(b.index=d,pm(this,a,b.index),!0):!1}return Q.prototype.Ec.call(this,a)};var om=function(a,b,c){a=a.qd;for(var d=0;d<a.length-1&&!(c<a[d+1].xf[b].dl);d++);return d};k=hm.prototype;k.Cc=function(a){var b=this.o[a],c=b.F[b.ca];return 0==c.i.length&&c.L?b.index==Math.ceil(this.duration/c.L.duration)-1:Q.prototype.Cc.call(this,a)};
k.getSegmentInterval=function(a){if(this.ee(a))return{time:0,duration:0};var b=this.o[a],c=b.F[b.ca];if(c.L){b=b.index;if(0>b)return{time:0,duration:0};0<c.i.length?(a=c.i[b].duration,c=c.i[b].time-c.T):(a=c.L.duration,c=b*a);return{time:c,duration:a}}return Q.prototype.getSegmentInterval.call(this,a)};
k.updateSegmentRequestInfo=function(a,b){Q.prototype.updateSegmentRequestInfo.call(this,a,b);var c=this.o[a],d=c.F[c.ca];c=c.index;var e=this.ee(a);if(d.L){var f=d.L,g=null;1<this.qd.length&&(g=this.qd[om(this,a,c)].xf[a],f=g.L);a=e?f.ta:f.url;a=a.replace(/\$RepresentationID\$/g,d.id);a=a.replace(/\$Bandwidth\$/g,d.bitrate.toString());e||(e=c+(d.P||0),1<this.qd.length&&(e=c+(g.P||0)-g.dl),a=qm(a,e),a=a.replace("$Time$",0<d.i.length?d.i[c].dc.toString():(c*f.duration).toString()));b.url=a}else{g=f=
null;if(e)c=d.Lb,d=c.url?c.url:d.url,c.Ma&&(f=c.Ma.start,g=c.Ma.end);else if(c<d.i.length)c=d.i[c],c.url?d=c.url:(d=d.url,f=c.offset,g=c.offset+c.size-1);else{this.host.Z(423,void 0,"Invalid segment info in manifest.",im);return}b.url=d;b.headers={};null!==f&&null!==g&&(b.headers.Range="bytes="+f+"-"+g)}};
k.processSegment=function(a,b,c){var d=this.o[a],e=d.F[d.ca],f=b.data;if(this.yh&&this.Nc){var g=O(f,1886614376,void 0,!0);if(g=null===g?null:{systemId:g.Zj,url:null,Re:null,ff:null,Sg:0}){var h=lm(g.systemId);h&&(this.If.set(h,g),Bl(this.Nc,Array.from(this.If.keys())),this.yh=!1)}}if(b.$d)if(a=(a=O(f,1836019574))?vi(a):null,null===a)this.host.Z(322,void 0,"no init",im);else{if(!e.L&&0==e.i.length){d=0;b.$d&&e.Lb&&e.Lb.Ma&&(d=e.Lb.Ma.start);f=(f=O(f,1936286840))?f.Ei(d):null;if(!f){A(im,"no segments");
return}e.i=f}nl(c,a,{time:b.interval.time,duration:0},0,!1)}else b=b.interval,e=e.T,1<this.qd.length&&(e=this.qd[om(this,a,d.index)],e=e.xf[a].T-e.start),nl(c,f,b,b.time+e,d.na,void 0,!0),d.na=!1};k.yg=function(){return 1};
var lm=function(a){return fh.Yb(a)?"playready":gh.Yb(a)?"widevine":hh.Yb(a)?"clearkey":null},jm=function(a,b,c){if(b){null!==b.P.value&&(c.P=b.P.value);var d=b.timescale.value||1,e=new mi(b.T.value||"0");c.T=parseInt(e.toString(),10)/d;e=new mi(e.toString());var f=b.i,g=b.td,h=0;g?h=g.length:f&&0<f.length&&(h=f.length);for(var l=0;l<h;l++){var m=g?g[l].duration:b.duration.value||0;g&&g[l].time&&(e=new mi(g[l].time.toString()));var p=parseInt(e.toString(),10)/d,u=new mi(e.toString());if(!f||0>=f.length)var D=
null;else{D=f[l].media.value;var B=a.resolve(new J(D)).toString();D=!D&&B.endsWith("/")?B.slice(0,-1):B}c.i.push({time:p,dc:u,duration:m/d,url:D});e.add(m)}(d=c.Lb)||(f=e=d=null,g=!0,(h=b.Ue)&&h.im.value?(g=!1,d=h.im.value,h.Ma.start&&h.Ma.end&&(e=h.Ma.start,f=h.Ma.end)):(e=0,h&&h.Ma.start&&h.Ma.end&&(e=h.Ma.start,f=h.Ma.end,g=!1),b.cd.start&&b.cd.end&&(e=Math.min(e,b.cd.start),f=Math.max(f,b.cd.end),g=!1),f||(f=2048)),d=g?null:{url:d?a.resolve(new J(d)).toString():null,Ma:null!==e&&null!==f?{start:e,
end:f}:null,data:null});c.Lb=d}},km=function(a,b){return{duration:(b.duration.value||0)/(b.timescale.value||1),url:a.resolve(new J(b.media.value)).toString(),ta:b.ta.value?a.resolve(new J(b.ta.value)).toString():null}},qm=function(a,b){return a.replace(/\$Number(%0\d*[diuxXo]){0,1}\$/g,function(c){var d=c.indexOf("%0");if(0>d)return b;d=parseInt(c.substring(d+2,c.length-2),10);switch(c.substr(c.length-2,1)){case "x":return kh(b,16,d);case "X":return kh(b,16,d).toUpperCase();case "o":return kh(b,8,
d);default:return kh(b,10,d)}})},im=z("cast.player.dash.Protocol");var rm=function(a){this.Wg=a;this.Se=null;this.$j=this.Wc=0},sm=function(a,b){b=b.length>a.Wc?b.subarray(0,a.Wc):b;L(a.Se,b);a.Wc-=b.length};
rm.prototype.append=function(a,b,c,d){b=b.subarray(c,d);if(this.Se)return sm(this,b),0==this.Wc&&(this.Wg&&this.Wg("ID3",qi(this.Se),this.$j),this.Wc=this.$j=this.Se=null),0;c=0;73!=b[c++]||68!=b[c++]||51!=b[c++]?c=null:(c+=3,d=b[c++]<<21|b[c++]<<14|b[c++]<<7|b[c++],c+=d);if(null===c)return 0;if(c<=b.length)return this.Wg&&this.Wg("ID3",b.subarray(0,c),a),c;this.Se=new pi(c);this.$j=a;this.Wc=c;sm(this,b);return 0};var tm=function(a,b){var c=new Kg;He(c,1,1);var d=lh(a.df);Ke(c,2,d);He(c,3,a.Kn);if(a=a.Lm){b&&(a=window.atob(a));b=[];for(d=0;d<a.length;d++)b.push(a.charCodeAt(d));b=new Uint8Array(b);He(c,4,b)}He(c,9,1667392371);return c.th()},um=[71,64,1,16,0,1,176,45,255,255,193,0,0,9,34,99,101,224,16,99,98,99,115,0,1,0,0,1,0,16,1,237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237,0,143,19,198,145,164,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,71,64,17,16,127,255,255,255,0,0,0,32,112,115,115,104,0,0,0,0,
237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,71,64,16,48,147,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,79,16,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,1,112,213,251,214,184,46,217,62,78,249,138,228,9,49,238,51,183];var vm=function(a,b,c,d){Pi.call(this);this.Dc=d;this.wb=null;this.Gg=b?new rm(b):null;this.mj=Infinity;this.ao=c;for(this.ta(a);!this.Lg();)this.parse()};q(vm,Pi);vm.prototype.getStartTime=function(){return this.mj};vm.prototype.zj=function(a){Pi.prototype.zj.call(this,a);null===this.wb&&(this.wb=this.Dc?this.fc:this.Td);a=wm(this.wb,this.Dc?this.fc:this.Td);a<this.mj&&(this.mj=a)};
vm.prototype.Pl=function(a,b,c){if(this.Gg){a=new Dh(this.B.subarray(a,b+1));if(c){if(1!=I(a)>>8)return;K(a,2);K(a,2);c=Eh(a);K(a,c)}null===this.wb&&(this.wb=this.Td);this.Gg.append(this.ao+(wm(this.wb,this.fc)-this.wb),Jh(a),0)}};var wm=function(a,b){var c=Math.floor(a/95443.7176888889),d=95443.7176888889*(c-1)+b,e=95443.7176888889*(c+0)+b;b=95443.7176888889*(c+1)+b;c=Math.abs(d-a);var f=Math.abs(e-a);a=Math.abs(b-a);var g=c;f<c&&(d=e,g=f);a<g&&(d=b);return d};var xm=function(a,b,c,d){R.call(this,1836019558);this.u={Sn:a,Dm:b,Tn:c,Zl:d}};q(xm,R);xm.prototype.G=function(){(new Hk(0)).s(this.h);(new ym(this.u)).s(this.h)};var ym=function(a){R.call(this,1953653094);this.u=a};q(ym,R);ym.prototype.G=function(){this.u.Zl&&(new wk(this.u.Zl)).s(this.h);(new Fk(this.u.Sn)).s(this.h);(new qk(this.u.Dm)).s(this.h);(new Gk(this.u.Tn)).s(this.h)};var zm=function(a,b,c){R.call(this,1836019558);this.Fe=b;this.Cn=a;this.zh=c};q(zm,R);
zm.prototype.G=function(){for(var a=Ni(M(this.Cn),void 0,!1);0<a.length;){var b=a.shift();switch(b.Ia()){case 1953653094:(new Am(b,this.Fe,this.zh)).s(this.h);break;default:b.s(this.h)}}};var Am=function(a,b,c){R.call(this,1953653094);this.Fe=b;this.Dn=a;this.zh=c};q(Am,R);
Am.prototype.G=function(){for(var a=Ni(M(this.Dn),void 0,!1),b=null,c=!1,d=!1;0<a.length;){var e=a.shift();switch(e.Ia()){case 1970628964:e instanceof zi&&(b=e);break;case 1952868452:var f=e;f.zc&32&&(this.zh=!1);si(M(f),0,1);e.s(this.h);break;case 1953658222:(new Bm(e,this.zh)).s(this.h);break;case 1935763823:c=!0;e.s(this.h);break;case 1935763834:d=!0;e.s(this.h);break;default:e.s(this.h)}}(new qk(this.Fe)).s(this.h);b&&(d||(new rk(b.Xi?0:8,b.qh)).s(this.h),c||(new pk(0)).s(this.h))};
var Bm=function(a,b){var c=a.zc,d=!1;var e=null;c&1||(d=!0,c|=1);!b||c&1024||c&4||(c|=4,e=0);b=d;S.call(this,1953658222,a.ra,c);this.Xn=b;this.Tk=e;this.En=a};q(Bm,S);Bm.prototype.G=function(){var a=new oi(M(this.En));this.h.A(I(a));this.Xn&&this.h.A(0);null!==this.Tk&&this.h.A(this.Tk);L(this.h,Jh(a))};var Cm=function(a,b,c){this.tn=a;this.sampleRate=b;this.Cb=c;this.iv=void 0},Dm=function(a,b,c,d){this.width=a;this.height=b;this.wd=c;this.Af=d},Em=function(a,b,c,d,e,f){this.Pb=a;this.Sc=b;this.Jm=c;this.an=d;this.audio=e;this.video=f},Fm=function(a){R.call(this,1836019574);this.u=a};q(Fm,R);Fm.prototype.G=function(){(new Ek(this.u.Sc)).s(this.h);var a=this.u.Pb;a&&a.Re&&(new Dk(a.systemId,a.Re)).s(this.h);(new Gm(this.u)).s(this.h);(new Hm(this.u)).s(this.h)};
var Hm=function(a){R.call(this,1953653099);this.u=a};q(Hm,R);Hm.prototype.G=function(){var a=0,b=0,c=this.u.video;c&&(a=c.width,b=c.height);(new Bk(a,b)).s(this.h);(new Im(this.u)).s(this.h)};var Im=function(a){R.call(this,1835297121);this.u=a};q(Im,R);Im.prototype.G=function(){(new Ak(this.u.Sc)).s(this.h);(new zk(this.u.an)).s(this.h);(new Jm(this.u)).s(this.h)};var Jm=function(a){R.call(this,1835626086);this.u=a};q(Jm,R);Jm.prototype.G=function(){(new Km(this.u)).s(this.h)};
var Km=function(a){R.call(this,1937007212);this.u=a};q(Km,R);Km.prototype.G=function(){(new Lm(this.u)).s(this.h);this.u.video&&(new uk).s(this.h)};var Lm=function(a){S.call(this,1937011556,0,0);this.u=a};q(Lm,S);Lm.prototype.G=function(){this.h.A(1);(this.u.video?new Mm(this.u):new Nm(this.u)).s(this.h)};var Nm=function(a){R.call(this,a.Pb?1701733217:1836069985);this.u=a};q(Nm,R);
Nm.prototype.G=function(){L(this.h,[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0]);this.h.A(this.u.audio.sampleRate<<16);(new sk(this.u.audio.tn,this.u.audio.Cb)).s(this.h);this.u.Pb&&(new Om(this.u)).s(this.h)};var Mm=function(a){R.call(this,a.Pb?1701733238:1635148593);this.u=a};q(Mm,R);
Mm.prototype.G=function(){L(this.h,[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);this.h.Fd(this.u.video.width);this.h.Fd(this.u.video.height);L(this.h,[0,72,0,0,0,72,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);(new tk(this.u.video.wd,this.u.video.Af)).s(this.h);this.u.Pb&&(new Om(this.u)).s(this.h)};var Gm=function(a){R.call(this,1836475768);this.u=a};q(Gm,R);Gm.prototype.G=function(){(new Ck(!this.u.video)).s(this.h)};
var Om=function(a){R.call(this,1936289382);this.u=a};q(Om,R);Om.prototype.G=function(){(new yk(this.u.Jm)).s(this.h);(new xk(this.u.Pb.scheme||1667591779,0)).s(this.h);(new Pm(this.u)).s(this.h)};var Pm=function(a){R.call(this,1935894633);this.u=a};q(Pm,R);Pm.prototype.G=function(){var a=this.u.Pb;a&&a.ff&&(new vk(a.Sg,a.ff,a.Km)).s(this.h)};var Qm=function(a,b,c,d,e){Fm.call(this,new Em(a,b,1836069985,1936684398,new Cm(c,d,e),null))};q(Qm,Fm);
var Rm=function(a,b,c,d,e,f){Fm.call(this,new Em(a,b,1635148593,1986618469,null,new Dm(c,d,e,f)))};q(Rm,Fm);var Sm=function(a,b,c){Dh.call(this,a);this.Gg=new rm(b);this.og=c};q(Sm,Dh);Sm.prototype.mh=function(){throw Error("readAudioHeader is not implemented");};var Tm=function(a,b,c,d,e,f,g,h){this.sk=a;this.kg=c;this.wb=d;this.lj=f;this.og=g;this.Qm=h;this.Ne=[];this.sampleRate=0;this.rh=e;this.He=new Uint8Array([0,0])};
Tm.prototype.parse=function(a){for(var b=this.gg(this.kg),c=[],d=null;b.offset<b.buffer.length;){var e=b.Gg.append(a,b.buffer,b.offset);b.offset+=e;if(!e)if(d=b.mh())d.bm&&(this.rh=d.bm),c.push(Hh(b,d.zi)),a+=this.rh/d.sampleRate;else return Ec(Um,"Neither ID3 nor ADTS header was found at "+Jh(b).byteOffset),!1}if(null===d)return Ec(Um,"No ADTS header was found."),!1;b=ki(d.profile,d.sampleRate,d.oj);if(null===b)return Ec(Um,"Cannot generate audio codec private data."),!1;this.Ne=c;this.sampleRate=
d.sampleRate;this.He=b;return!0};Tm.prototype.gg=function(){throw Error("createdataReader is not implemented");};Tm.prototype.getStartTime=function(){return this.wb};Tm.prototype.Xd=function(){throw Error("getTimeScale is not implemented");};var Um=z("cast.player.hls.PackedAudioParser");var Vm=function(a,b){Sm.call(this,a,b)};q(Vm,Sm);Vm.prototype.mh=function(){var a=this.buffer.subarray(this.offset);if(255!=a[0]||240!=(a[1]&240))return null;var b=((a[3]&3)<<11)+(a[4]<<3)+((a[5]&224)>>5),c=a[2]>>2&15,d=a[1]&1?7:9;this.offset+=d;return{profile:(a[2]>>6&3)+1,sampleRate:ii[c],oj:(a[2]<<2&4)+(a[3]>>6&3),zi:b-d}};var Wm=function(a,b,c,d,e,f){var g=a.match("mp4a.67")?103:64;Tm.call(this,g,a,b,c,1024,d,e,f)};q(Wm,Tm);Wm.prototype.gg=function(a){return new Vm(a,this.lj)};
Wm.prototype.Xd=function(){return 1E6};var Xm=[48E3,44100,32E3],Ym=[[64,69,96],[64,70,96],[80,87,120],[80,88,120],[96,104,144],[96,105,144],[112,121,168],[112,122,168],[128,139,192],[128,140,192],[160,174,240],[160,175,240],[192,208,288],[192,209,288],[224,243,336],[224,244,336],[256,278,384],[256,279,384],[320,348,480],[320,349,480],[384,417,576],[384,418,576],[448,487,672],[448,488,672],[512,557,768],[512,558,768],[640,696,960],[640,697,960],[768,835,1152],[768,836,1152],[896,975,1344],[896,976,1344],[1024,1114,1536],[1024,1115,1536],
[1152,1253,1728],[1152,1254,1728],[1280,1393,1920],[1280,1394,1920]],Zm=function(a,b,c){Sm.call(this,a,b,c)};q(Zm,Sm);Zm.prototype.mh=function(){var a=this.buffer.subarray(this.offset),b=0;if(11!=a[b++]||119!=a[b++])return null;b+=2;var c=a[b++];b=c>>6&3;c=Ym[c&63];return void 0===c?(this.og(316),null):{profile:(a[2]>>6&3)+1,sampleRate:Xm[b],oj:6,zi:2*c[b]}};var $m=function(a,b,c,d,e,f){Tm.call(this,165,a,b,c,1536,d,e,f)};q($m,Tm);$m.prototype.gg=function(a){return new Zm(a,this.lj,this.og)};
$m.prototype.Xd=function(){return this.sampleRate};var an=function(a,b){this.g=a;this.Ri=!1;this.di=b;this.sj=this.zn.bind(this);this.qj=this.bh.bind(this)};an.prototype.cancel=function(){this.Ri=!0};an.prototype.bh=function(a){if(!this.Ri){var b=void 0;a&&a.name&&a.message&&(b=a.name+": "+a.message);this.g.Z(203,void 0,b)}};an.prototype.zn=function(a){this.Ri||this.di(a)};var bn=function(a,b,c,d,e){an.call(this,a,b);window.crypto.subtle.decrypt({name:"AES-CBC",iv:d},c,e).then(this.sj,this.qj)};q(bn,an);var cn=[1,2,3,6],dn=z("cast.player.hls.Eac3Reader"),en=function(){Sm.apply(this,arguments)};q(en,Sm);en.prototype.mh=function(){var a=this.buffer.subarray(this.offset);if(11!=a[0]||119!=a[1])return null;var b=a[2]<<8&1792|a[3],c=a[4]>>6&3;3===c?(c=a[4]>>4&3,a=3,c=3>c?Xm[c]/2:void 0):(a=a[4]>>4&3,c=Xm[c]);return void 0===c?(Ec(dn,"Cannot determine sample rate."),null):{profile:0,sampleRate:c,bm:256*cn[a],oj:6,zi:2*(b+1)}};var fn=function(a,b,c,d,e,f){Tm.call(this,166,a,b,c,256,d,e,f)};q(fn,Tm);fn.prototype.gg=function(a){return new en(a,this.lj,this.og)};fn.prototype.Xd=function(){return this.sampleRate};var gn=function(a,b,c){an.call(this,a,b);window.crypto.subtle.importKey("raw",c,{name:"AES-CBC"},!0,["decrypt"]).then(this.sj,this.qj)};q(gn,an);var hn=function(a,b,c,d){d=void 0===d?!1:d;this.Em=new J(a);this.R=b;this.za=c;this.l=0;this.be=this.Ae=this.ze=this.Nb=this.ea=this.ha=this.Xa=null;this.el=this.Rd=this.ui=this.ud=0;this.Tj=this.ri=!1;this.sd=null;this.Zk=this.$k=this.Yk=!1;this.vl=new Map;this.cj=this.Ug=null;this.pl=new Set;this.Qn=d;this.j={jl:!1,Y:!0,hh:null,Ff:"none",Fi:!1,fl:0,Bh:0,bk:0,i:[],Pa:[],kd:[],Qe:!1,hj:this.vl,jk:null,Oc:new Map,ro:new Map}};
hn.prototype.parse=function(a){a=n(a.split("\n"));for(var b=a.next();!b.done;b=a.next())if(!jn(this,b.value))return A(X,"failed to parse HLS playlist"),this.j=null;if(!this.sd&&this.Zk)for(A(X,"No PROGRAM-DATE-TIME attribute, but EXT-X-DATERANGE is present!"),a=n(this.j.i),b=a.next();!b.done;b=a.next())b=b.value,b.lg&&(b.lg=null);a=n(this.j.Pa);for(b=a.next();!b.done;b=a.next()){var c=b.value;b=kn(c);this.j.Oc.has(b)?this.j.Oc.get(b).push(c):this.j.Oc.set(b,[])}a=n(this.j.Oc);for(b=a.next();!b.done;b=
a.next())b=n(b.value),c=b.next().value,b.next().value.length||this.j.Oc.delete(c);if(this.Yk&&this.$k)for(a=0;a<this.j.Pa.length;)b=this.j.Pa[a].codecs,ln(this.j.Pa[a].mimeType,b)?(A(X,"filtered out "+b+" stream"),this.j.Pa.splice(a,1)):a++;mn(this);if(0<this.j.i.length&&(a=this.j.i[0],!a.Qa))for(b=1;b<this.j.i.length;b++)this.j.i[b].Qa&&(a.Sj=!0);Ca("Cast.MPL.SegmentDiscontinuity",0<this.Rd-this.el);return this.j};
var mn=function(a){for(var b=[],c={},d=0;d<a.j.kd.length;c={Ee:c.Ee},d++){var e=a.j.kd[d];"AUDIO"==e.type&&(c.Ee=e.groupId,c.Ee&&((e=a.j.Pa.find(function(f){return function(g){return g.lb.includes(f.Ee)}}(c)))?(e=e.codecs.split(",").find(function(f){return 0>f.search(nn)}))&&(on(a.R,e)||b.push(d)):A(X,"No matching audio group "+c.Ee+" found in video streams!")))}c={};for(d=0;d<b.length;c={Zf:c.Zf},d++)e=b[d]-d,c.Zf=a.j.kd[e].groupId,a.j.kd.splice(e,1),c.Zf&&(a.j.Pa=a.j.Pa.filter(function(f){return function(g){return!g.lb.includes(f.Zf)}}(c)));
a.j.Pa=a.j.Pa.filter(function(f){if(!f.Lf.height||!f.framerate)return!0;var g=f.Lf.height,h=f.Lf.width,l=f.framerate;f=wd({mimeType:f.mimeType,codecs:oh(f.codecs),width:h,height:g,framerate:l});return sh?!!sh(f):!0})},on=function(a,b){return!(2===a&&"mp4a.a5"!=b&&"ac-3"!=b||6===a&&!jh(b)||2!==a&&("mp4a.a5"==b||"ac-3"==b)||6!==a&&jh(b))},ln=function(a,b){return 0<=a.indexOf("audio")||0>b.indexOf(",")&&(0==b.indexOf("mp4a.")||"ac-3"==b)?!0:!1},pn=function(a,b){var c=new J(b);c.hc||(b=a.Em.resolve(c).toString());
return b},jn=function(a,b){b=b.trim();if(!b)return!0;if("#"!=b[0]){if(3!=a.l&&4!=a.l)qn(a,"URI"),a=!1;else{b=pn(a,b);if(3==a.l){a.Xa.Ka=a.sd;null!==a.sd&&(a.sd+=1E3*a.Xa.duration);if(a.Nb||a.ze||a.Ae){a.Xa.bj=a.Nb;a.Xa.Qa=a.ze;a.Xa.Yf=a.Ae;var c=a.Xa;if(a.be)var d=rn(a.be);else{d=a.Xa.Qj;for(var e=new Uint8Array(16),f=15;0<=f;f--)e[f]=d&255,d>>=8;d=e}c.iv=d}a.Ug&&(a.Xa.rb=a.Ug);a.Xa.url=b;a.Xa.Fk=0<=(new J(b)).tb.search(sn);a.j.i.push(a.Xa)}else a.ha.url=b,a.j.Pa.push(a.ha);a.l=2;a=!0}return a}c=
"#EXTINF:";if(0===b.indexOf(c))return d=b.indexOf(","),b=b.substr(c.length,(0<=d?d:b.length)-c.length),2!=a.l&&1!=a.l?(qn(a,"EXTINF"),a=!1):(b=parseFloat(b),a.Qn&&(b=Math.round(b)),a.Xa={Qj:a.ud,url:"",Vb:null,$:a.ui,duration:b,Ke:a.ri,Wb:a.Rd,Ka:a.sd,bj:null,Qa:null,Yf:null,timescale:null,iv:null,na:!1,Sj:a.Tj,rb:null,Fk:!1,lg:a.ea},a.j.bk+=b,a.ui+=b,a.ri=!1,a.Tj=!1,a.ud+=1,a.l=3,a=!0),a;c="#EXT-X-MAP:";if(0===b.indexOf(c))return tn(a,b.substr(c.length));c="#EXT-X-KEY:";if(0===b.indexOf(c))return un(a,
b.substr(c.length));c="#EXT-X-SESSION-KEY:";if(0===b.indexOf(c))return un(a,b.substr(c.length),!0);c="#EXT-X-DISCONTINUITY-SEQUENCE:";if(0===b.indexOf(c))return b=b.substr(c.length),1!=a.l?(qn(a,"EXT-X-DISCONTINUITY-SEQUENCE"),a=!1):(a.Rd=parseInt(b,10),a.el=a.Rd,a=!0),a;if(0===b.indexOf("#EXT-X-DISCONTINUITY"))return 2!=a.l&&1!=a.l?(qn(a,"EXT-X-DISCONTINUITY"),a=!1):(a.ri=!0,a.Rd++,a.l=2,a=!0),a;c="#EXT-X-PROGRAM-DATE-TIME:";if(0===b.indexOf(c))return b=b.substr(c.length),2!=a.l&&3!=a.l&&1!=a.l?
(qn(a,"EXT-X-PROGRAM-DATE-TIME"),a=!1):(c=Date.parse(b),isNaN(c)?(A(X,"cannot parse #EXT-X-PROGRAM-DATE-TIME: "+b),a=!1):(a.sd=c,a.j.fl=c,a=a.j.Fi=!0)),a;c="#EXT-X-BYTERANGE:";if(0===b.indexOf(c))return b=b.substr(c.length),3!=a.l?(qn(a,"EXT-X-BYTERANGE"),a=!1):(b=vn(a,b),a.Xa.Vb=b,a.cj=b.end,a=!0),a;c="#EXT-X-DATERANGE:";if(0===b.indexOf(c))return wn(a,b.substr(c.length));if(0===b.indexOf("#EXTM3U"))return 0!=a.l?(qn(a,"EXTM3U"),a=!1):(a.l=1,a=!0),a;c="#EXT-X-PLAYLIST-TYPE:";if(0===b.indexOf(c)){b=
b.substr(c.length);if(1!=a.l)qn(a,"EXT-X-PLAYLIST-TYPE"),a=!1;else{if("EVENT"==b||"VOD"==b)a.j.hh=b;a=!0}return a}if(0===b.indexOf("#EXT-X-ENDLIST"))return 2!=a.l&&1!=a.l?(qn(a,"EXT-X-ENDLIST"),a=!1):(a.j.Y=!1,a=!0),a;c="#EXT-X-STREAM-INF:";if(0===b.indexOf(c)){b=b.substr(c.length);if(1!=a.l&&2!=a.l)qn(a,"EXT-X-STREAM-INF"),a=!1;else{d=[];var g=b.match("BANDWIDTH=([0-9]+)");if(g){c=parseInt(g[1],10);(g=Y(b,'AUDIO="([^"]*)"'))&&d.push(g);e=!1;f="video/mp2t";var h=Y(b,'CODECS="([^"]*)"');if(h)if(e=
!0,ln(f,h)){a.Yk=!0;var l=a.R;7==l||1==l||2==l||6==l?f="audio/mp4":4==l&&(f="audio/mpeg",h="")}else a.$k=!0,h=h.replace("mp4a.40.34","mp4a.6B"),1==a.za&&(f="video/mp4");else h="avc1.4D401E,mp4a.40.2";l={width:null,height:null};if(g=b.match("RESOLUTION=(\\d+x\\d+)"))g=g[1].split("x"),2===g.length&&(l.width=parseInt(g[0],10),l.height=parseInt(g[1],10));a.ha={Vj:"variant",mimeType:f,bitrate:c,codecs:h,codecsProvided:e,Lf:l,lb:d,framerate:Y(b,"FRAME-RATE=([0-9]+)"),Yj:Y(b,'SUBTITLES="([^"]*)"'),hi:Y(b,
'CLOSED-CAPTIONS="([^"]*)"'),url:""};a.j.jl=!0;a.l=4;a=!0}else A(X,"no BANDWIDTH attribute"),a=!1}return a}c="#EXT-X-TARGETDURATION:";if(0===b.indexOf(c))return b=b.substr(c.length),1!=a.l?(qn(a,"EXT-X-TARGETDURATION"),a=!1):(a.j.Bh=parseInt(b,10),a=!0),a;c="#EXT-X-MEDIA-SEQUENCE:";if(0===b.indexOf(c))return b=b.substr(c.length),1!=a.l?(qn(a,"EXT-X-MEDIA-SEQUENCE"),a=!1):(a.ud=parseInt(b,10),a=!0),a;c="#EXT-X-MEDIA:";return 0===b.indexOf(c)?xn(a,b.substr(c.length)):!0},qn=function(a,b){A(X,"unexpected "+
b+": state "+a.l)},xn=function(a,b){if(2!=a.l&&1!=a.l)return qn(a,"EXT-X-MEDIA"),!1;var c=null,d=b.match('URI="([^"]*)"');null!==d&&(c=pn(a,d[1]));var e=Y(b,"TYPE=(AUDIO|VIDEO|SUBTITLES|CLOSED-CAPTIONS)"),f=Y(b,'GROUP-ID="([^"]*)"'),g=Y(b,'CHARACTERISTICS="([^"]*)"'),h=Y(b,'NAME="([^"]*)"'),l=Y(b,'LANGUAGE="([^"]*)"'),m=Y(b,'ASSOC-LANGUAGE="([^"]*)"'),p=Y(b,'CHANNELS="([^"]*)"');switch(e){case "SUBTITLES":var u="webvtt";var D="text/vtt";break;case "CLOSED-CAPTIONS":u="webvtt";D="text/mp2t";break;
case "AUDIO":if(!c)return a.j.Qe=!0;D=0==a.R?"video/mp2t":"audio/mp4";u=nh(a.R);break;default:return!0}var B=!1;d=b.match('DEFAULT="?(YES|NO)"?');null!==d&&(B="YES"===d[1]);var ya=!1;d=b.match('AUTOSELECT="?(YES|NO)"?');null!==d&&(ya="YES"===d[1]||B);var ja=!1;d=b.match('FORCED="?(YES|NO)"?');null!==d&&(ja="YES"===d[1]);(c||"CLOSED-CAPTIONS"==e)&&a.j.kd.push({Vj:"media",type:e,mimeType:D,codecs:u,url:c,name:h,language:l,assocLanguage:m,isDefault:B,groupId:f,characteristics:g,autoSelect:ya,channels:p,
forced:ja});return!0},vn=function(a,b){var c=b.split("@");b=parseInt(c[0],10);if(1<c.length)a=parseInt(c[1],10);else{if(null==a.cj)return A(X,"Expected EXT-X-BYTERANGE to either have offset or to come after another EXT-X-BYTERANGE"),null;a=a.cj+1}return{start:a,end:a+b-1}},wn=function(a,b){if(1!=a.l&&2!=a.l)return qn(a,"EXT-X-DATERANGE"),!1;a.ea={};var c=Y(b,'ID="([^,"]*)"');c&&(a.ea.id=c);if(c=Y(b,'CLASS="([^,"]*)"'))a.ea.rangeClass=c;if(c=Y(b,'START-DATE="([^,"]*)"'))a.ea.startDate=c;if(c=Y(b,'END-DATE="([^,"]*)"'))a.ea.endDate=
c;if((c=Y(b,'END-ON-NEXT=([^,"]*)'))&&"YES"!==c)return A(X,"END-ON-NEXT must only have the value 'YES', found: "+c),a.ea=null,!0;a.ea.endOnNext=c?!0:!1;var d=Y(b,'(?<!PLANNED-)DURATION=([^,"]+)');c=Y(b,'PLANNED-DURATION=([^,"]+)');if(d){var e=parseFloat(d);if(isNaN(e))return A(X,"Expected a numeric value for duration, found: "+d),a.ea=null,!0;a.ea.duration=e}if(c){d=parseFloat(c);if(isNaN(d))return A(X,"Expected a numeric value for planned duration, found: "+c),a.ea=null,!0;a.ea.plannedDuration=d}if(c=
Y(b,'SCTE35-CMD="([^,"]*)"'))a.ea.scte35Cmd=c;if(c=Y(b,'SCTE35-OUT="([^,"]*)"'))a.ea.scte35Out=c;if(c=Y(b,'SCTE35-IN="([^,"]*)"'))a.ea.scte35In=c;a.ea.clientAttributes={};b=n(b.split(","));for(c=b.next();!c.done;c=b.next())c=c.value,c=c.trim(),(c=c.match('(^X-[^"]+)="?([^"]+)"?'))&&c[1]&&c[2]&&(a.ea.clientAttributes[c[1]]=c[2]);if(!yn(a))return a.ea=null,!0;a.pl.add(a.ea.id);return a.Zk=!0},yn=function(a){var b=a.ea.id;if(!b)return A(X,"Missing ID attribute in EXT-X-DATERANGE!"),!1;var c=a.ea.startDate;
if(!c&&!a.pl.has(b))return A(X,"Missing START-DATE attribute in EXT-X-DATERANGE!"),!1;if(c&&(b=Date.parse(c),isNaN(b)))return A(X,"Could not parse START-DATE value in EXT-X-DATERANGE: "+c),!1;if(c=a.ea.endDate)if(b=Date.parse(c),isNaN(b))return A(X,"Could not parse END-DATE value in EXT-X-DATERANGE: "+c),!1;if(b=a.ea.duration)if(c=parseFloat(b),0>c)return A(X,"DURATION MUST NOT be negative in EXT-X-DATERANGE: "+b),!1;if(a=a.ea.plannedDuration)if(c=parseFloat(a),0>c)return A(X,"PLANNED-DURATION MUST NOT be negative in EXT-X-DATERANGE: "+
a),!1;return!0},tn=function(a,b){if(1!=a.l&&2!=a.l&&3!=a.l)return qn(a,"EXT-X-MAP"),!1;var c=Y(b,'URI="([^"]*)"');if(!c)return A(X,"expected #EXT-X-MAP to have URI: "+b),!1;c=pn(a,c);b=Y(b,'BYTERANGE="([^"]*)"');var d=null;if(b&&(d=vn(a,b),!d))return!1;c={url:c,Vb:d,xk:null};b=c.Vb;d="url="+c.url+",byterange=";a.Ug=b?""+d+b.start+"-"+b.end:d+"all";a.vl.set(a.Ug,c);return!0},un=function(a,b,c){c=void 0===c?!1:c;if(2!=a.l&&3!=a.l&&1!=a.l)return qn(a,c?"EXT-X-SESSION-KEY":"EXT-X-KEY"),!1;var d;if(d=
c)0<=b.indexOf("METHOD=NONE")?(A(X,"EXT-X-SESSION-KEY METHOD cannot be NONE."),d=!1):d=!0,d=!d;if(d)return!1;var e;if(0<=b.indexOf("METHOD=AES-128")){if(e=b.match('URI="([^"]*)"'))a.Nb=pn(a,e[1]);a.be=Y(b,"IV=0[x|X]([0-9a-fA-F]+)");a.ze=null;a.j.Ff="aes_128";c&&zn(a);return!0}if(0<=b.indexOf("METHOD=SAMPLE-AES")){var f=0<=b.indexOf("METHOD=SAMPLE-AES-CTR");e=b.match('KEYFORMAT="([^"]*)"');if(!e)return A(X,"Missing KEYFORMAT for SAMPLE-AES"),!0;d=e[1];if("com.widevine"!==d&&"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"!==
d)return A(X,"KEYFORMAT '"+d+"' is not supported for SAMPLE-AES."),!0;if(1!=mh("enable-hls-sample-aes")&&!f)return A(X,"SAMPLE-AES not support by Cast platform."),!1;if(e=b.match('URI="data:.*?,(.*?)"'))if(e=e[1],"com.widevine"===d){if(c)return A(X,"EXT-X-SESSION-KEY is not designed for V1 Widevine DRM, ignoring\n                 key."),!0;a:{try{var g=JSON.parse(window.atob(e))}catch(l){A(X,"Failed to decode widevine data!");g=!1;break a}var h=g.key_ids;h&&Array.isArray(h)&&0!=h.length?(a.ze={Kn:g.provider,
Lm:g.content_id,df:h[0]},g=!0):(A(X,"no Widevine key ID"),g=!1)}if(!g)return!1}else{if(g="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===d){a:{try{h=window.atob(e)}catch(l){A(X,"Failed to decode widevine PSSH data!");g=!1;break a}a.Ae=Hd(h);g=!0}g=!g}if(g)return!1}a.be=Y(b,"IV=0[x|X]([0-9a-fA-F]+)");a.Nb=null;a.j.Ff="widevine";c&&zn(a);return!0}if(0<=b.indexOf("METHOD=NONE"))return a.ze&&(a.Tj=!0),a.Nb=null,a.ze=null,a.Ae=null,a.be=null,!0;A(X,"Unsupported KEY.");return!1},zn=function(a){null!==
a.j.jk?A(X,"Master playlist cannot have more than 1 session key per key format!"):null===a.Nb&&a.Ae&&(a.j.jk={bj:null,Qa:null,Yf:a.Ae,iv:rn(a.be)})},Y=function(a,b){return(a=a.match(b))?a[1]:null},rn=function(a){if(null===a)return null;for(var b=new Uint8Array(16),c=15,d=a.length;0<d;d-=2,c--)b[c]=parseInt(1<d?a.substr(d-2,2):a.substr(0,1),16);return b},kn=function(a){var b=a.Lf;return"mimeType="+a.mimeType+";bitrate="+a.bitrate+";codecs="+a.codecs+(a.framerate?";framerate="+a.framerate:"")+(a.Yj?
";subtitles="+a.Yj:"")+(a.hi?";cc="+a.hi:"")+(b?";resolution="+b.width+"x"+b.height:"")+(a.lb.length?";audioGroups="+a.lb.toString():"")},X=z("cast.player.hls.Parser"),nn=/avc1\.|hvc1\.|dvh1\./,sn=/\.(mp4|m4a|mp4a|m4s)$/;var An=function(a){this.cb=-1;this.Lh=this.j=null;this.Qk=new Map;this.qn=this.gj.bind(this);this.Fn=a;this.rf=0;Yk.Ci();this.ik=!0};An.prototype.gj=function(a,b){for(var c=0,d=null,e=0;e<b.length;e++)if(null!==b[e].Ka){c=e;d=b[e].Ka;break}if(null===d)return null;b=-1;e=Infinity;for(var f=0;f<a.length;f++){var g=Math.abs(a[f].Ka-d);if(100>g)return f-c;g<e&&(b=f,e=g)}return 0>b||e>500*this.j.Bh?-1:b-c};
var Bn=function(a,b){b=b[0].Qj;for(var c=0;c<a.length;c++)if(a[c].Qj==b)return c;return null},Cn=function(a){if(a.Lh&&a.j){var b=0,c=a.Lh.i,d=a.j.i,e=a.gj(c,d);null!==e&&0<=e?(c=c[e],b=(d[0].Ka-c.Ka)/1E3+c.$):a.ik&&(e=a.gj(d,c),null!==e&&0<=e&&(c=c[0],b=c.$-Math.abs((d[0].Ka-c.Ka)/1E3)));d.forEach(function(f){f.$+=b});a.Lh=null}};k=An.prototype;
k.update=function(a,b){b=void 0===b?!1:b;if(0>this.cb)this.j=a,Cn(this);else if(0==a.i.length)A(Dn,"new manifest has no segment");else{var c=this.j.i,d=c[this.cb],e=a.i,f={Vd:Bn,tl:"sequence number"};var g={Vd:this.qn,tl:"program date time"};g=this.j.Fi&&a.Fi?this.Fn?[f,g]:[g,f]:[f];a:{f=b;f=void 0===f?!1:f;g=n(g);for(var h=g.next();!h.done;h=g.next()){h=h.value;b:{var l=this.cb;var m=h.Vd,p=f;p=void 0===p?!1:p;var u=m(c,e);if(null===u){u=m(e,c);if(null===u){l=-1;break b}u*=-1}m=l-u;!(l<u)||this.j.Y&&
p?m>=e.length&&(e.length=0,Array.prototype.push.apply(e,c),m=l):(this.ik?(p=u,e.unshift.apply(e,ha(c.slice(l,p))),this.rf=p):(l=c[l],0<e.length&&(e[0].Ke=!0),e.splice(0,0,l)),m=0);l=m}if(0>l)A(Dn,"No match was found using "+h.tl);else{c=l;break a}}c=-1}!(0>c)||this.j.Y&&b||(A(Dn,"New segments are appended after current"),0<e.length&&(e[0].Ke=!0),e.splice(0,0,d),c=0);if(this.ik){if(b=c,d=d.$,this.j&&this.j.i.length&&a.i.length){e=0;f=a.i;g=this.j.i[0].Ka;h=this.j.i[0].$;if(0<this.rf){l=a.i[this.rf].Ka;
for(p=this.rf;0<p;p--)f[p-1].$=f[p].$-f[p-1].duration;this.rf=0}else l=a.i[0].Ka;null!==g&&null!==l?e=(l-g)/1E3+h:0<=b&&(e=d-f[b].$);d=n(a.i);for(b=d.next();!b.done;b=d.next())b.value.$+=e}}else for(0>c?(d=this.j.i[0],d=(this.cb-c)*d.duration+d.$):d=d.$-e[c].$,e=n(e),b=e.next();!b.done;b=e.next())b.value.$+=d;this.cb=0>c?0:c;this.j=a}};k.next=function(){var a=this.cb+1;return a<this.j.i.length?(this.cb=a,!0):!1};k.Cc=function(){return!this.j.Y&&this.cb==this.j.i.length-1};
k.Oa=function(){if(!this.j)return null;var a=this.j.i,b=a[0].$,c=a.length-1;a=a[c].$+a[c].duration;this.j.Y&&(a-=3*this.j.Bh,a<b&&(a=b));return{start:b,end:a}};k.seek=function(a){for(var b=this.j.i,c=n(b),d=c.next();!d.done;d=c.next())d.value.na=!1;a=En(this,a);if(null===a)return null;c=Fn(this,a);if(-1===c)return null;this.cb=c;b[c].na=!0;return a};k.zg=function(a){a=En(this,a);if(null===a)return null;a=Fn(this,a);return-1===a?null:this.j.i[a]};
var En=function(a,b){a=a.Oa();if(!a)return null;b<a.start&&(b=a.start);b>a.end&&(b=a.end);return b},Fn=function(a,b){a=a.j.i;for(var c=a.length-1;0<=c;c--)if(b>=a[c].$)return c;return-1},Gn=function(a){return 0>a.cb?null:a.j.i[a.cb]};An.prototype.xh=function(a){a&&0!==a.i.length&&(this.Lh=a)};An.prototype.Oe=function(a){a=this.Qk.get(a);return"number"===typeof a?a:null};var Dn=z("cast.player.hls.iterator");var Hn=function(a,b,c){this.Dc=c;c=O(a,1952867444,void 0,!0);var d=0;if(this.Dc){var e=O(a,1953658222,void 0,!0);null!==e&&(e=e.oh,d+=0<e.length?e[0]:0);a=O(a,1701606260,void 0,!0);null!==a&&(e=a.ij,1===a.si&&(a=e[0],d-=0<a?a:0))}this.mc=(c.getStartTime()+d)/b};Hn.prototype.getStartTime=function(){return this.mc};var In=function(a,b,c,d){an.call(this,a,b);Aa.__platform__.crypto.unwrapKey("raw",c,d,{name:"RSA-OAEP",hash:{name:"SHA-256"}},{name:"AES-CBC",length:128},!1,["decrypt"]).then(this.sj,this.qj)};q(In,an);var Z=function(a,b,c){w.call(this);this.g=a;this.R=b;this.za=c;this.V=null;this.iterator=new An(1==this.g.preferSequenceNumberForPlaylistMatching);this.Hl=this.xn.bind(this);this.Mk=this.Rm.bind(this);this.Nj=this.lh=null;this.Wl=-1;this.wf=null;this.m=new E;gd(this.m);x(this.m,"success",this.vn,!1,this);x(this.m,"error",this.Dl,!1,this);x(this.m,"timeout",this.Dl,!1,this);this.I=new Rg;this.I.setResponse=this.Vk.bind(this);this.ef=this.Bf=this.Zi=this.Nb=this.Je=this.fk=null;this.fe=this.qf=!1;this.Wf=
!0;this.Za=null;this.Bm={};this.Gc=this.ma=null;this.Hc=new Map;this.Ud=-1;a=(b=r.navigator.userAgent.match(/CrKey\/(\d+)\.(\d+)\.[\d]{6}/))&&parseFloat(b[1])||-1;b=b&&parseFloat(b[2])||-1;-1===a||-1===b?(A(Jn,"Platform version not detected in user agent!"),a=!1):a=a>=Kn&&b>=Ln;this.Dc=a;this.ke=null};q(Z,w);k=Z.prototype;k.xh=function(a){this.iterator.xh(a)};k.M=function(){this.reset();this.m.N()};
k.reset=function(){this.Zi=this.Gc=null;this.Wf=!0;this.Za=this.wf=null;this.m.abort();this.Bf&&(this.Bf.cancel(),this.Bf=null);this.Je&&(this.Je.cancel(),this.Je=null);null!==this.ma&&clearTimeout(this.ma)};k.xn=function(a){this.Bf=null;this.ef=a;this.ma=setTimeout(this.Mk,0)};k.vn=function(a){this.Vk(rd(a.target))};k.Vk=function(a){var b=this;if(a){a=new Uint8Array(a);if(this.g.processLicense&&(a=this.g.processLicense(a),Id(a))){a.then(function(c){Mn(b,c)});return}Mn(this,a)}else this.g.Z(313)};
var Mn=function(a,b){a.Bf=a.g.Ji?new In(a.g,a.Hl,b,a.fk):new gn(a.g,a.Hl,b)};Z.prototype.Dl=function(){this.g.Z(314,new Sg(this.I.url,this.m.ac,pd(this.m),this.m.getAllResponseHeaders(),rd(this.m)))};Z.prototype.Rm=function(){var a=this.wf.info,b=this.wf.data;a&&a.iv&&this.ef&&b&&(C(Jn,"decrypt segment"),this.Je=new bn(this.g,this.Hn.bind(this,a),this.ef,a.iv,b),this.ma=this.wf=null)};Z.prototype.Hn=function(a,b){this.Cf(a,new Uint8Array(b))};
Z.prototype.Cf=function(a,b){C(Jn,"process segment");this.Je=null;var c;if(null!=this.za)switch(this.za){case 0:var d=new vm(b,this.g.processMetadata,a.$,this.Dc);break;case 1:d=Nn(this,a,b),a.rb&&(c=this.Hc.get(a.rb))}if(null!=this.R)switch(this.R){case 2:case 6:case 1:if(a.Fk)d=Nn(this,a,b);else{switch(this.R){case 2:d=$m;break;case 6:d=fn;break;default:d=Wm}b=new d(this.V.S.codecs,b,a.$,this.g.processMetadata,this.g.Z.bind(this.g),this.g.decodeContentId);var e=a.Ke||a.na;d=this.Bm;var f=a.Qa||
void 0,g=a.iv||void 0,h=d.endOfLastSegment;h=e||void 0===h?b.wb:h;if(b.parse(h)){b.wb=h;d.endOfLastSegment=h+b.rh/b.sampleRate*b.Ne.length;d=new ri(2*b.kg.length);e&&(e=null,f&&(e={systemId:gh,url:null,Re:tm(f,b.Qm),ff:new eh(lh(f.df),!1),Km:g,Sg:g?g.length:16,scheme:1667392371}),C(Um,"Built AudioMoov with objectType(0x"+b.sk.toString(16)+") and sampleRate("+b.sampleRate+")"),(new Qm(e,b.Xd(),b.sk,b.sampleRate,b.He)).s(d));g=h*b.Xd();e=b.rh/b.sampleRate*b.Xd();h=b.Ne;if(f){f=b.Ne;for(var l=[],m=0;m<
f.length;m++){var p=f[m].length;if(0==p%16)l.push({km:[{bi:16,ci:p-16}]});else{var u=p%16;l.push({km:[{bi:16,ci:p-16-u},{bi:u,ci:0}]})}}f=l}else f=void 0;(new xm(e,g,h,f)).s(d);(new Ik(b.Ne)).s(d);d=qi(d);Ji(d)}else d=null;f=d;if(!f){this.g.Z(315);return}d=b;b=f}break;case 4:break;case 7:d=Nn(this,a,b);break;default:d=new vm(b,this.g.processMetadata,a.$,this.Dc)}if(a.Ke||a.na)this.Za=null,a.na=!1;f={time:a.$,duration:a.duration};h=d?d.getStartTime():f.time;if(g=null===this.Za&&Infinity!=h)C(Jn,"start: "+
h),this.Za=4==this.R?0:h,null===this.iterator.Oe(a.Wb)&&(e=this.iterator,a=a.Wb,h=f.time-h,C(Dn,"Offset "+h+" is set for discontinuity #"+a),e.Qk.set(a,h));a=this.Nj;this.Nj=null;nl(a,b,f,this.Za||0,g,c,d instanceof Hn||d instanceof Tm)};
var Pn=function(a){a.g.Ji&&!a.fk?Aa.__platform__.cryptokeys.getKeyByName("CKP").then(function(b){a.fk=b;On(a)}):On(a)},On=function(a){a.ef=null;a.I.url=a.Nb;a.I.skipRequest=!1;if(a.g.updateLicenseRequestInfo&&(a.g.updateLicenseRequestInfo(a.I),a.I.skipRequest))return;a.m.Be=a.I.withCredentials;a.m.pc=Math.max(0,a.I.timeoutInterval);a.m.send(a.I.url,void 0,void 0,a.I.headers)};k=Z.prototype;
k.processSegment=function(a,b,c){this.Nj=c;this.wf={data:b,info:a};(c=a.bj)?this.Nb==c&&null!==this.ef?this.ma=setTimeout(this.Mk,0):(this.Nb=c,Pn(this)):this.Cf(a,b)};
k.updateSegmentRequestInfo=function(a){var b=Gn(this.iterator);if(b){var c;if(this.fe)this.fe=!1,this.Gc=c=b.rb,b=this.V.D.hj.get(c),c=b.Vb,b=b.url;else{if(1===this.za||7===this.R)b.timescale=this.Hc.get(b.rb)||null;a.le=b;this.Wf&&(b.na=!0,this.Wf=!1);a.interval=this.getSegmentInterval();c=b.Vb;b=b.url}c&&(a.headers={},a.headers.Range="bytes="+c.start+"-"+c.end);a.url=b}};k.getSegmentInterval=function(){var a=Gn(this.iterator);return a?{time:a.$,duration:a.duration}:{time:0,duration:0}};k.Oa=function(){return this.iterator.Oa()};
k.Cc=function(){return this.iterator.Cc()};var Qn=function(a){var b=Gn(a.iterator);if(b){var c=a.ke&&a.ke.Qa&&!b.Qa,d=b.Qa&&(b.Qa.df!==a.Zi||b.Ke)&&(0===a.R||0===a.za);if(b.Sj||c||d)a.qf=!0;b.rb!==a.Gc&&(a.fe=!0)}};Z.prototype.Ec=function(){var a=Gn(this.iterator),b=this.iterator.next();b&&(this.ke=a,Qn(this));return b};Z.prototype.seek=function(a){var b=Gn(this.iterator);a=this.iterator.seek(a);"number"===typeof a&&(this.ke=b,Qn(this));return a};
Z.prototype.nd=function(){this.Ud=this.V.duration;Rn(this,this.V.D)};var Rn=function(a,b){a.iterator.update(b,a.g.mediaElement&&a.g.mediaElement.paused);a.lh&&(mk(a.lh),a.lh=null)};k=Z.prototype;k.wh=function(a,b,c){this.Wl=a;this.lh=b;this.Wf=!0;this.V&&this.V.D&&this.V.D.Y&&this.V.Tc();this.V=c;c.D?Rn(this,c.D):c.load()};k.getQualityLevel=function(){return this.Wl};k.zg=function(a){return this.iterator.zg(a)};k.na=function(a){this.Wf=!0;this.Za=a};
k.vh=function(a){this.V.D.hj.get(this.Gc).xk=a;this.Hc.set(this.Gc,O(a,1835296868,void 0,!0).Fa)};var Nn=function(a,b,c){var d=b.timescale||a.Hc.get(b.rb)||null;!a.Hc.get(b.rb)&&d&&a.Hc.set(b.rb,d);if(null===d)throw Error("Unable to derive timescale");return new Hn(c,d,a.Dc)};k=Z.prototype;
k.Pe=function(){var a=Gn(this.iterator),b=a.rb;if(b&&b!==this.Gc){if(a=this.V.D.hj.get(b).xk)this.fe=!1,this.Gc=b,this.Hc.get(b)||this.Hc.set(b,O(a,1835296868,void 0,!0).Fa);return a}b=this.ke&&this.ke.Qa&&!a.Qa;if(a.Sj||b)return this.qf=!1,(b=mh("hls-sample-aes-init-segment"))&&b.clear_leader?Hd(window.atob(b.clear_leader)):null;if(!a.Qa||!a.iv)return null;this.qf=!1;this.Zi=a.Qa.df;b=a.Qa;a=a.iv;var c=this.g.decodeContentId;var d=(d=mh("hls-sample-aes-init-segment"))?{Vl:d.pssh_offset,nl:d.key_id_offset,
ml:d.iv_offset,lm:Hd(window.atob(d.template))}:{Vl:196,nl:530,ml:548,lm:new Uint8Array(um)};var e=d.lm,f=e.set,g=new ri;(new Dk(gh,tm(b,c))).s(g);f.call(e,qi(g),d.Vl);e.set(lh(b.df),d.nl);e.set(a,d.ml);return e};k.vg=function(){var a=Gn(this.iterator);return a?a.Yf:null};k.ee=function(){Qn(this);var a=this.qf||this.fe;return a||1!==this.za&&7!==this.R?a:(a=Gn(this.iterator))&&a.rb!==this.Gc?this.fe=!0:this.qf};k.getDuration=function(){return this.Ud};k.Oe=function(a){return this.iterator.Oe(a)};
var Jn=z("cast.player.hls.Adaptation"),Sn=function(a,b){Z.call(this,a,3);this.ej=b};q(Sn,Z);var Tn=function(a,b){(a=null!==a.ej.Oe(b.Wb))||C(Jn,"Can't process text segment for discontinuity #"+b.Wb);return a};Sn.prototype.Ec=function(){var a=this.iterator;var b=a.cb+1;return(a=b<a.j.i.length?a.j.i[b]:null)&&Tn(this,a)?Z.prototype.Ec.call(this):!1};
Sn.prototype.seek=function(a){var b=this.iterator.zg(a),c=this.ej.zg(a);return b&&c&&b.Wb!==c.Wb?(A(Jn,"Main stream has discontinuity #"+c.Wb+" for time "+a+" but text stream has #"+b.Wb),Z.prototype.seek.call(this,a)):b&&Tn(this,b)?Z.prototype.seek.call(this,a):null};
Sn.prototype.processSegment=function(a,b,c){var d={time:a.$,duration:a.duration},e=!1,f=0;a=this.ej.Oe(a.Wb);C(Jn,"text segment offset is "+a);a?(f=d.time-a,e=!0):(A(Jn,"text segment is processed without a PTS"),b=new Uint8Array(0));nl(c,b,d,f,e)};var Kn=1,Ln=42;var Un=function(a){w.call(this);var b=this;this.g=a;this.Cj=[];this.jf=new Map;this.hf=new Map;this.Yi=!1;this.dh=function(c){if(b.g.onTimedMetadata)b.g.onTimedMetadata("daterangeenter",c)};this.rj=function(c){if(b.g.onTimedMetadata)b.g.onTimedMetadata("daterangeexit",c)};this.Jl=function(c){b.g.onTimedMetadata&&c.startTime===c.endTime&&!b.Yi&&(b.g.onTimedMetadata("daterangeenter",c),b.g.onTimedMetadata("daterangeexit",c))};this.Rn=[{ye:void 0,xe:1,Sd:function(c){return b.dh(c)}},{ye:0,xe:1,Sd:function(c){return b.dh(c)}},
{ye:2,xe:1,Sd:function(c){return b.dh(c)}},{ye:1,xe:2,Sd:function(c){return b.rj(c)}},{ye:1,xe:0,Sd:function(c){return b.rj(c)}},{ye:0,xe:2,Sd:function(c){return b.Jl(c)}}];this.Bj=new Map;this.Dj()};q(Un,w);k=Un.prototype;k.Dj=function(){this.g.mediaElement&&(x(this.g.mediaElement,"timeupdate",this.vf,!1,this),x(this.g.mediaElement,"seeking",this.uf,!1,this),x(this.g.mediaElement,"seeked",this.tf,!1,this))};
k.ek=function(){this.g.mediaElement&&(y(this.g.mediaElement,"timeupdate",this.vf,!1,this),y(this.g.mediaElement,"seeking",this.uf,!1,this),y(this.g.mediaElement,"seeked",this.tf,!1,this))};k.uf=function(){this.Yi=!0};k.tf=function(){this.Yi=!1};k.M=function(){w.prototype.M.call(this);this.Cj=[];this.Bj.clear();this.dh=function(){};this.rj=function(){};this.Jl=function(){};this.ek()};
k.vf=function(){for(var a=this.g.mediaElement.currentTime,b=n(this.Cj),c=b.next();!c.done;c=b.next()){c=c.value;var d=this.Bj.get(c),e=a<c.startTime?0:a>c.endTime?2:1;if(d!==e){for(var f=n(this.Rn),g=f.next();!g.done;g=f.next())g=g.value,g.ye===d&&g.xe===e&&g.Sd(c);this.Bj.set(c,e)}}};
k.nd=function(a){if(this.g.onTimedMetadata&&a){for(var b=a.fl,c=[],d=n(a.i),e=d.next();!e.done;e=d.next())if((e=e.value.lg)&&this.jf.has(e.id)){var f=this.jf.get(e.id);f=Object.assign(f,e);this.jf.set(e.id,f)}a=n(a.i);for(e=a.next();!e.done;e=a.next())if(d=e.value.lg)e=d,e.rangeClass&&this.hf.has(e.rangeClass)&&(f=this.hf.get(e.rangeClass),f.endOnNext&&(f.endTime=e.startTime)),e.startTime=(Date.parse(e.startDate)-b)/1E3,e.endDate?e.endTime=(Date.parse(e.endDate)-b)/1E3:e.duration||e.endOnNext?e.duration&&
(e.endTime=e.startTime+e.duration):e.endTime=e.startTime,Vn(this,d)&&(c.push(d),d.rangeClass&&this.hf.set(d.rangeClass,d),this.jf.set(d.id,d));b=n(c);for(c=b.next();!c.done;c=b.next())c=c.value,this.Cj.push(c),this.g.onTimedMetadata("daterangechanged",c)}};
var Vn=function(a,b){return a.jf.has(b.id)||b.rangeClass&&a.hf.has(b.rangeClass)&&(a=a.hf.get(b.rangeClass),b.startTime<a.endTime)?!1:b.endDate&&b.startTime>b.endTime?(A(Wn,"END-DATE MUST be equal to or later than the value of the START-DATE attribute."),!1):b.endOnNext&&(b.duration||b.endDate)?(A(Wn,"An EXT-X-DATERANGE tag with an END-ON-NEXT=YES must NOT contain DURATION or END-DATE!"),!1):b.endOnNext&&!b.rangeClass?(A(Wn,"An EXT-X-DATERANGE tag with an END-ON-NEXT=YES MUST have a CLASS attribute!"),
!1):b.duration&&b.endDate&&.001<Math.abs(b.endTime-(b.startTime+1E3*parseFloat(b.duration)))?(A(Wn,"Time of START-DATE + DURATION doesn't equal END-DATE! startDate="+(b.startDate+", endDate="+b.endDate+", duration=")+b.duration),!1):!0},Wn=z("cast.player.hls.DateRangeManager");var Xn=function(a,b,c,d,e,f){f=void 0===f?!0:f;w.call(this);this.g=a;this.yf=b;this.bc=new fk(this);this.Aa=null;this.jo=this.Hh.bind(this);this.S=c;this.duration=-1;this.D=null;this.R=d;this.za=e;this.Oj=f;this.af=this.Mg=void 0;this.ki=0};q(Xn,w);k=Xn.prototype;k.M=function(){this.bc.N();null!==this.Aa&&(clearTimeout(this.Aa),this.Aa=null);w.prototype.M.call(this)};k.load=function(){this.Hh()};
k.Tc=function(){this.duration=-1;this.D=null;this.bc.abort();null!==this.Aa&&(clearTimeout(this.Aa),this.Aa=null)};k.Hh=function(){this.S.url?(C(Yn,"update: "+this.S.url),this.bc.ce(this.g,this.S.url)):Ec(Yn,"cannot load stream without url")};
k.eh=function(a){if(a){var b=new hn(this.S.url,this.R,this.za,this.g.roundSegmentDurationToNearestInteger),c=this.D;if(this.D=b.parse(a)){this.D.Y&&(this.af=!1,"EVENT"==this.D.hh&&(this.Mg=!1));if(c&&c.Y){var d=this.D;a=c.i[0];b=c.i[c.i.length-1];var e=d.i[0];d=d.i[d.i.length-1];a.url!==e.url||b.url!==d.url||a.Vb!==e.Vb||b.Vb!==d.Vb||a.Ka!==e.Ka||b.Ka!==d.Ka?(this.ki=0,"EVENT"!=c.hh&&(this.D.i.length==c.i.length?this.Mg=!0:this.D.i.length>c.i.length&&(this.Mg=!1)),this.af=!this.D.Y):(this.ki++,3==
this.ki&&(this.af=!0))}this.D.Y&&!this.af?(c=1E3*this.D.Bh,this.Aa=setTimeout(this.jo,c),C(Yn,"update in: "+c),this.g.enableDurationOnLive&&(this.duration=Number.POSITIVE_INFINITY)):this.duration=this.D.bk;this.yf.nd(this)}else this.g.Z(412)}else this.g.Z(312,dk(this.bc))};var Yn=z("cast.player.hls.Playlist");var Zn=function(a,b,c,d,e,f){w.call(this);this.g=a;this.bc=new fk(this);this.mf=b;this.nn=c;this.yf=d;this.R=e;this.za=f;this.Na=[];this.Wa=[];this.ob=[];this.we=[];this.Ib={};this.Qe=!1;this.D=null};q(Zn,w);Zn.prototype.M=function(){this.bc.N();for(var a=n(this.Wa),b=a.next();!b.done;b=a.next())b.value.N();this.Wa.length=0;this.ob.length=0;a=n(this.Na);for(b=a.next();!b.done;b=a.next())b.value.N();this.Na.length=0;this.we=[];this.Ib={};w.prototype.M.call(this)};
Zn.prototype.load=function(){this.bc.ce(this.g,this.g.url)};
Zn.prototype.eh=function(a){if(a){var b=this.bc.Ad;if(b)if(this.D=(new hn(b,this.R,this.za,this.g.roundSegmentDurationToNearestInteger)).parse(a)){this.Qe=this.D.Qe;if(this.D.jl){if(0===this.D.Pa.length){this.g.Z(411);return}$n(this);b=this.nn;a=this.D.jk;if(null!==a){for(var c,d,e=n(b.ga.D.Pa),f=e.next();!f.done;f=e.next()){f=f.value;var g=ph(f.codecs);if(void 0!==g){d=f.mimeType+';codecs="'+g+'"';break}}e=n(b.ga.D.kd);for(f=e.next();!f.done;f=e.next())if(g=f.value,f=g.mimeType,g=g.codecs,sd(f)||
ud(g))if(g=qh(g),void 0!==g){c=f+';codecs="'+g+'"';break}e=this.D.Ff;"widevine"===e&&(Bl(b.Ld,[e],d,c),b.Ld=null);a.Yf&&b.hg.createSession(a.Yf);b.fj.zd()}c={};d=n(this.D.Pa);for(b=d.next();!b.done;b=d.next())b=b.value,void 0===c[b.url]?(a=new Xn(this.g,this.yf,b,this.R,this.za),this.Na.push(a),c[b.url]=this.Na.length-1):this.Na[c[b.url]].S.lb=this.Na[c[b.url]].S.lb.concat(b.lb);for(c=0;c<this.Na.length;c++)d=this.Na[c].S,d.lb.length&&(this.we[c]||(this.we[c]=[]),this.we[c]=this.we[c].concat(d.lb))}else{switch(this.R){case 1:case 7:c=
"mp4a.40.2";d="audio/mp4";break;case 2:c="ac-3";d="audio/mp4";break;case 6:c="mp4a.a6";d="audio/mp4";break;case 4:c="";d="audio/mpeg";break;case 5:c="mp4a.40.2";d="video/mp2t";break;case 8:c="mp4a.40.5";d="video/mp2t";break;default:c="avc1.4D401E,mp4a.40.2",d="video/mp2t"}1==this.za&&(d="video/mp4");c=new Xn(this.g,this.yf,{Vj:"variant",mimeType:d,bitrate:0,codecs:c,Lf:{width:null,height:null},framerate:null,lb:[],Yj:null,hi:null,url:b},this.R,this.za);this.Na.push(c)}c=n(this.D.kd);for(d=c.next();!d.done;d=
c.next())d=d.value,b=0,"AUDIO"==d.type&&void 0!==this.R&&(b=this.R),b=new Xn(this.g,this.yf,d,b),"CLOSED-CAPTIONS"==d.type&&this.g.onCue||this.Wa.push(b);ao(this);this.mf.onManifestReady()}else this.g.Z(411)}else this.g.Z(311,dk(this.bc))};
var bo=function(a){for(var b={},c=0;c<a.Wa.length;c++){var d=a.Wa[c].S;if("AUDIO"==d.type&&void 0!==d.groupId){var e=d.groupId,f={};e in b||(b[e]=f);b[d.groupId][d.language+d.name]=c}else a.ob.push(kb(a.Wa[c]))}return b},ao=function(a){var b=bo(a),c=[];for(e in b)b.hasOwnProperty(e)&&c.push(b[e]);b=Object.keys(b);if(0==c.length)a.ob=a.Wa;else{var d=Object.keys(c[0]).length;var e=0;for(var f=1;f<c.length;f++){var g=Object.keys(c[f]).length;g<d&&(d=g,e=f)}0!=e&&A(co,"Group has different number of tracks.");
for(var h in c[e])a.Ib[h]=[c[e][h]];for(h=0;h<c.length;h++)if(h!=e){d=c[h];f={};for(var l in d)a.Ib[l]?a.Ib[l].push(d[l]):(f.Sh=b[h],a.Na.every(function(p){return function(u){return u.S.lb.includes(p.Sh)}}(f))&&(a.Ib[l]=[d[l]])),f={Sh:f.Sh}}c=[];for(var m in a.Ib)a.Ib[m].sort(),l=a.Ib[m].find(function(p){return a.Wa[p].S.isDefault}),l=void 0!==l?l:a.Ib[m][0],c.push(kb(a.Wa[l]));a.ob.unshift.apply(a.ob,ha(c))}},eo=function(a,b){var c=a.ob[b],d=c.S;if("AUDIO"!=d.type){if(a=a.Wa.find(function(g){return g.S==
d}))return a}else for(var e=n(a.Ib[d.language+d.name]),f=e.next();!f.done;f=e.next())if(f=f.value,a.Wa[f].Oj)return a.Wa[f];A(co,"No playlist is selectable with "+b+".");return c},fo=function(a,b){var c=a.we[b];a.Wa.forEach(function(d){"AUDIO"==d.S.type&&(d.S.groupId&&c.includes(d.S.groupId)?d.Oj=!0:d.Oj=!1)})},$n=function(a){a.D.Oc.size&&(a=Array.from(a.D.Oc.values()).reduce(function(b,c){return b+c.length},0),v("Cast.MPL.FallbackCdnCount",a))},co=z("cast.player.hls.MasterPlaylist");var go=function(a,b,c){this.g=a;this.R=b;this.za=void 0===c?0:c;this.hg=this.Ld=this.fj=this.mf=null;this.ji={};this.ga=null;this.Va=new Z(a,void 0,this.za);this.ya=this.ia=null;this.Ti=this.Vi=void 0;this.mg=null};k=go.prototype;k.load=function(a){this.mg=new Un(this.g);this.hg=this.Ld=this.fj=this.mf=a;this.ga=new Zn(this.g,this,this,this,this.R,this.za);this.ga.load();v("Cast.MPL.HlsVideoSegmentFormat",this.za)};
k.Tc=function(){this.mg&&this.mg.N();this.Va.N();this.ia&&(this.ia.N(),this.ia=null);this.ya&&(this.ya.N(),this.ya=null);this.ga&&(this.ga.N(),this.ga=null)};
k.onManifestReady=function(){var a=this.getDefaultAudioStreamIndex();this.enableStream(a,!0);a=!0;for(var b=n(this.ga.Na),c=b.next();!c.done;c=b.next())if(c=c.value,!ln(c.S.mimeType,c.S.codecs)){a=!1;break}a&&void 0!==this.R&&(a=this.Va,a.R=this.R,a.za=void 0);if(this.g.onManifestReady)this.g.onManifestReady();this.mf.onManifestReady();this.mf=null};
k.getDefaultAudioStreamIndex=function(){var a=this.ga.ob,b=-1;if(this.ga.Qe||!a.length)return b;for(var c=0;c<a.length;c++){var d=a[c].S;if("AUDIO"===d.type)if(d.isDefault){b=c;break}else"mp4a.a5"!==d.codecs&&"mp4a.a6"!==d.codecs||-1!==b?-1===b&&(b=c):b=c}return b+1};k.getStreamCount=function(){return this.ga.ob.length+1};
k.enableStream=function(a,b,c){if(0<a){a=eo(this.ga,a-1);var d=a.S.type;"AUDIO"==d?this.ia&&this.ia.V==a||(this.ia&&(this.ia.N(),this.ia=null),b&&(b=nh(this.R),ih("audio/mp4",b)?(this.ia=new Z(this.g,void 0!==this.R?this.R:1),this.ia.V=a,this.Va.V&&this.ia.xh(this.Va.V.D),c&&c.sg()):A(ah,"audio codec "+b+" is not supported, will not create separate source buffer for it."))):"SUBTITLES"==d&&(this.ya&&(this.ya.N(),this.ya=null),b&&(this.ya=new Sn(this.g,this.Va),this.ya.V=a,this.Va.V&&this.ya.xh(this.Va.V.D)))}};
k.isStreamEnabled=function(a){return null!==ho(this,a)};var ho=function(a,b){0==b?a=a.Va:(b=eo(a.ga,b-1),a=null!==a.ia&&a.ia.V==b?a.ia:null!==a.ya&&a.ya.V==b?a.ya:null);return a};k=go.prototype;k.getQualityLevel=function(a){return ho(this,a).getQualityLevel()};
k.getStreamInfo=function(a){var b=[],c=new Map,d=new Map;if(0==a){var e=this.ga.Na;for(var f=0;f<e.length;f++){var g=e[f].S.bitrate;var h=e[f].S.url;a={index:f,bitrate:g};c.has(g)?c.get(g).push(a):(c.set(g,[a]),b.push(g));g=h.replace(io,"");d.has(g)?d.get(g).push(a):d.set(g,[a])}e=this.ga.Na[0].S;a=e.codecs;if(this.ia)for(f=e.codecs.split(","),g=0;g<f.length;g++)if(0==f[g].search(nn)){a=f[g];break}}else{e=this.ga.ob[a-1].S;b.push(0);c.set(0,[{index:0,bitrate:0}]);a=e.codecs;var l=new Ug({isDefault:e.isDefault,
url:e.url,characteristics:e.characteristics,groupId:e.groupId,autoSelect:e.autoSelect,channels:e.channels,forced:e.forced,assocLanguage:e.assocLanguage})}return new Tg(a,e.mimeType,b,e.language,e.name,null,l,e.codecsProvided,c,d)};
k.wh=function(a,b,c,d){var e=ho(this,a),f=0==a?this.ga.Na[b]:eo(this.ga,a-1);if(0==a){fo(this.ga,b);if(this.ia&&this.ia.V)a:{for(a=0;a<this.ga.ob.length;a++){var g=this.ga.ob[a].S;if("AUDIO"==g.type&&g.language+g.name==this.ia.V.S.language+this.ia.V.S.name){a+=1;break a}}a=-1}else a=this.getDefaultAudioStreamIndex();this.enableStream(a,!0,d);C(ah,"Switched to media "+a+".")}e.wh(b,c,f)};k.reset=function(a){ho(this,a).reset()};k.Oa=function(a){return ho(this,a).Oa()};
k.nd=function(a){this.mg.nd(a.D);void 0===this.Vi&&(Ca("Cast.MPL.Live",a.D.Y),this.Vi=a.D.Y);void 0===this.Ti&&(this.Ti="EVENT"==a.D.hh?!0:!1);this.Va.V==a?this.Va.nd():null!==this.ia&&this.ia.V==a?this.ia.nd():null!==this.ya&&this.ya.V==a&&this.ya.nd();var b=a.S.Vj;if(!this.ji[b]||"none"===this.ji[b]){var c=a.D.Ff;switch(c){case "widevine":this.Ld&&(Bl(this.Ld,[c]),this.Ld=null);break;case "aes_128":this.g.Ji&&(c="aes_128_ckp",a.D.Ff=c);Gd(c,2);break;case "none":break;default:A(ah,"Unexpected HLS protection type")}this.ji[b]=
c}this.fj.zd()};k.updateLicenseRequestInfo=function(){};k.getDuration=function(){return this.Va.getDuration()};k.seek=function(a,b){return ho(this,a).seek(b)};k.Ec=function(a){return ho(this,a).Ec()};k.isLiveStream=function(){return this.Vi||!1};k.isEventStream=function(){return this.Ti||!1};k.isLiveSeekableRangeMovingWindow=function(){var a=this.Va.V;return a?a.Mg:void 0};k.isLiveDone=function(){var a=this.Va.V;return a?a.af:void 0};k.Cc=function(a){return ho(this,a).Cc()};
k.getSegmentInterval=function(a){return ho(this,a).getSegmentInterval()};k.ee=function(a){return ho(this,a).ee()};k.vh=function(a,b){ho(this,a).vh(b)};k.Pe=function(a){return ho(this,a).Pe()};k.vg=function(a){return ho(this,a).vg()};k.updateSegmentRequestInfo=function(a,b){ho(this,a).updateSegmentRequestInfo(b)};k.processSegment=function(a,b,c){b.$d?nl(c,b.data,{time:0,duration:0},0,!0):ho(this,a).processSegment(b.le,b.data,c)};k.yg=function(){return 2};
k.Ck=function(a){var b=this.ga.Na,c=this.ga.D.Oc;if(void 0===a)return 0<c.size;if(a>=b.length)return!1;a=kn(b[a].S);c=n(c);for(b=c.next();!b.done;b=c.next()){b=n(b.value);var d=b.next().value;b.next();if(a===d)return!0}return!1};go.prototype.getStreamInfo=go.prototype.getStreamInfo;go.prototype.getQualityLevel=go.prototype.getQualityLevel;go.prototype.isStreamEnabled=go.prototype.isStreamEnabled;go.prototype.enableStream=go.prototype.enableStream;go.prototype.getStreamCount=go.prototype.getStreamCount;
go.prototype.getDefaultAudioStreamIndex=go.prototype.getDefaultAudioStreamIndex;var io=/\/[^\/]+.m3u[8]?.{0,}/;z("cast.player.smooth");var lo=function(a){this.Y=new Nl("IsLive");this.Rk=new Ml("DVRWindowLength");this.Sc=new Ml("TimeScale");for(this.duration=new Ml("Duration");a;){if("SmoothStreamingMedia"==a.nodeName){Sl(a.attributes,this);break}a=a.nextElementSibling}this.streams=[];this.Pb=null;if(a)for(this.Sc.value||(this.Sc.value=1E7),a=a.firstElementChild;null!==a;a=a.nextElementSibling)if("StreamIndex"==a.nodeName){var b=new jo(a,this.Sc.value);0<b.ub.length&&this.streams.push(b)}else"Protection"==a.nodeName&&(this.Pb=new ko(a.firstElementChild))},
mo=function(a,b){W.call(this,a,b)};q(mo,W);mo.prototype.parse=function(a){switch(a){case "H264":case "AVC1":this.value="avc1.4D40";break;case "AACL":this.value="mp4a.40.2";break;case "EC-3":this.value="mp4a.a6";break;case "AACH":this.value="mp4a.40.5";break;case "DFXP":case "TTML":this.value="ttml";break;default:this.value=null}};var no=function(){V.call(this,"CodecPrivateData");this.Af=this.wd=null};q(no,V);
no.prototype.parse=function(a){V.prototype.parse.call(this,a);a=a.split("00000001");3==a.length&&(this.wd=lh(a[1]),this.Af=lh(a[2]))};var oo=function(){V.call(this,"CodecPrivateData");this.value=null};q(oo,V);oo.prototype.parse=function(a){V.prototype.parse.call(this,a);a&&(this.value=lh(a))};var po=function(a){this.bitrate=new Ml("Bitrate");this.format=new mo("FourCC",a)},qo=function(a){po.call(this,"ttml");Sl(a.attributes,this)};q(qo,po);
var ro=function(a){po.call(this,"avc1.4D401E");this.width=new Ml("MaxWidth");this.height=new Ml("MaxHeight");this.Cb=new no;Sl(a.attributes,this)};q(ro,po);var so=function(a){po.call(this,"mp4a.40.2");this.sampleRate=new Ml("SamplingRate");this.channels=new Ml("Channels");this.Cb=new oo;Sl(a.attributes,this)};q(so,po);
var jo=function(a,b){this.type=new W("Type");this.url=new W("Url");this.name=new W("Name");this.language=new W("Language");Sl(a.attributes,this);this.nc=0;switch(this.type.value){case "video":this.nc=2;break;case "audio":this.nc=1;break;case "text":this.nc=3}this.i=[];this.ub=[];var c=new mi("0");for(a=a.firstElementChild;null!==a;a=a.nextElementSibling)if("QualityLevel"==a.nodeName){var d=a;switch(this.nc){case 2:d=new ro(d);break;case 1:d=new so(d);break;case 3:d=new qo(d);break;default:d=null}d&&
d.format.value&&this.ub.push(d)}else if("c"==a.nodeName){var e=a;d=b;var f=e.attributes.getNamedItem("t");f&&c.reset(f.value);f=null;var g=-1;e.attributes.getNamedItem("d")&&(f=parseInt(e.attributes.d.value,10),g=f/d);e=(e=e.attributes.getNamedItem("r"))?parseInt(e.value,10):1;for(var h=0;h<e;h++)this.i.push({time:parseInt(c.toString(),10)/d,duration:g,dc:new mi(c.toString()),offset:0,size:0,url:null}),null!==f&&c.add(f)}c=this.i.length-1;for(a=0;a<c;a++)if(d=this.i[a],f=this.i[a+1],0>d.duration){f=
f.dc;g=d.dc;if(f.ka==g.ka)f=0;else{if(!ni(f,g))throw Error("Value must be smaller than the current value");h=e=0;for(var l=1,m=0;m<f.ka.length;m++){var p=parseInt(f.ka.charAt(f.ka.length-1-m),10)-(m<g.ka.length?parseInt(g.ka.charAt(g.ka.length-1-m),10):0)-h;h=0>p?1:0;e+=(h?10+p:p)*l;l*=10}if(h)throw Error("Value must be smaller than the current value");if(e>Number.MAX_SAFE_INTEGER)throw Error("Difference lost precision");f=e}d.duration=f/b}},ko=function(a){this.systemId=new Rl("SystemID");Sl(a.attributes,
this);this.Ef=null;this.systemId.value&&fh.Yb(this.systemId.value)&&(this.Ef=gk(Hd(window.atob(a.textContent.trim()))))};var to=function(a){Q.call(this,a);this.Gf=null;this.kb=1E7;this.ng=null};q(to,Q);k=to.prototype;
k.nj=function(a){var b=a.Pb;if(b){b=b.Ef;if(null===b){this.Qb("invalid protection info");return}this.Gf=b}a.Sc.value&&(this.kb=a.Sc.value);a.duration.value&&(this.duration=a.duration.value/this.kb);ok(this,1==a.Y.value);this.Uj=!!this.Y&&this.host.enableSmoothLiveRefresh;this.Y&&(this.duration=-1,a.Rk.value?(this.ng=a.Rk.value/this.kb,this.Si=!1,this.Ui=!0):(this.ng=Infinity,this.Si=!0,this.Ui=!1));b=Infinity;for(var c=n(a.streams),d=c.next();!d.done;d=c.next())d=d.value,(2==d.nc||1==d.nc)&&d.i[0].time<
b&&(b=d.i[0].time);c=[];a=n(a.streams);for(d=a.next();!d.done;d=a.next()){var e=d.value;if(0==e.ub.length){this.Qb("no quality levels");return}d=e.ub[0].format.value;if(null===d){this.Qb("unknown media format");return}var f=null;if(2==e.nc)a:{f=b;var g=e.ub[0];if(null===g.Cb.wd)this.Qb("no sps"),f=null;else{g=g.Cb.wd[3].toString(16);1==g.length&&(g="0"+g);for(var h=uo(2,"video/mp4",d+g.toLowerCase(),e.language.value,e.name.value),l=0;l<e.ub.length;l++){g=e.ub[l];if(null===g.bitrate.value||null===
g.width.value||null===g.height.value||null===g.Cb.wd||null===g.Cb.Af){this.Qb("invalid video quality");f=null;break a}var m=this.Gf,p=this.kb,u=g.width.value,D=g.height.value,B=g.Cb.wd,ya=g.Cb.Af,ja=new ri;(new Rm(m,p,u,D,B,ya)).s(ja);h.F.push(vo(e.url.value,g.bitrate.value,f,e.i,qi(ja)))}f=h}}else if(1==e.nc)a:{f=b;g=uo(1,"audio/mp4",d,e.language.value,e.name.value);for(h=0;h<e.ub.length;h++){l=e.ub[h];if(null===l.bitrate.value||null===l.sampleRate.value){this.Qb("invalid audio quality");f=null;
break a}(m=l.Cb.value)||(m=l.channels.value,m=ki(2,l.sampleRate.value,null!==m?m:2));D=m;if(null===D){this.Qb("invalid audio codec private data");f=null;break a}m=this.Gf;p=this.kb;u=l.sampleRate.value;B="mp4a.a6"==d?166:64;ya=new ri;(new Qm(m,p,B,u,D)).s(ya);g.F.push(vo(e.url.value,l.bitrate.value,f,e.i,qi(ya)))}f=g}else if(3==e.nc){f=b;g=uo(3,"text/mp4",d,e.language.value,e.name.value,!1);for(h=0;h<e.ub.length;h++)g.F.push(vo(e.url.value,e.ub[h].bitrate.value||0,f,e.i,null));f=g}f&&("mp4a.a6"==
d?c.push(f):this.o.push(f))}Array.prototype.push.apply(this.o,c)};k.Fj=function(){this.host.Z(331,dk(this.jd))};k.Qb=function(a){this.host.Z(431,void 0,a,wo)};k.yj=function(a){var b=new DOMParser;a=Og(b,vb(a));a.firstChild&&(a=new lo(a.firstChild),this.nj(a))};k.gk=function(){this.Gf&&Bl(this.Nc,["playready"])};k.updateLicenseRequestInfo=function(a){a.headers={};a.headers["content-type"]="text/xml;charset=utf-8";a.url=this.Gf.url};k.Pe=function(a){a=this.o[a];a.jb=!1;return a.F[a.ca].Lb.data};
k.reset=function(a){Q.prototype.reset.call(this,a);this.o[a].na=!0};k.updateSegmentRequestInfo=function(a,b){Q.prototype.updateSegmentRequestInfo.call(this,a,b);var c=this.o[a];a=c.index;c=c.F[c.ca];var d=c.url;d=d.replace(xo,c.bitrate.toString());d=d.replace(yo,c.i[a].dc.toString());b.url=this.uri.resolve(new J(d)).toString().toString()};
k.processSegment=function(a,b,c){var d=this.o[a],e=b.data,f=b.interval;if(b.$d)nl(c,e,{time:f.time,duration:0},0,!1);else{if(this.Y){var g=this.kb;var h=(h=O(e,1970628964,xi,!0))?h.Ei(g):null;if(null===h||0==h.length)A(wo,"no new segments");else{a=this.o[a];a:if(g=a.F[a.ca].i,0!=h.length){var l=h[0].time,m=lk(l,g);if(0>m)if(m=g[g.length-1],Math.abs(m.time+m.duration-l)<.5*m.duration)m=g.length;else{A(wo,"new segments are out of sync with segments list.");break a}if(!(m+h.length<=g.length))for(g.splice(m,
g.length-m),h=n(h),l=h.next();!l.done;l=h.next())g.push(l.value)}zo(a,this.ng)}this.Nc.zd();if(b.headers&&(b=b.headers.match('ChildTrack="([^"]*)"'))){b=n(b[1].split(/,|;/));for(a=b.next();!a.done;a=b.next())if(a=a.value.match("([^=]*)=([0-9]*)"))for(g=a[1],h=n(this.o),l=h.next();!l.done;l=h.next())if(l=l.value,g==l.name){g=l.F[0].i;a=a[2];h=parseInt(a,10)/this.kb;(0==g.length||g[g.length-1].time<h)&&g.push({time:h,duration:0,dc:new mi(a),offset:0,size:0,url:null});break}b=n(this.o);for(l=b.next();!l.done;l=
b.next())zo(l.value,this.ng)}}b=f.time+d.F[d.ca].T;if(3==d.type)e=(e=O(e,1835295092))?M(e):null;else{a=b*this.kb;g=2==d.type;h=Ni(e,void 0,!1);l=new ri(e.byteLength+1024);m=null;for(e=0;0<h.length;){var p=h.shift();switch(p.Ia()){case 1836019558:m=O(M(p),1970628964,Ai,!0);(new zm(p,a,g)).s(l);break;case 1835295092:var u=null;m&&(u=m.Kj?m.Kj:new Uint8Array([]));e=u?u.length:0;(new Ik(u?[u,M(p)]:[M(p)])).s(l);break;default:p.s(l)}}a=qi(l);Ji(a,e);e=a}null===e?this.host.Z(332,void 0,"no media data",
wo):(nl(c,e,f,b,d.na,void 0,!0),d.na=!1)}};k.yg=function(){return 3};
var uo=function(a,b,c,d,e,f){return{name:e,type:a,enabled:!1,mimeType:b,na:!0,F:[],language:d,jb:void 0!==f?f:!0,codecs:c,index:-1,ca:-1}},vo=function(a,b,c,d,e){return{url:a||"",bitrate:b,T:c,i:d,L:null,P:null,Lb:e?{url:null,Ma:null,data:e}:null}},zo=function(a,b){var c=a.F[0].i,d=0;if(b&&Infinity!==b)for(var e=0,f=2*c[0].duration,g=c.length-1;0<=g;g--)if(e+c[g].duration<b+f)e+=c[g].duration;else{d=g+1;break}else d=c.length-1E4;0<d&&a.index>=d&&(c.splice(0,d),a.index-=d)},wo=z("cast.player.smooth.Protocol"),
xo=RegExp("{bitrate}|{Bitrate}"),yo=RegExp("{start time}|{start_time}");t("cast.player.api.CreateDashStreamingProtocol",function(a){v("Cast.MPL.StreamingProtocolType",1);return new hm(a)});t("cast.player.api.CreateHlsStreamingProtocol",function(a,b,c){v("Cast.MPL.StreamingProtocolType",2);return new go(a,b,c)});t("cast.player.api.CreateSmoothStreamingProtocol",function(a){v("Cast.MPL.StreamingProtocolType",3);return new to(a)}); }).call(window);
}
